{"version":3,"sources":["types/Background.ts","images/Biomorph.png","types/Characters.ts","images/CreateCrew.png","images/Cyborg.png","images/icons/Add.png","images/icons/Crew.png","images/icons/Captain.png","images/icons/Delete.png","images/icons/Treasury.png","images/ImportCrew.png","images/Mystic.png","images/Psionicist.png","images/RoboticsExpert.png","images/Rogue.png","images/Tekker.png","images/Unknown.png","images/UseSample.png","images/Veteran.png","images/index.ts","redux/actions.ts","Utils.ts","types/Metadata.ts","components/InputControl.tsx","types/State.ts","components/statusbar/ExitComponent.tsx","images/icons/Exit.png","components/StatusBarTable.tsx","components/characterDialog/SelectBackground.tsx","components/characterDialog/SelectGear.tsx","components/characterDialog/SelectPowers.tsx","components/characterDialog/SelectPowerUpgrades.tsx","components/characterDialog/SelectStatsImprovements.tsx","components/characterDialog/CharacterCreationWrapper.tsx","components/AddCharacterComponent.tsx","components/statusbar/CrewSizeComponent.tsx","components/statusbar/TreasuryComponent.tsx","components/AddCrewDialog.tsx","components/AddCrewMemberComponent.tsx","components/CharacterComponent.tsx","components/CrewMemberComponent.tsx","components/NameComponent.tsx","components/statusbar/CrewNameComponent.tsx","components/statusbar/SaveLoadDialog.tsx","components/statusbar/FileComponent.tsx","images/icons/Save.png","components/statusbar/StatusBarComponent.tsx","pages/CrewPage.tsx","data/Samples/Firefly.sg","pages/LandingPage.tsx","index.tsx","redux/reducer.ts"],"names":["BackgroundEnum","StatsEnum","CharactersEnum","CyborgIcon","CyborgPng","BiomorphIcon","BiomorphPng","MysticIcon","MysticPng","PsionicistIcon","PsionicistPng","RoboticsExpertIcon","RoboticsExpertPng","RogueIcon","RoguePng","TekkerIcon","TekkerPng","VeteranIcon","VeteranPng","getBackgroundImage","background","Biomorph","Cyborg","Mystic","Psionicist","RoboticsExpert","Rogue","Tekker","Veteran","UnknownPng","UseSampleIcon","UseSamplePng","CreateCrewIcon","CreateCrewPng","ImportCrewIcon","ImportCrewPng","TreasuryIcon","TreasuryPng","CrewIcon","CrewPng","AddIcon","AddPng","DeleteItemIcon","DeletePng","ADD_SOLDIERS","SET_CAPTAINS_NAME","SET_FIRST_MATE","SET_CAPTAIN","SET_CREW","SET_CREWNAME","SoldierGroups","allPowers","PowerList","allBackgrounds","BackgroundList","allGear","GearItems","numberOfCrewMembers","state","store","getState","Soldiers","reduce","acc","soldier","amount","Captain","FirstMate","numberOfSoldiers","length","getStatStrings","stats","Object","keys","map","stat","getPower","name","find","power","getBackground","isCorePower","powerName","backgroundName","corePowers","isCaptain","type","getGearDetails","gearName","gear","InputComponent","currentState","tooltip","cssClass","callback","useState","setName","inputVisible","setInputVisible","inputRef","useRef","useLayoutEffect","current","focus","ref","className","id","onChange","event","currentTarget","value","onKeyDown","code","onBlur","style","placeSelf","padding","onClick","InitialCrewState","Credits","Title","ExitComponent","compactView","clickFn","history","useHistory","dispatch","useDispatch","e","payload","push","title","src","gridArea","alt","baseCaptain","Characters","baseFirstMate","StatusBarTable","character","statModifications","gearSlotsUsed","improvedStats","textAlign","width","level","gearSlots","backgroundInformation","Backgrounds","getBackgroundInfos","bg","SelectBackground","updateAndContinue","selectedBackground","setBackground","Fragment","backgroundEnumEntry","undefined","mandatory","optional","powers","description","gearList","SelectGear","updateGear","finish","selectedGear","setSelectedGear","useEffect","isGearSelected","gr","maxGear","getGearByType","gearType","filter","getCSSClasses","withMax","itemTooLarge","gearItem","onClickHandler","selGear","maxRange","getDamageModifierString","weapon","damageModifier","equi","fontSize","notes","armour","armourModifier","sort","a","b","localeCompare","SelectPowers","powerNames","updatePowers","selectedPowers","setSelectedPowers","activationValue","strain","category","effect","previewPower","setPreviewPower","isPowerSelected","pwr","infos","maxCorePowersSelected","powersRemaining","maxNonCorePowersSelected","maxPowersSelected","Array","isArray","join","float","onMouseOver","idx","findIndex","slice","includes","SelectPowerUpgrades","upgradePowers","x","concat","SelectStatsImprovements","updateStatsCallback","selections","setSelections","mand","merged","assign","fromEntries","entries","key","set","get","Map","isStatSelected","statName","statModificationsForBackground","maxStatsReached","chooseOptionals","marginTop","statValue","CharacterCreationDialog","baseCharacter","setCharacter","updatedStats","setUpdatedStats","statsSelected","setStatsSelected","powersUpgraded","setPowersUpgraded","setGear","finishPowerUpgrades","ReactDOM","createPortal","gridTemplateColumns","minWidth","updatedStatsWithGear","forEach","Armour","Move","Fight","updatedStatsIncludingGear","preventDefault","stopPropagation","val","document","getElementById","AddCharacterComponent","showDialog","setDialogShown","CrewSizeComponent","console","error","TreasuryComponent","useContext","ReactReduxContext","treasury","text","GenericTreasuryComponent","listOfSoldiers","SoldierList","AddCrewDialogComponent","connect","soldiersState","credits","soldiers","setSoldiers","soldierCount","specialistCount","group","Specialist","specialist","hiringCost","cost","canSubmit","soldierSelection","isSpecialist","list","Standard","half","Math","ceil","clear","margin","solderIdx","sol","renderSoldierTableEntries","soldiersToRender","currentCrew","fontWeight","soldierIdx","paddingLeft","paddingTop","amt","sold","AddCrewMemberComponent","CharacterComponent","cat","CrewMemberComponent","NameComponent","currentStateValue","inputCallback","CrewNameComponent","SaveLoadDialog","closeCallback","fileName","setFileName","validFileName","setFileNameValidity","test","anchor","createElement","body","appendChild","json","JSON","stringify","blob","Blob","url","window","URL","createObjectURL","href","download","click","revokeObjectURL","removeChild","saveToFileNew","FileComponent","openDialog","setOpenDialog","StatusbarComponent","CrewPage","captain","firstMate","LandingPage","htmlFor","accept","display","reader","FileReader","onload","ev","parse","target","result","readAsText","querySelector","files","item","Crew","AppContainer","path","component","createStore","action","ReduxActions","compose","devToolsExtension","f","StrictMode"],"mappings":"k1nCAEYA,E,uGAAAA,K,oBAAAA,E,gBAAAA,E,gBAAAA,E,wBAAAA,E,gCAAAA,E,cAAAA,E,gBAAAA,E,mBAAAA,M,KCFG,ICmCHC,EAuBAC,ED1DG,MAA0B,qCEA1B,MAA0B,uCCA1B,MAA0B,mCCA1B,MAA0B,gCCA1B,GCAA,IDAA,IAA0B,kCEA1B,MAA0B,mCCA1B,MAA0B,qCCA1B,MAA0B,uCCA1B,MAA0B,mCCA1B,MAA0B,uCCA1B,MAA0B,2CCA1B,MAA0B,kCCA1B,MAA0B,mCCA1B,MAA0B,oCCA1B,MAA0B,sCCA1B,MAA0B,oCCsB5BC,EAAaC,EACbC,EAAeC,EACfC,EAAaC,EACbC,EAAiBC,EACjBC,EAAqBC,EACrBC,EAAYC,EACZC,EAAaC,EACbC,EAAcC,EAEdC,EAAqB,SAACC,GAC/B,OAAQA,GACJ,KAAKpB,EAAeqB,SAAU,OAAOhB,EACrC,KAAKL,EAAesB,OAAQ,OAAOnB,EACnC,KAAKH,EAAeuB,OAAQ,OAAOhB,EACnC,KAAKP,EAAewB,WAAY,OAAOf,EACvC,KAAKT,EAAeyB,eAAgB,OAAOd,EAC3C,KAAKX,EAAe0B,MAAO,OAAOb,EAClC,KAAKb,EAAe2B,OAAQ,OAAOZ,EACnC,KAAKf,EAAe4B,QAAS,OAAOX,EACpC,QACI,OAAOY,IAKNC,EAAgBC,EAChBC,EAAiBC,EACjBC,EAAiBC,EAEjBC,EAAeC,EACfC,EAAWC,EACXC,EAAUC,EAIVC,EAAiBC,E,QCtDjBC,EAAe,eACfC,EAAoB,oBACpBC,EAAiB,iBACjBC,EAAc,cACdC,GAAW,WACXC,GAAe,e,qClB2BhBhD,K,YAAAA,E,cAAAA,E,cAAAA,E,gBAAAA,E,YAAAA,E,iBAAAA,M,cAuBAC,K,kBAAAA,E,uBAAAA,M,KmBnDZ,ICLYgD,GDKNC,GAAqBC,KACrBC,GAAuCC,KACvCC,GAAkBC,KAEXC,GAAsB,WAC/B,IAAMC,EAAQC,GAAMC,WACpB,OAAQF,EAAMG,SAASC,QAAO,SAACC,EAAKC,GAAN,OAAkBA,EAAQC,OAASF,IAAK,IAAM,IAAML,EAAMQ,QAAU,EAAI,IAAMR,EAAMS,UAAY,EAAI,IAGzHC,GAAmB,WAAO,IAAD,EAElC,OAAO,UADOT,GAAMC,WACPC,gBAAN,eAAgBQ,SAAU,GAGxBC,GAAiB,SAACC,GAAD,OAAmCC,OAAOC,KAAKF,GAAOG,KAAI,SAACC,GACrF,OAAQA,GACJ,IAAK,QACL,IAAK,QACL,IAAK,OACD,OAAO,eAAGA,EAAOJ,EAAMI,GAAkB,EAAxB,UAA+BJ,EAAMI,IAArC,WAAmDJ,EAAMI,KAC9E,QACI,OAAO,eAAGA,EAAV,UAAoBJ,EAAMI,UAGhCC,GAAW,SAACC,GAAD,OAAkB1B,GAAU2B,MAAK,SAACC,GAAD,OAAWA,EAAMF,OAASA,MAItEG,GAAgB,SAACH,GAAD,OAAkBxB,GAAeyB,MAAK,SAAC1D,GAAD,OAAgBA,EAAWyD,OAASA,MAEnFI,GAAc,SAACC,EAAmBC,GAApB,QAAiDH,GAAcG,GAAgBC,WAAWN,MAAK,SAACC,GAAD,OAAWA,IAAUG,MAElIG,GAAY,SAACC,GAAD,OAAkBA,IAASpF,EAAegE,SAMtDqB,GAAiB,SAACC,GAAD,OAAsBjC,GAAQuB,MAAK,SAACW,GAAD,OAAUA,EAAKZ,OAASW,M,QE3C5EE,GAAiB,SAAC,GAA8I,IAA5IC,EAA2I,EAA3IA,aAAcC,EAA6H,EAA7HA,QAASC,EAAoH,EAApHA,SAAUC,EAA0G,EAA1GA,SAA0G,EAChJC,mBAAiBJ,GAD+H,mBACjKd,EADiK,KAC3JmB,EAD2J,OAEhID,oBAAkB,GAF8G,mBAEjKE,EAFiK,KAEnJC,EAFmJ,KAGlKC,EAAWC,iBAAyB,MAC1CC,2BAAgB,WAAO,IAAD,EACV,OAARF,QAAQ,IAARA,GAAA,UAAAA,EAAUG,eAAV,SAAmBC,UACpB,CAACN,IAcJ,OAAOA,EACH,wBACIO,IAAKL,EACLM,UAAWZ,EACXa,GAAG,YACHC,SAAU,SAACC,GAAD,OAA8CZ,EAAQY,EAAMC,cAAcC,QACpFC,UAlBW,SAACH,GACG,UAAfA,EAAMI,OACNlB,EAASjB,GACTqB,GAAgB,IAED,WAAfU,EAAMI,OACNhB,EAAQL,GACRG,EAASH,GACTO,GAAgB,KAWhBe,OAAQ,WACJnB,EAASjB,GACTqB,GAAgB,IAEpBY,MAAOjC,IAEX,sBACIqC,MAAO,CAAEC,UAAW,QAASC,QAAS,kBACtCX,UAAWd,EAAe,iBAAmB,6BAC7C0B,QAAS,kBAAMnB,GAAgB,IAHnC,SAIKP,GAAgBC,KC5BhB0B,GAA8B,CACvCC,QAAS,IACT1D,SAAU,GACV2D,MAAO,ICREC,GAAgB,SAAC,GAA0H,IAAxHC,EAAuH,EAAvHA,YAAaC,EAA0G,EAA1GA,QACnCC,EAAUC,cACVC,EAAWC,cAKjB,OAAO,uBAAKtB,UAAU,kBAAkBY,QAAS,SAACW,GAC9CL,EAAUA,EAAQK,IAJlBF,EAAS,CAAExC,KAAMtC,GAAUiF,QAASX,KACpCM,EAAQM,KAAK,OAIdC,MAAM,+BAFF,UAGFT,EAAc,KAAO,sBAAKjB,UAAU,4CAAf,kBACtB,sBACI2B,IClBG,6nZDmBHlB,MAAOQ,EAAc,CAAEW,SAAU,iBAAoB,CAAEA,SAAU,iBACjE5B,UAAWiB,EAAc,uBAAyB,eAClDhB,GAAI,WACJ4B,IAAK,iBEjBXC,GAAcC,IACdC,GAAgBD,IAETE,GAAiB,SAAC,GAGzB,IAFAC,EAED,EAFCA,UAAWC,EAEZ,EAFYA,kBAAmBC,EAE/B,EAF+BA,cAG1BC,EAAgB,kBAAMtE,OAAOC,KAAKkE,EAAUpE,OAAOT,QACrD,SAACC,EAAKY,GAAN,mBAAC,eAAoBZ,GAArB,kBAA2BY,EAAOgE,EAAUpE,MAAMI,IAAsBiE,EAAkBjE,IAAsB,OAChH,CAAE,KAAQ,EAAG,MAAS,EAAG,MAAS,EAAG,OAAU,EAAG,KAAQ,EAAG,OAAU,KAE3E,OAAO,sBAAK8B,UAAU,kBAAf,SAAiC,yBAAOS,MAAO,CAAE6B,UAAW,UAA3B,UACpC,sCACI,sBAAK7B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,SACrB,sBAAK9B,MAAO,CAAE8B,MAAO,YAEzB,iCACI,sBAAIvC,UAAU,aAAd,UACKjC,OAAOC,KAAKxE,GAAWyE,KAAI,SAACC,GAAD,OAAU,8BAA6CA,GAA7C,kCAAoCA,OAC1E,uCAAS,gCACT,4CAAS,+BACT,sCAAS,oCAGjB,iCACI,gCACKL,GAAewE,KAAiBpE,KAAI,SAACC,GAAD,OACjC,qBACI8B,UAAWqC,IAAgBtE,OAAOC,KAAKE,GAAM,OAAsBU,GAAUsD,EAAUrD,MAAQiD,GAAcE,IAAelE,MAAMC,OAAOC,KAAKE,GAAM,IAAmB,gBAAkB,GAD7L,SAGKA,EAAKH,OAAOC,KAAKE,GAAM,KAH5B,qBAEuBgE,EAAU9D,KAFjC,iBAE8CL,OAAOC,KAAKE,GAAM,QAIpE,8BAAKgE,EAAUM,QACf,8BAAKN,EAAUvH,WAAauH,EAAUvH,WAAWyD,KAAO,MACxD,wCAAQgE,EAAR,cAA2BF,EAAUO,wBCxC/CC,GAAwBC,KACxBC,GAAqB,SAACjI,GAAD,OAAgC+H,GAAsBrE,MAAK,SAACwE,GAAD,OAAQA,EAAGzE,OAASzD,MAE7FmI,GAAmB,SAAC,GAAsM,IAApMZ,EAAmM,EAAnMA,UAA+Ba,GAAoK,EAAxLC,mBAAwL,EAApKD,mBAAoK,EAC9LzD,qBAD8L,mBAC3N3E,EAD2N,KAC/MsI,EAD+M,KAkBlO,OAAO,gBAAC,IAAMC,SAAP,WACH,sBAAKlD,UAAU,eAAf,gDAA+DpB,GAAUsD,EAAUrD,MAAQ,UAAY,gBACvG,sBAAKmB,UAAU,qCAAf,SACKjC,OAAOC,KAAKzE,GAAgB0E,KAAI,SAACkF,GAAD,OAnBXN,EAmBiEM,EAnB1C,uBAEjDnD,UAAW6C,KAAE,OAAKlI,QAAL,IAAKA,OAAL,EAAKA,EAAYyD,MAAO,+CAAiD,2BACtFwC,QAAS,kBAAMqC,EACXJ,KAAE,OAAKlI,QAAL,IAAKA,OAAL,EAAKA,EAAYyD,WACfgF,EACA,CACIhF,KAAMyE,EACNV,kBAAmB,CAAEkB,UAAWT,GAAmBC,GAAIV,kBAAkBkB,UAAWC,SAAU,IAC9FC,OAAQ,MAT6B,UAYjD,sBAAKvD,UAAU,iCAAiC2B,IAAKjH,EAAmBmI,GAAKhB,IAAG,wBAAmBgB,EAAnB,WAChF,sBAAK7C,UAAU,gCAAf,mBAAmD6C,OAbF,wBAC3BA,IADG,IAACA,OAqBzBlI,EAAa,sBAAKqF,UAAU,eAAf,oCAA6D,KAC1ErF,EAAa,sBAAKqF,UAAU,yBAAf,SAAyC4C,GAAmBjI,EAAWyD,MAAMoF,cAAqB,KAChH,yBACI5C,QAAS,kBAAMjG,EAAaoI,EAAkBpI,QAAcyI,GAC5DpD,UAAWrF,GAAcuH,EAAU9D,KAAO,YAAc,qBAF5D,8C,QC9BFqF,GAAW1G,KAEJ2G,GAAa,SAAC,GAGrB,IAAD,QAFC9E,EAED,EAFCA,UAAW+E,EAEZ,EAFYA,WAAYC,EAExB,EAFwBA,OAExB,EACuCtE,mBAAmB,CAAC,UAD3D,mBACMuE,EADN,KACoBC,EADpB,KAEDC,qBAAU,kBAAMJ,EAAWE,KAAe,CAACA,IAC3C,IAAMG,EAAiB,SAAChF,GAAD,QAAoB6E,EAAaxF,MAAK,SAAC4F,GAAD,OAAQA,IAAOjF,MACtEkF,EAAU,kBAAML,EAAaxG,QAAO,SAACC,EAAK0B,GAAN,OAAe1B,EAAMwB,GAAeE,GAAMyD,YAAW,KAAO7D,EAAY,EAAI,IAChHuF,EAAgB,SAACC,GACnB,OAAQA,GACJ,IAAK,SAAU,OAAOX,GAASY,QAAO,SAACrF,GAAD,MAAwB,WAAdA,EAAKH,QACrD,IAAK,SAAU,OAAO4E,GAASY,QAAO,SAACrF,GAAD,MAAwB,WAAdA,EAAKH,QACrD,IAAK,YAAa,OAAO4E,GAASY,QAAO,SAACrF,GAAD,MAAwB,cAAdA,EAAKH,UAG1DyF,EAAgB,SAAClG,EAAcmG,GAAf,OAAqCP,EAAe5F,GAAQ,sCAAwCoG,EAAapG,IAAUmG,GAAWL,IAAa,sCAAwC,8BAC3MM,EAAe,SAACzF,GAAD,OAAsB8E,EAAaxG,QAAO,SAACC,EAAKmH,GAAN,OAAmBnH,EAAMwB,GAAe2F,GAAUhC,YAAW,GAAK3D,GAAeC,GAAU0D,WAAa7D,EAAY,EAAI,IACjL8F,EAAiB,SAAC3F,GACpB,GAAIiF,EAAejF,GACf+E,EAAgBD,EAAaQ,QAAO,SAACrF,GAAD,OAAUA,IAASD,UACpD,CACH,GAAIyF,EAAazF,IAAgD,WAAlCD,GAAeC,GAAUF,MAAqBqF,IACzE,OAEJ,GAAsC,WAAlCpF,GAAeC,GAAUF,KAEzB,YADAiF,EAAgB,GAAD,oBAAKD,EAAaQ,QAAO,SAACM,GAAD,OAAa7F,GAAe6F,GAAS9F,OAASC,GAAeC,GAAUF,SAAhG,CAAuGE,KAG1H,GAAuC,WAAlCD,GAAeC,GAAUF,MAA2D,UAAtCC,GAAeC,GAAU6F,SAKxE,YAJAd,EAAgB,GAAD,oBACRD,EAAaQ,QAAO,SAACM,GAAD,MAAkD,UAArC7F,GAAe6F,GAASC,aADjD,CAEX7F,KAIR+E,EAAgB,GAAD,oBAAKD,GAAL,CAAmB9E,OAGpC8F,EAA0B,SAACC,GAC7B,OAAKA,EAAOC,eAGRD,EAAOC,eAAiB,EAClB,IAAN,OAAWD,EAAOC,gBAGhB,GAAN,OAAUD,EAAOC,gBANN,MAQf,OAAO,gBAAC,IAAM7B,SAAP,WACH,uBAAKlD,UAAU,eAAf,UACI,sBAAKA,UAAU,eAAf,uBADJ,UAEKmE,EAAc,oBAFnB,aAEK,EAA4BlG,KAAI,SAAC+G,GAAD,OAC7B,uBAAKhF,UAAWsE,EAAcU,EAAK5G,MAAOqC,MAAO,CAAE8B,MAAO,OAAS3B,QAAS,kBAAM8D,EAAeM,EAAK5G,OAAtG,UACI,yCAAS4G,EAAK5G,KAAd,cAAwB4G,EAAKvC,UAA7B,QACA,sBAAKhC,MAAO,CAAEwE,SAAU,WAAxB,SAAsCD,EAAKE,cAEnD,sBAAKlF,UAAU,eAAf,oBAPJ,UAQKmE,EAAc,iBARnB,aAQK,EAAyBlG,KAAI,SAACkH,GAAD,OAC1B,uBAAKnF,UAAWsE,EAAca,EAAO/G,MAAOqC,MAAO,CAAE8B,MAAO,OAAS3B,QAAS,kBAAM8D,EAAeS,EAAO/G,OAA1G,UACI,yCAAS+G,EAAO/G,KAAhB,cAA0B+G,EAAO1C,UAAjC,QACA,sBAAKhC,MAAO,CAAEwE,SAAU,WAAxB,4BAAkDE,EAAOC,kBACxDD,EAAOD,MAAQ,sBAAKzE,MAAO,CAAEwE,SAAU,WAAxB,SAAsCE,EAAOD,QAAe,cAIxF,uBAAKlF,UAAU,eAAf,UACI,sBAAKA,UAAU,eAAf,2BADJ,UAEKmE,EAAc,iBAFnB,aAEK,EAAyBE,QAAO,SAACS,GAAD,MAAgC,UAApBA,EAAOF,YAAsB3G,KAAI,SAAC6G,GAAD,OAC1E,uBAAK9E,UAAWsE,EAAcQ,EAAO1G,MAAM,GAAOqC,MAAO,CAAE8B,MAAO,OAAS3B,QAAS,kBAAM8D,EAAeI,EAAO1G,OAAhH,UACI,yCAAS0G,EAAO1G,KAAhB,cAA0B0G,EAAOrC,UAAjC,QACA,uBAAKhC,MAAO,CAAEwE,SAAU,WAAxB,UAAsCH,EAAOF,SAAP,iBAA4BE,EAAOF,UAAa,QAAtF,4BAAiHE,EAAOrC,WAAxH,wBAAmJoC,EAAwBC,OAC1KA,EAAOI,MAAQ,sBAAKzE,MAAO,CAAEwE,SAAU,WAAxB,SAAsCH,EAAOI,QAAe,WAEpF,sBAAKlF,UAAU,eAAf,8BARJ,UASKmE,EAAc,iBATnB,aASK,EAAyBE,QAAO,SAACS,GAAD,MAAgC,UAApBA,EAAOF,YAAsB3G,KAAI,SAAC6G,GAAD,OAC1E,uBAAK9E,UAAWsE,EAAcQ,EAAO1G,MAAM,GAAOqC,MAAO,CAAE8B,MAAO,OAAS3B,QAAS,kBAAM8D,EAAeI,EAAO1G,OAAhH,UACI,yCAAS0G,EAAO1G,KAAhB,cAA0B0G,EAAOrC,UAAjC,QACA,uBAAKhC,MAAO,CAAEwE,SAAU,WAAxB,UAAsCH,EAAOF,SAAP,iBAA4BE,EAAOF,UAAa,QAAtF,4BAAiHE,EAAOrC,WAAxH,wBAAmJoC,EAAwBC,OAC1KA,EAAOI,MAAQ,sBAAKzE,MAAO,CAAEwE,SAAU,WAAxB,SAAsCH,EAAOI,QAAe,cAGxF,yBACItE,QAAS,WAAQ+C,EAAWE,EAAawB,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,cAAcD,OAAO3B,KAChF5D,UAAW,YAFf,SAGK,6DCrFP0C,GAAwBC,KAGjB8C,GAAe,SAAC,GAGvB,IT6B2B/G,EARHgH,ESvBxB/K,EAED,EAFCA,WAAYiE,EAEb,EAFaA,UAAW+G,EAExB,EAFwBA,aAExB,EAC2CrG,mBAAkB,IAD7D,mBACMsG,EADN,KACsBC,EADtB,OAEuCvG,mBAAgB,CAAElB,KAAM,GAAI0H,gBAAiB,EAAGC,OAAQ,EAAGC,SAAU,QAASC,OAAQ,oCAF7H,mBAEMC,EAFN,KAEoBC,EAFpB,KAGKC,EAAkB,SAAC9H,GAAD,QAAoBsH,EAAevH,MAAK,SAACgI,GAAD,OAASA,EAAIjI,OAASE,EAAMF,SACtFkI,EATiB,SAAC3L,GAAD,OAAgC+H,GAAsBrE,MAAK,SAACwE,GAAD,OAAQA,EAAGzE,OAASzD,KASxFiI,CAAmBjI,EAAWyD,MAEtCmI,EAAwB,WAC1B,IAAIC,EAAkB5H,EAAY,EAAI,EAItC,OAH2F,IAAvFgH,EAAevB,QAAO,SAAC/F,GAAD,OAAYE,GAAYF,EAAMF,KAAMzD,EAAWyD,SAAOR,SAC5E4I,EAAkB5H,EAAY,EAAI,GAE/BgH,EAAevB,QAAO,SAAC/F,GAAD,OAAWE,GAAYF,EAAMF,KAAMzD,EAAWyD,SAAOR,QAAU4I,GAG1FC,EAA2B,kBAAMb,EAAevB,QAAO,SAAC/F,GAAD,OAAYE,GAAYF,EAAMF,KAAMzD,EAAWyD,SAAOR,SAAW2I,IAA0B,EAAI,IACtJG,EAAoB,kBAAMd,EAAehI,SAAWgB,EAAY,EAAI,IAE1E,OAAO,gBAAC,IAAMsE,SAAP,WACH,uBAAKlD,UAAU,wBAAf,UACI,sBAAKA,UAAU,qBAAf,SAAqCkG,EAAa9H,OAClD,uBAAK4B,UAAU,sBAAf,gCAAqDkG,EAAaJ,iBAAlE,wBAAmGI,EAAaH,QAAhH,MAA6HY,MAAMC,QAAQV,EAAaF,UAA3B,sBAAsDE,EAAaF,SAASa,KAAK,OAAjF,oBAAwGX,EAAaF,aAClP,sBAAKhG,UAAWkG,EAAaD,OAAOrI,QAAU,IAAM,2BAA6BsI,EAAaD,OAAOrI,QAAU,IAAM,4BAA8B,2BAAnJ,SAAgLsI,EAAaD,YAEjM,uBAAKjG,UAAU,qBAAf,UACI,sBAAKA,UAAU,eAAf,0BAAyCpB,EAAY,QAAU,QAA/D,kBACA,sBAAKoB,UAAU,cAAf,SACKrF,GTLa+K,ESKcY,EAAM3H,WTLc+G,EAAWzH,IAAIE,KSKjBF,KAAI,SAACK,GAAD,OAAW,uBACzDmC,MAAO,CAAEqG,MAAO,QAChBC,YAAa,kBAAMZ,EAAgB7H,IACnCsC,QAAS,WAEL,GADAuF,EAAgBvH,EAAYN,EAAH,2BAAgBA,GAAhB,IAAuBwH,gBAAiBxH,EAAMwH,gBAAkB,KACrFM,EAAgB9H,GAAQ,CACxB,IAAM0I,EAAMpB,EAAeqB,WAAU,SAACZ,GAAD,OAASA,EAAIjI,OAASE,EAAMF,SACpD,IAAT4I,GACAnB,EAAkB,GAAD,oBAAKD,EAAesB,MAAM,EAAGF,IAA7B,aAAsCpB,EAAesB,MAAMF,EAAM,EAAGpB,EAAehI,eAErG,CACH,GAAI2I,IACA,OAEJV,EAAkB,GAAD,oBAAKD,GAAL,aAAC,eAAyBtH,GAA1B,IAAiCwH,gBAAiBxH,EAAMwH,iBAAmBlH,EAAY,EAAI,UAGpHoB,UAAWoG,EAAgB9H,GAAS,sCAAwCiI,IAA0B,sCAAwC,6BAjBrF,UAmBzD,+BAAMjI,EAAMF,OACZ,uBAAKqC,MAAO,CAAEwE,SAAU,WAAxB,UAAsC3G,EAAMwH,iBAAmBlH,EAAY,EAAI,GAA/E,MAAsFN,EAAMyH,OAA5F,MAAuGY,MAAMC,QAAQtI,EAAM0H,UAApB,UAAmC1H,EAAM0H,SAASa,KAAK,OAAUvI,EAAM0H,cApBrH,4BAkB/B1H,EAAMF,UAIhC,UAGZ,uBAAK4B,UAAU,yBAAf,UACI,sBAAKA,UAAU,eAAf,0CACA,sBAAKA,UAAU,cAAf,SACKrF,GTzBgB+D,ESyBc/D,EAAWyD,KTzBE1B,GAAU2H,QAAO,SAAC/F,GAAD,OAAYC,GAAcG,GAAgBC,WAAWwI,SAAS7I,EAAMF,USyBjFH,KAAI,SAACK,GAAD,OAAW,uBAC3DyI,YAAa,kBAAMZ,EAAgB7H,IACnCsC,QAAS,WAEL,GADAuF,EAAgB,2BAAK7H,GAAN,IAAawH,gBAAiBxH,EAAMwH,iBAAmBlH,EAAY,EAAI,MAClFwH,EAAgB9H,GAAQ,CACxB,IAAM0I,EAAMpB,EAAeqB,WAAU,SAACZ,GAAD,OAASA,EAAIjI,OAASE,EAAMF,SACpD,IAAT4I,GACAnB,EAAkB,GAAD,oBAAKD,EAAesB,MAAM,EAAGF,IAA7B,aAAsCpB,EAAesB,MAAMF,EAAM,EAAGpB,EAAehI,eAErG,CACH,GAAI6I,IACA,OAEJZ,EAAkB,GAAD,oBAAKD,GAAL,aAAC,eAAyBtH,GAA1B,IAAiCwH,gBAAiBxH,EAAMwH,iBAAmBlH,EAAY,EAAI,UAGpHoB,UAAWoG,EAAgB9H,GAAS,sCAAwCmI,IAA6B,sCAAwC,6BAhBtF,UAkB3D,+BAAMnI,EAAMF,OACZ,uBAAKqC,MAAO,CAAEwE,SAAU,WAAxB,UAAsC3G,EAAMwH,iBAAmBlH,EAAY,EAAI,GAA/E,MAAsFN,EAAMyH,OAA5F,MAAuGY,MAAMC,QAAQtI,EAAM0H,UAApB,UAAmC1H,EAAM0H,SAASa,KAAK,OAAUvI,EAAM0H,cAnBnH,4BAiBjC1H,EAAMF,UAIhC,UAGZ,yBACIwC,QAAS,kBAAM8F,IAAsBf,EAAaC,EAAeP,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAElH,KAAKoH,cAAcD,EAAEnH,eAAWgF,GACnHpD,UAAW0G,IAAsB,YAAc,qBAFnD,mBAGK9H,EAAY,2BAA6B,sDC1FzCwI,GAAsB,SAAC,GAAyF,IAAvF7D,EAAsF,EAAtFA,OAAQ8D,EAA8E,EAA9EA,cAA8E,EAC5E/H,mBAAkB,IAD0D,mBACjHsG,EADiH,KACjGC,EADiG,KAIxH,OAAO,uBAAK7F,UAAU,2BAAf,UACH,sBAAKA,UAAU,eAAf,sCACA,sBAAKA,UAAU,sBAAf,wFACCuD,EAAOtF,KAAI,SAACK,GAAD,OACR,uBAAK0B,UAAW4F,EAAevH,MAAK,SAACgI,GAAD,OAASA,EAAIjI,OAASE,EAAMF,QAAQ,sBAAwB,aAC5FwC,QAAS,WACL,GAAIgF,EAAevH,MAAK,SAACgI,GAAD,OAASA,EAAIjI,OAASE,EAAMF,QAChDyH,EAAkBD,EAAevB,QAAO,SAACgC,GAAD,OAASA,EAAIjI,OAASE,EAAMF,aACjE,CACH,GAAIwH,EAAehI,QAAU,EACzB,OAEJiI,EAAkB,GAAD,oBAAKD,GAAL,aAAC,eAAyBtH,GAA1B,IAAiCwH,gBAAiBxH,EAAMwH,gBAAkB,SARvG,UAWI,sBAAK9F,UAAU,qBAAf,SAAqC1B,EAAMF,OAC3C,uBAAK4B,UAAU,sBAAf,gCAAqD1B,EAAMwH,iBAA3D,wBAA4FxH,EAAMyH,QAAlG,MAA+GY,MAAMC,QAAQtI,EAAM0H,UAApB,sBAA+C1H,EAAM0H,SAASa,KAAK,OAAnE,oBAA0FvI,EAAM0H,aAC/M,sBAAKhG,UAAW1B,EAAM2H,OAAOrI,QAAU,IAAM,2BAA6BU,EAAM2H,OAAOrI,QAAU,IAAM,4BAA8B,2BAArI,SAAkKU,EAAM2H,eAEhL,yBACIrF,QAAS,kBAAgC,IAA1BgF,EAAehI,OAAeyJ,EAtB1B9D,EAAOc,QAAO,SAACgC,GAAD,OAAUT,EAAevH,MAAK,SAACiJ,GAAD,OAAOA,EAAElJ,OAASiI,EAAIjI,WAAOmJ,OAAO3B,GAAgBP,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAElH,KAAKoH,cAAcD,EAAEnH,eAsB7EgF,GAC7EpD,UAAqC,IAA1B4F,EAAehI,OAAe,YAAc,qBAF3D,uDCrBF8E,GAAwBC,KAGjB6E,GAA0B,SAAC,GAAwM,IAAtM7M,EAAqM,EAArMA,WAAY8M,EAAyL,EAAzLA,oBAAqB1E,EAAoK,EAApKA,kBAAoK,EACvMzD,mBAAgC,IADuK,mBACpOoI,EADoO,KACxNC,EADwN,KAE3O5D,qBAAU,WACN,IAAM6D,EAAOjN,EAAWwH,kBAAkBkB,UAEpCwE,EAAyB9J,OAAO+J,OAAP,MAAA/J,OAAM,CADP,IACO,oBAAkB2J,KACvDD,EAAoB1J,OAAOgK,YAAY,uBAAIhK,OAAOiK,QAAQJ,IAAnB,aAA6B7J,OAAOiK,QAAQH,KAASxK,QAAO,SAACC,EAAD,0BAAO2K,EAAP,KAAY5H,EAAZ,YAAuB/C,EAAI4K,IAAID,GAAM3K,EAAI6K,IAAIF,IAAQ,IAAM5H,GAAS,MAAK,IAAI+H,SACjL,CAACV,IACJ,IAAMW,EAAiB,SAACC,GAAD,OAAsBZ,EAAWrJ,MAAK,SAACH,GAAD,YAA0CkF,IAAhClF,EAAKoK,OACtEC,EAXiB,SAAC5N,GAAD,OAAgC+H,GAAsBrE,MAAK,SAACwE,GAAD,OAAQA,EAAGzE,OAASzD,KAW/DiI,CAAmBjI,EAAWyD,MAAM+D,kBACrEqG,EAAkB,kBAAMd,EAAW9J,SAAW2K,EAA+BE,iBACnF,OAAO,gBAAC,IAAMvF,SAAP,WACH,sBAAKzC,MAAO,CAAEiI,UAAW,UAAY1I,UAAU,eAA/C,wCACA,sBAAKA,UAAU,cAAf,SACKjC,OAAOiK,QAAQO,EAA+BlF,WAAWpF,KAAI,mCAAEqK,EAAF,KAAYK,EAAZ,YAC1D,uBAAK3I,UAAU,qDAAf,cAAuH2I,EAAvH,IAAmIL,IAAnI,uCAAyGA,SAGjH,sBAAKtI,UAAU,eAAf,uDAAsEuI,EAA+BE,gBAArG,wBACA,sBAAKzI,UAAU,cAAf,SACKjC,OAAOiK,QAAQO,EAA+BjF,UAAUrF,KAAI,mCAAEqK,EAAF,KAAYK,EAAZ,YACzD,uBACI/H,QAAS,WACL,GAAIyH,EAAeC,GACfX,EAAcD,EAAWrD,QAAO,SAACnG,GAAD,YAA0CkF,IAAhClF,EAAKoK,WAC5C,CACH,GAAIE,IACA,OAEJb,EAAc,GAAD,oBAAKD,GAAL,gBAAoBY,EAAWK,QAGpD3I,UAAWqI,EAAeC,GAAY,qDAAuDE,IAAoB,qDAAuD,4BAX5K,cAaMG,EAbN,IAakBL,IAblB,sCAYwCA,SAKhD,yBACI1H,QAAS,kBAAM4H,IAAoBzF,SAAsBK,GACzDpD,UAAWwI,IAAoB,YAAc,qBAFjD,yCC9BKI,GAA0B,SAAC,GAAqH,IAAnHC,EAAkH,EAAlHA,cAAexJ,EAAmG,EAAnGA,SAAmG,EACtHC,mBAAoBuJ,GADkG,mBACjJ3G,EADiJ,KACtI4G,EADsI,OAEpHxJ,qBAFoH,mBAEjJ3E,EAFiJ,KAErIsI,EAFqI,OAGhH3D,mBAAyB,IAHuF,mBAGjJyJ,EAHiJ,KAGnIC,EAHmI,OAI5G1J,mBAAkB,IAJ0F,mBAIjJsG,EAJiJ,KAIjIC,EAJiI,OAK9GvG,oBAAkB,GAL4F,mBAKjJ2J,EALiJ,KAKlIC,EALkI,OAM5G5J,oBAAkB,GAN0F,mBAMjJ6J,EANiJ,KAMjIC,EANiI,OAOhI9J,mBAAmB,IAP6G,mBAOjJN,EAPiJ,KAO3IqK,EAP2I,KAQlJhI,EAAWC,cA6BXgI,EAAsB,SAAC/F,GACzB6F,GAAkB,GAClBvD,EAAkBtC,IAiBtB,OACIgG,IAASC,aACL,sBAAKxJ,UAAU,mBAAf,SACI,uBAAKA,UAAU,QAAf,UACI,uBAAKA,UAAU,oBAAoBS,MAAO,CAAEgJ,oBAAqB,mBAAjE,UACI,uBAAKzJ,UAAU,kBAAkBS,MAAO,CAAEiJ,SAAU,SAApD,UACI,sBAAK1J,UAAU,aAAf,mBAAgCkC,EAAU9D,KAAV,UAAoBQ,GAAUsD,EAAUrD,MAAQ,UAAY,cAA5D,kCAAwGD,GAAUsD,EAAUrD,MAAQ,UAAY,aAAhJ,qBAChC,eAAC,GAAD,CAAgBQ,SAAU,SAACjB,GAAD,OAAkB0K,EAAa,2BAAK5G,GAAN,IAAiB9D,WAASc,aAAcgD,EAAU9D,KAAMe,QAAQ,aAAaC,SAAS,mBAElJ,eAAC,GAAD,CACI8C,UAAWvH,EAAU,2BAAQuH,GAAR,IAAmBvH,WAAY,CAAEyD,KAAMzD,EAAWyD,KAAMmF,OAAQ,MAASrB,EAC9FC,kBAtDU,WAC9B,IAAMwH,EAAuC,GAkB7C,OAjBA3K,EAAK4K,SAAQ,SAACnF,GACV,OAAQA,GACJ,IAAK,eAAgBkF,EAAqBE,OAAS,EAAG,MACtD,IAAK,eACDF,EAAqBE,OAAS,EAC9BF,EAAqBG,MAAQ,EAC7B,MACJ,IAAK,UACDH,EAAqBI,OAAS,EAC9B,MACJ,IAAK,gBACL,IAAK,aACI/K,EAAKmI,SAAS,iBAAoBnI,EAAKmI,SAAS,mBACjDwC,EAAqBG,MAAQ,OAItC/L,OAAOC,KAAKkE,EAAUpE,OAAOT,QAChC,SAACC,EAAKY,GAAN,mBAAC,eAAoBZ,GAArB,kBAA2BY,GAAQ6K,EAAa7K,IAAsB,IAAMyL,EAAqBzL,IAAsB,OACvH,CAAE,KAAQ,EAAG,MAAS,EAAG,MAAS,EAAG,OAAU,EAAG,KAAQ,EAAG,OAAU,IAiCpC8L,GACnB5H,cAAepD,EAAK3B,QAAO,SAACC,EAAKmH,GAAN,OAAmBnH,EAAMwB,GAAe2F,GAAUhC,YAAW,KAC5F,eAAC,GAAD,CAAexB,aAAa,EAAMC,QAAS,SAACK,GACxClC,GAAS,GACTkC,EAAE0I,iBACF1I,EAAE2I,wBAGRvP,EAIG,KAJU,eAAC,GAAD,CACXuH,UAAWA,EACXc,mBAAoBrI,EACpBoI,kBAAmB,SAACoH,GAAmClH,EAAckH,MAExExP,IAAesO,EAAgB,eAAC,GAAD,CAC5BtO,WAAYA,EACZ8M,oBAAqB,SAACpH,GAAY2I,EAAgB3I,IAClD0C,kBAAmB,kBAAMmG,GAAiB,MACzC,MACJvO,IAAcsO,GAAmBrD,EAAehI,OAAS,EACpD,KADyD,eAAC,GAAD,CAAcjD,WAAYA,EAAYiE,UAAWA,GAAUsD,EAAUrD,MAAO8G,aAAc/G,GAAUsD,EAAUrD,MAAQgH,EAAoByD,IAExM3O,GAAcsO,GAAiBrD,EAAehI,OAAS,IAAMuL,EAAiB,eAAC,GAAD,CAAqB5F,OAAQqC,EAAgByB,cAAeiC,IAA0B,KACpK3O,GAAcsO,GAAiBE,EAAiB,eAAC,GAAD,CAAYvK,UAAWA,GAAUsD,EAAUrD,MAAO8E,WAAY0F,EAASzF,OA/CjH,WACnBvC,EAAS,CACLxC,KAAMD,GAAUsD,EAAUrD,MAAQvC,EAAcD,EAChDmF,QAAQ,2BACDU,GADA,IAEHpE,MArCgBC,OAAOC,KAAKkE,EAAUpE,OAAOT,QACrD,SAACC,EAAKY,GAAN,mBAAC,eAAoBZ,GAArB,kBAA2BY,GAAQgE,EAAUpE,MAAMI,IAAsB,IAAM6K,EAAa7K,IAAsB,OAClH,CAAE,KAAQ,EAAG,MAAS,EAAG,MAAS,EAAG,OAAU,EAAG,KAAQ,EAAG,OAAU,IAoC/DvD,WAAY,CACRyD,KAAI,OAAEzD,QAAF,IAAEA,OAAF,EAAEA,EAAYyD,KAClBmF,OAAQqC,GAEZ5G,WAGRK,GAAS,MAkCwJ,KACpJ1E,EACG,yBACIiG,QAAS,WACL,OAAIjG,GAAcsO,GAAiBrD,EAAehI,OAAS,GAAKuL,GAC5DE,EAAQ,IACRD,GAAkB,QAClBvD,EAAkB,KAGlBlL,GAAcsO,GAAiBrD,EAAehI,OAAS,OACvDiI,EAAkB,IAGlBlL,GAAcsO,GACdC,GAAiB,QACjBF,EAAgB,UAGhBrO,GACAsI,OAAcG,KAItBpD,UAAW,WAtBf,uBAwBEoD,OAGdgH,SAASC,eAAe,gBC/H9BvI,GAAcC,IACdC,GAAgBD,IACTuI,GAAwB,SAAC,GAA2C,IAAzC1L,EAAwC,EAAxCA,UAAwC,EACvCU,oBAAkB,GADqB,mBACrEiL,EADqE,KACzDC,EADyD,KAE5E,OAAO,uBAAyDxK,UAAU,qBAAqBY,QAAS,kBAAM4J,GAAe,IAAtH,UACFD,EAAa,eAAC,GAAD,CAAyB1B,cAAejK,EAAS,2BAAQkD,IAAR,IAAqB1D,KAAM,KAA3B,2BAAuC4D,IAAvC,IAAsD5D,KAAM,KAAMiB,SAAUmL,SAAqBpH,EAChK,+BACI,uBAAK3C,MAAO,CAAEqG,MAAO,QAArB,UACI,sBAAK9G,UAAU,6BAA6B2B,IAAK5F,EAAS8F,IAAI,YAC9D,sBAAK7B,UAAU,6BAAf,uCAAoEpB,EAAY,UAAY,aAA5F,0BALL,UAAaA,EAAY,UAAY,YAArC,W,mBZRCnC,K,oBAAAA,E,yBAAAA,Q,KaCL,IAAMgO,GAAoB,SAAC,GAAgD,IAA9CxJ,EAA6C,EAA7CA,YAMhC,OAAO,uBAAKjB,UAAU,kBAAkB0B,MAAO,4BAAxC,UACFT,EAAc,KAAO,sBAAKjB,UAAU,4CAA4CY,QALhE,WACjB8J,QAAQC,MAAM,sCAIQ,uBACtB,sBACIhJ,IAAK9F,EACLmE,UAAWiB,EAAc,uBAAyB,eAClDhB,GAAI,WACJ4B,IAAK,aAET,uBAAK7B,UAAWiB,EAAc,uBAAyB,eAAvD,UAAwEjE,KAAxE,eCZK4N,GAAoB,SAAC,GAAgD,IAA9C3J,EAA6C,EAA7CA,YAE1BhE,EADY4N,qBAAWC,KAArB5N,MACYC,WACpB,OAAO,eAAC,GAAD,CAA0B4N,SAAU9N,EAAM6D,QAASkK,KAAK,WAAWtJ,MAAM,6CAA6CT,YAAaA,KAGjIgK,GAA2B,SAAC,GAAsH,IAApHF,EAAmH,EAAnHA,SAAUrJ,EAAyG,EAAzGA,MAAOsJ,EAAkG,EAAlGA,KAAM/J,EAA4F,EAA5FA,YAM9D,OAAO,uBAAKjB,UAAU,kBAAkB0B,MAAOA,EAAxC,UACFT,EAAc,KAAO,sBAAKjB,UAAU,4CAA4CY,QALjE,WAChB8J,QAAQC,MAAM,6CAIQ,SAAkFK,IACxG,sBACIrJ,IAAKhG,EACLqE,UAAWiB,EAAc,uBAAyB,eAClDhB,GAAI,eACJ4B,IAAK,iBAET,sBAAK7B,UAAWiB,EAAc,uBAAyB,eAAvD,mBACQ8J,EADR,eCZFG,GAAiBC,KA+IVC,GAAyBC,aAFd,SAACpO,GAAD,MAAuB,CAAEqO,cAAerO,EAAMG,SAAUmO,QAAStO,EAAM6D,WAEzDuK,EA7IT,SAAC,GAA+I,IAA7IC,EAA4I,EAA5IA,cAAeC,EAA6H,EAA7HA,QAASlM,EAAoH,EAApHA,SAAoH,EACxIC,mBAAoB,IADoH,mBACjKkM,EADiK,KACvJC,EADuJ,KAElKpK,EAAWC,cACXoK,EAAe,kBAAMJ,EAAcjO,QAAO,SAACC,EAAKC,GAAN,OAAkBA,EAAQC,OAASF,IAAK,GAAKkO,EAASnO,QAAO,SAACC,EAAKC,GAAN,OAAkBA,EAAQC,OAASF,IAAK,IAC/IqO,EAAkB,iBAAM,uBAAIL,GAAJ,aAAsBE,IAAUnH,QAAO,SAAC9G,GAAD,OAAaA,EAAQqO,QAAUnP,GAAcoP,cAAYxO,QAAO,SAACC,EAAKwO,GAAN,OAAqBA,EAAWtO,OAASF,IAAK,IAC7KyO,EAAa,kBAAMP,EAASnO,QAAO,SAACC,EAAKC,GAAN,OAAkBD,EAAOC,EAAQC,OAASD,EAAQyO,OAAO,IAC5FC,EAAY,kBAAMP,KAAkB,GAAKC,KAAqB,GAAKI,KAAgBR,GACnFW,EAAmB,SAACC,GACtB,IAAMC,EAAOlB,GAAe7G,QAAO,SAAC9G,GAAD,OAAaA,EAAQqO,SAAWO,EAAe1P,GAAcoP,WAAapP,GAAc4P,aACrHC,EAAOC,KAAKC,KAAKJ,EAAKxO,OAAS,GACrC,OAAO,uBAAKoC,UAAU,6BAAf,UACH,sBAAKA,UAAU,0BAAf,mBAA6CmM,EAAe,aAAe,WAA3E,qBAAkGA,EAAe,oBAAsB,MACtIC,EAAKnO,KAAI,SAACV,EAASyJ,GAAV,OACN,sBAEIvG,MAAO,CAAEmB,SAAUoF,GAAOsF,EAAP,UAAkBtF,EAAMsF,EAAQ,EAAhC,QAA0C,GAAIG,MAAe,IAARzF,EAAY,OAAS,OAAQ0F,OAAQ,6BAC7G1M,UAAW0L,KAAkB,GAAMS,GAAgBR,KAAqB,GAAMpO,EAAQyO,KAAOT,EAAUQ,IAAe,sCAAwC,6BAC9JnL,QAAS,WACL,KAAI8K,IAAiB,GAAMS,GAAgBR,KAAqB,GAAMpO,EAAQyO,KAAOT,EAAUQ,KAA/F,CAGA,IAAMY,EAAYnB,EAASvE,WAAU,SAAC2F,GAAD,OAASA,EAAI/N,OAAStB,EAAQsB,QAE/D4M,GADe,IAAfkB,EACY,GAAD,oBAAKnB,EAAStE,MAAM,EAAGyF,IAAvB,aAAC,eAAuCnB,EAASmB,IAAjD,IAA6DnP,OAAQgO,EAASmB,GAAWnP,OAAS,KAAlG,aAA0GgO,EAAStE,MAAMyF,EAAY,KAEpI,GAAD,oBAAKnB,GAAL,aAAC,eAAmBjO,GAApB,IAA6BkF,UAAW,EAAGxC,GAAIuL,EAAS5N,OAAS,EAAGJ,OAAQ,SAZnG,SAeI,sBAAKwC,UAAU,+BAAf,mBAAkDzC,EAAQsB,KAA1D,cAAoEtB,EAAQyO,KAA5E,cAfJ,4BAC8BzO,EAAQsB,cAoB5CgO,EAA4B,SAACC,EAA6BC,GAA9B,OAAwDD,EAAiB7O,KAAI,SAACV,GAAD,OAAa,sBAAIkD,MAAO,CAAE9F,WAAYoS,EAAc,UAAY,eAAnD,UACxH,8BAA6CxP,EAAQsB,MAArD,0BAA4BtB,EAAQsB,OACpC,gCACMkO,EAKW,KALG,sBAAKtM,MAAO,CAAEqG,MAAO,OAAQkG,WAAY,OAAQ/H,SAAU,UAAYrE,QAAS,WAC5F,IAAMqM,EAAazB,EAASvE,WAAU,SAAC2F,GAAD,OAASA,EAAI/N,OAAStB,EAAQsB,SAChD,IAAhBoO,GACAxB,EAAY,GAAD,oBAAKD,EAAStE,MAAM,EAAG+F,IAAvB,aAAC,eAAwCzB,EAASyB,IAAlD,IAA+DzP,OAAQgO,EAASyB,GAAYzP,OAAS,KAArG,aAA6GgO,EAAStE,MAAM+F,EAAa,OAH5I,eAMhB,uBAAKxM,MAAQsM,EAA+E,GAAjE,CAAEjG,MAAO,OAAQoG,YAAa,SAAUC,WAAY,UAA/E,UAAiG5P,EAAQC,OAAzG,OACEuP,EAUW,KAVG,sBAAKtM,MAAO,CAAEqG,MAAO,QAASkG,WAAY,OAAQ/H,SAAU,UAAYrE,QAAS,WAC7F,IAAMqM,EAAazB,EAASvE,WAAU,SAAC2F,GAAD,OAASA,EAAI/N,OAAStB,EAAQsB,QACpE,IAAoB,IAAhBoO,EAAmB,CACnB,IAAMG,EAAM5B,EAASyB,GAAYzP,OAE7BiO,EADQ,IAAR2B,EACY5B,EAASnH,QAAO,SAACgJ,GAAD,OAAUA,EAAKpN,KAAO1C,EAAQ0C,MAE9C,GAAD,oBAAKuL,EAAStE,MAAM,EAAG+F,IAAvB,aAAC,eAAwCzB,EAASyB,IAAlD,IAA+DzP,OAAQgO,EAASyB,GAAYzP,OAAS,KAArG,aAA6GgO,EAAStE,MAAM+F,EAAa,QAPhJ,iBARpB,4BAA8B1P,EAAQC,SAoBtC,8BAA6CuP,EAAc,MAAH,UAAcxP,EAAQyO,KAAtB,UAAxD,0BAA4BzO,EAAQyO,OAEnCnO,GAAeN,EAAQO,OAAOG,KAAI,SAACC,GAAD,OAAU,8BAAqEA,EAAKH,OAAOC,KAAKE,GAAM,KAA5F,qBAAuBX,EAAQsB,KAA/B,iBAA4Cd,OAAOC,KAAKE,GAAM,QAC3G,8BAAKX,EAAQyB,KAAKpB,OAAS,EAAtB,UAA6BL,EAAQyB,KAAK6H,KAAK,OAAU,aAOlE,OACI0C,IAASC,aACL,sBAAKxJ,UAAU,mBAAf,SACI,uBAAKA,UAAU,QAAf,UACI,uBAAKA,UAAU,oBAAf,UACI,uBAAKA,UAAU,kBAAkBS,MAAO,CAAEiJ,SAAU,SAApD,UACI,sBAAK1J,UAAU,iCAAf,mCACA,sBAAKA,UAAU,aAAf,mFAEJ,eAAC,GAAD,CAAmBiB,aAAa,IAChC,eAAC,GAAD,CAAmBA,aAAa,IAChC,eAAC,GAAD,CAAeA,aAAa,EAAMC,QAAS,SAACK,GACxClC,GAAS,GACTkC,EAAE0I,iBACF1I,EAAE2I,wBAITgC,GAAiB,GACjBA,GAAiB,GAClB,yBAAOlM,UAAU,kBAAjB,UACI,iCACI,gCACI,sCAAS,+BACT,wCAAS,+BACT,sCAAS,+BAERjC,OAAOC,KAAKxE,GAAWyE,KAAI,SAACC,GAAD,OAAU,8BAA6CA,GAA7C,kCAAoCA,OAC1E,sCAAS,oCAIjB,mCACK2O,EAA0BvB,GAAe,GACzCuB,EAA0BrB,GAC3B,sBAAI/K,MAAO,CAAEwE,SAAU,UAAvB,UACI,qBAAIjF,UAAU,YAAd,mBACA,sBAAIA,UAAU,YAAd,UAA2B0L,IAA3B,UACA,qBAAI1L,UAAU,YAAYS,MAAO,CAAEuM,WAAY,QAA/C,mBAA6DjB,IAA7D,WAEA,qBAAI/L,UAAU,cACd,qBAAIA,UAAU,cACd,qBAAIA,UAAU,cACd,qBAAIA,UAAU,cACd,qBAAIA,UAAU,cACd,qBAAIA,UAAU,cACd,qBAAIA,UAAU,uBAIzB2L,IAAoB,EACjB,8GACA,KACHD,IAAiB,EAAI,0GAAoF,KACzGK,IAAeR,EAAU,iCAAM,uEAAN,OAAuF,KACjH,yBACI3K,QAAS,SAACW,GACF0K,MACA5M,GAAS,GACTgC,EAAS,CAAExC,KAAM1C,EAAcqF,QAASgK,KAE5CjK,EAAE0I,iBACF1I,EAAE2I,mBAENlK,UAAWiM,IAAc,YAAc,qBAT3C,mCAaR7B,SAASC,eAAe,kBCjJvBiD,GAAyB,WAAO,IAAD,EACHhO,oBAAkB,GADf,mBACjCiL,EADiC,KACrBC,EADqB,KAExC,OAAO,uBAA8BxK,UAAU,qBAAqBY,QAAS,kBAAM4J,GAAe,IAA3F,UACFD,EAAa,eAACa,GAAD,CAAwB/L,SAAUmL,SAAqBpH,EACrE,+BACI,uBAAK3C,MAAO,CAAEqG,MAAO,QAArB,UACI,sBAAK9G,UAAU,6BAA6B2B,IAAK5F,EAAS8F,IAAI,YAC9D,sBAAK7B,UAAU,6BAAf,SAA6C,gDALxC,qBCARuN,GAAqB,SAAC,GAA2C,IAAD,UAAxC3O,EAAwC,EAAxCA,UAC3B3B,EAAQC,GAAMC,WACd+E,EAAatD,EAAY3B,EAAMQ,QAAUR,EAAMS,UAC/CuC,EAAKrB,EAAY,UAAY,YAgBnC,OAAO,uBAAwBoB,UAAU,iBAAlC,UACH,uBAAKA,UAAU,kBAAf,UACI,sBAAKA,UAAU,uBAAf,SAAuCkC,EAAU9D,OACjD,sBAAK4B,UAAU,wBAAf,SAAwCpB,EAAY,UAAY,kBAEpE,eAAC,GAAD,CAAgBsD,UAAWA,EAAWC,kBAAmB,GAAIC,eAAe,UAAAF,EAAUlD,YAAV,eAAgB3B,QAAO,SAACC,EAAKmH,GAAN,OAAmBnH,EAAMwB,GAAe2F,GAAUhC,YAAW,KAAM,IAatK,sBAAKzC,UAAU,kBAAf,wBACA,iCACI,uBAAKS,MAAO,CAAEqG,MAAO,QAArB,UACI,sBAAK9G,UAAU,wBAAwB2B,IAAKjH,EAAkB,UAACwH,EAAUvH,kBAAX,aAAC,EAAsByD,MAAOyD,IAAG,UAAK5B,EAAL,iBAAgBiC,EAAU9D,KAA1B,cAC/F,sBAAK4B,UAAU,mBAAf,mBAAmCkC,EAAUvH,kBAA7C,aAAmC,EAAsByD,UAE7D,yBAAO4B,UAAU,cAAjB,UACI,iCACI,gCACI,wCACA,mDACA,yCACA,gDAGR,2CACKkC,EAAUvH,kBADf,aACK,EAAsB4I,OAAOtF,KAAI,SAACK,GAAD,OAC9B,gCACI,8BAAKA,EAAMF,OAAU,8BAAKE,EAAMwH,kBAChC,8BAAKxH,EAAMyH,SACX,8BAAKY,MAAMC,QAAQtI,EAAM0H,UAAY1H,EAAM0H,SAAS/H,KAAI,SAACuP,GAAD,OAAS,+BAAMA,OAAclP,EAAM0H,aAH/F,UAAY/F,EAAZ,kBAAwB3B,EAAMF,kBAS9C,sBAAK4B,UAAU,kBAAf,kBACA,+BAKI,yBAAOA,UAAU,cAAjB,UACI,iCACI,gCACI,uCACA,uCACA,wCACA,wCACA,sCACA,6CAGR,2CACKkC,EAAUlD,YADf,aACK,EAAgBf,IAAIa,IAAgBb,KAAI,SAACe,GAAD,OACrC,gCACI,gCAAKA,EAAKZ,KAAV,OACA,8BAAKY,EAAKH,OACV,8BAAKG,EAAKyD,YACV,wCAAQzD,EAAK4F,UAAY,OACzB,wCAAQ5F,EAAK+F,gBAAkB,OAC/B,wCAAQ/F,EAAKkG,OAAS,SAN1B,UAAYjF,EAAZ,kBAAwBjB,EAAKZ,mBA/D1C,UAAa6B,EAAb,WCtBEwN,GAAsB,SAAC,GAAuC,IAArClQ,EAAoC,EAApCA,QAMlC,OAAO,uBAAkCyC,UAAU,iBAA5C,UACH,uBAAKA,UAAU,kBAAf,UACI,uBAAKA,UAAU,uBAAf,UAAuCzC,EAAQC,OAA/C,KAAyDD,EAAQsB,QACjE,sBAAKmB,UAAU,wBAAf,mBAA2CzC,EAAQsB,KAAnD,aAA4DtB,EAAQyO,KAAOzO,EAAQC,OAAnF,UAEJ,yBAAOwC,UAAU,kBAAjB,UACI,iCACI,gCACKjC,OAAOC,KAAKxE,GAAWyE,KAAI,SAACC,GAAD,OAAU,8BAAiDA,GAAjD,UAAYX,EAAQsB,KAApB,wBAAwCX,OAC9E,4CAGR,iCAjBkB,gCACrBL,GAAeN,EAAQO,OAAOG,KAAI,SAACC,GAAD,OAAU,8BAA0DA,EAAKH,OAAOC,KAAKE,GAAM,KAAjF,UAAYX,EAAQsB,KAApB,iBAAiCd,OAAOC,KAAKE,GAAM,QAChG,8BAAKX,EAAQyB,KAAKpB,OAAS,EAAIL,EAAQyB,KAAK6H,KAAK,MAAQ,gBAGtD,UAAatJ,EAAQsB,KAArB,WCPE6O,GAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,kBAAmBC,EAAtB,EAAsBA,cAAtB,OACzB,uBAAK5N,UAAU,kBAAkBS,MAAO,CAAEiJ,SAAU,SAApD,UACI,sBAAK1J,UAAU,4CAAf,uBACA,eAAC,GAAD,CAAgBX,SAAUuO,EAAe1O,aAAcyO,EAAmBxO,QAAQ,yBAAyBC,SAAS,oBCA/GyO,GAAoB,WAC7B,IAAM5Q,EAAQC,GAAMC,WACdkE,EAAWC,cAKjB,OAAO,eAAC,GAAD,CAAesM,cAJF,SAACxP,GACjBiD,EAAS,CAAExC,KAAMrC,GAAcgF,QAASpD,KAGMuP,kBAAmB1Q,EAAM8D,SCwDlE+M,GAAiBzC,aAFN,SAACpO,GAAD,OAAsBA,IAEhBoO,EA9DG,SAAC,GAA2E,IAAD,EAAxEpO,EAAwE,EAAxEA,MAAO8Q,EAAiE,EAAjEA,cAAiE,EACxEzO,mBAAQ,UAAYrC,EAAM8D,OAAS,eAA3B,mBAAmD,UAAA9D,EAAMQ,eAAN,eAAe+E,QAAS,KADX,mBACjGwL,EADiG,KACvFC,EADuF,OAE3D3O,oBAAkB,GAFyC,mBAEjG4O,EAFiG,KAElFC,EAFkF,KAGxGpK,qBAAU,WAAO,IAAD,EACZ,UAAAqG,SAASC,eAAe,oBAAxB,SAAsCvK,WAuB1C,OACIyJ,IAASC,aACL,sBAAKxJ,UAAU,mBAAf,SACI,uBAAKA,UAAU,QAAf,UACI,sBACIA,UAAU,eACV2B,IAAK1F,EACL4F,IAAI,aACJjB,QAAS,SAACW,GACNwM,IACAxM,EAAE0I,iBACF1I,EAAE2I,qBAET,sBAAKlK,UAAU,eAAf,SAA+B,sBAChC,sBAAKA,UAAU,oBAAf,uCACA,wBACIC,GAAG,YACHD,UAAWkO,EAAgB,cAAgB,0BAC3ChO,SAvCJ,SAACqB,GAEb0M,EAAY1M,EAAEnB,cAAcC,OACF,KAA1BkB,EAAEnB,cAAcC,OAFF,qBAEwB+N,KAAK7M,EAAEnB,cAAcC,OAAS8N,GAAoB,GAAQA,GAAoB,IAqCpG9N,MAAO2N,IACTE,OAA6K9K,EAA7J,sBAAKpD,UAAU,0BAAf,yHAClB,yBACIS,MAAO,CAAEmB,SAAU,KACnB5B,UAAWkO,EAAgB,YAAc,qBACzCtN,QAAS,SAACW,GAAD,OAAO2M,EAxCd,SAAC3M,GACnB,IAAM8M,EAASjE,SAASkE,cAAc,KACtClE,SAASmE,KAAKC,YAAYH,GAC1B,IAAMI,EAAOC,KAAKC,UAAU1R,GACtB2R,EAAO,IAAIC,KAAK,CAACJ,GAAO,CAAE5P,KAAM,iBAChCiQ,EAAMC,OAAOC,IAAIC,gBAAgBL,GACvCP,EAAOa,KAAOJ,EACdT,EAAOc,SAAP,UAAqBnB,EAArB,OACAK,EAAOpO,GAAK,0BACZoO,EAAOe,QACPL,OAAOC,IAAIK,gBAAgBP,GAC3B1E,SAASmE,KAAKe,YAAYlF,SAASC,eAAe,4BAClD0D,IACAxM,EAAE0I,iBACF1I,EAAE2I,kBA0B8CqF,CAAchO,QAAK6B,GAHvD,uBAORgH,SAASC,eAAe,kBCxDvBmF,GAAgB,WAAO,IAAD,EACKlQ,oBAAkB,GADvB,mBACxBmQ,EADwB,KACZC,EADY,KAM/B,OAAO,uBAAK1P,UAAU,kBAAkBY,QAJpB,WAChB8O,GAAc,IAG4ChO,MAAM,2CAA7D,UACF+N,EAAa,eAAC3B,GAAD,CAAgB7Q,MAAOC,GAAMC,WAAY4Q,cAAe,kBAAM2B,GAAc,MAAa,KACvG,sBAAK1P,UAAU,4CAAf,yBACA,sBACI2B,ICfG,y5GDgBHlB,MAAO,CAAEyM,YAAa,UAAWtL,SAAU,iBAC3C5B,UAAU,eACVC,GAAI,eACJ4B,IAAK,qBEAJ8N,GAAqBtE,aAFV,SAACpO,GAAD,OAAsBA,IAEZoO,EAXT,kBACrB,uBAAqBpL,GAAG,YAAYD,UAAU,oBAA9C,UACI,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,MALK,gBCoBA4P,GAAWvE,aANA,SAACpO,GAAD,MAAuB,CAC3C4S,QAAS5S,EAAMQ,QACfqS,UAAW7S,EAAMS,UACjB8N,SAAUvO,EAAMG,YAGIiO,EAlBI,SAAC,GAAD,IAAGwE,EAAH,EAAGA,QAASC,EAAZ,EAAYA,UAAWtE,EAAvB,EAAuBA,SAAvB,OAA6I,gBAAC,IAAMtI,SAAP,WACrK,eAACyM,GAAD,GAAwB,sBACxB,uBAAsB1P,GAAG,aAAaQ,MAAO,CAAE0M,WAAY,UAA3D,UACI,uBAA8B1M,MAAO,CAAEqG,MAAO,QAA9C,UACK+I,EAAU,eAAC,GAAD,CAA2CjR,WAAW,GAA9B,oBAAyC,eAAC,GAAD,CAAuBA,WAAW,IAC7GkR,EAAY,eAAC,GAAD,CAA6ClR,WAAW,GAAhC,sBAA4C,eAAC,GAAD,CAAuBA,WAAW,MAF9G,sBAIR4M,GAAYA,EAAS5N,OAAS,EAAI4N,EAASvN,KAAI,SAACV,GAAD,OAAa,eAAC,GAAD,CAAyDA,QAASA,GAAlE,sBAAyCA,EAAQsB,eAAgCuE,EAC7IzF,KAAqB,EAAI,eAAC,GAAD,SAA6ByF,IANlD,oBCbE,OAA0B,mCCO5B2M,GAAc,WAEvB,IAAM5O,EAAUC,cACVC,EAAWC,cAEjB,OACI,uBAAKtB,UAAU,gBAAf,UACI,sBAAKS,MAAO,CAAEmB,SAAU,UAAWW,MAAO,OAAQD,UAAW,SAAU0K,WAAY,OAAQ/H,SAAU,UAArG,mEACA,yBAAO+K,QAAQ,gBAAgBhQ,UAAU,uBAAuBS,MAAO,CAAEmB,SAAU,OAAnF,UACI,wBACI3B,GAAG,gBACHpB,KAAK,OACLoR,OAAO,MACPxP,MAAO,CAAEyP,QAAS,QAClBhQ,SAAU,WAAO,IAAD,IACNiQ,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACC,GAAmC,IAAD,EAC/CjP,EAAS,CAAExC,KAAMtC,GAAUiF,QAASkN,KAAK6B,MAAL,UAAWD,EAAGE,cAAd,aAAW,EAAWC,UAC1DtP,EAAQM,KAAK,aAEjB0O,EAAOO,WAAP,UAAmBtG,SAASuG,cAAc,yBAA1C,iBAAkB,EAAgEC,aAAlF,aAAkB,EAAuEC,KAAK,OAGtG,sBAAKpQ,MAAO,CAAEmB,SAAU,OAAS5B,UAAU,6BAA3C,6CACA,sBAAKS,MAAO,CAAEmB,SAAU,OAASC,IAAI,gBAAgB7B,UAAU,2BAA2B2B,IAAKlG,OAEnG,uBAAKuE,UAAU,uBAAuBS,MAAO,CAAEmB,SAAU,OAAShB,QAAS,WACvES,EAAS,CAAExC,KAAMtC,GAAUiF,QAASX,KACpCM,EAAQM,KAAK,aAFjB,UAII,sBAAKzB,UAAU,6BAAf,+BACA,sBAAK6B,IAAI,gBAAgB7B,UAAU,2BAA2B2B,IAAKpG,OAEvE,uBACIyE,UAAU,uBACVS,MAAO,CAAEmB,SAAU,OACnBhB,QAAS,WACLS,EAAS,CAAExC,KAAMtC,GAAUiF,QAAUsP,KACrC3P,EAAQM,KAAK,aALrB,UAOI,sBAAKzB,UAAU,6BAAf,wCACA,sBAAK6B,IAAI,gBAAgB7B,UAAU,2BAA2B2B,IAAKtG,WCtCnF,IAWa0V,GAAe1F,eAXhB,kBACV,eAAC,IAAD,UACE,sBAAKrL,UAAU,WAAf,SACE,gBAAC,IAAD,WAEE,eAAC,IAAD,CAAOgR,KAAK,WAAWC,UAAWrB,KAClC,eAAC,IAAD,CAAOoB,KAAK,IAAIC,UAAWlB,eAMtB7S,GAAQgU,aCjBd,WAAqG,IAA/EjU,EAA8E,uDAA3D4D,GAAkBsQ,EAAyC,uCACvG,OAAQA,EAAOtS,MACX,KAAKuS,GACD,OAAOD,EAAO3P,QAClB,KAAK4P,GACD,OAAO,2BAAKnU,GAAZ,IAAmB8D,MAAOoQ,EAAO3P,UACrC,KAAK4P,EACD,OAAO,2BAAKnU,GAAZ,IAAmBQ,QAAQ,2BAAMR,EAAMQ,SAAb,IAAmCW,KAAM+S,EAAO3P,YAC9E,KAAK4P,EACD,OAAO,2BAAKnU,GAAZ,IAAmBQ,QAAS0T,EAAO3P,UACvC,KAAK4P,EACD,OAAO,2BAAKnU,GAAZ,IAAmBS,UAAWyT,EAAO3P,UACzC,KAAK4P,EACD,IAAM5F,EAAWvO,EAAMG,SAAN,uBAAqBH,EAAMG,UAA3B,aAAwC+T,EAAO3P,UAAW2P,EAAO3P,QAClF,OAAO,2BAAKvE,GAAZ,IAAmBG,SAAUoO,EAAU1K,QAAS7D,EAAM6D,QAAUqQ,EAAO3P,QAAQnE,QAAO,SAACC,EAAKC,GAAN,OAAkBD,EAAOC,EAAQC,OAASD,EAAQyO,OAAO,KACnJ,QACI,OAAO/O,KDC4BoU,YAA0B,kBAAXtC,QACf,qBAArCA,OAAeuC,kBACtBvC,OAAeuC,oBAChB,SAACC,GAAD,OAAYA,KAGdhI,SACE,eAAC,IAAMiI,WAAP,UACE,eAAC,IAAD,CAAUtU,MAAOA,GAAjB,SACE,eAAC6T,GAAD,QAGJ3G,SAASC,eAAe,W","file":"static/js/main.dbbd1daa.chunk.js","sourcesContent":["import { Power, Stats } from \"./Characters\";\r\n\r\nexport enum BackgroundEnum {\r\n    Biomorph = \"Biomorph\",\r\n    Cyborg = \"Cyborg\",\r\n    Mystic = \"Mystic\",\r\n    Psionicist = \"Psionicist\",\r\n    RoboticsExpert = \"RoboticsExpert\",\r\n    Rogue = \"Rogue\",\r\n    Tekker = \"Tekker\",\r\n    Veteran = \"Veteran\",\r\n}\r\n\r\nexport interface BackgroundMetadata {\r\n    name: string;\r\n    statModifications: {\r\n        mandatory: Partial<Stats>;\r\n        optional: Partial<Stats>;\r\n        chooseOptionals: number;\r\n    };\r\n    corePowers: string[];\r\n    description: string;\r\n}\r\n\r\nexport interface BackgroundModifications {\r\n    name: BackgroundEnum;\r\n    statModifications: StatsImprovements;\r\n    powers: Power[];\r\n}\r\n\r\nexport interface BackgroundOptions {\r\n    name: BackgroundEnum;\r\n    statModifications: {\r\n        mandatory: Partial<Stats>;\r\n        optional: Partial<Stats>;\r\n        chooseOptionals: number;\r\n    };\r\n    corePowers: string[];\r\n    description: string;\r\n}\r\n\r\nexport interface StatsImprovements {\r\n    mandatory: Partial<Stats>;\r\n    optional: Partial<Stats>;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Biomorph.30852fce.png\";","import { SoldierGroups } from \"./Metadata\";\r\n\r\nexport interface Background {\r\n    name: string;\r\n    powers: Power[];\r\n}\r\n\r\nexport interface Power {\r\n    name: string;\r\n    activationValue: number;\r\n    strain: number;\r\n    category: string | string[];\r\n    effect: string;\r\n}\r\n\r\nexport interface Gear {\r\n    name: string;\r\n    type: string;\r\n    gearSlots: number;\r\n    notes?: string;\r\n    damageModifier?: number;\r\n    maxRange?: string | number;\r\n    armourModifier?: number;\r\n}\r\n\r\nexport interface Character {\r\n    name: string;\r\n    stats: Stats;\r\n    level: number;\r\n    gearSlots: number;\r\n    type: string;\r\n    background?: Background;\r\n    gear?: string[];\r\n}\r\n\r\nexport enum StatsEnum {\r\n    Move = \"Move\",\r\n    Fight = \"Fight\",\r\n    Shoot = \"Shoot\",\r\n    Armour = \"Armour\",\r\n    Will = \"Will\",\r\n    Health = \"Health\",\r\n}\r\n\r\nexport type Stats = { [key in StatsEnum]: number; };\r\n\r\nexport interface Soldier {\r\n    // name: string;\r\n    type: string;\r\n    stats: Stats;\r\n    cost: number;\r\n    gearSlots: number;\r\n    gear: string[];\r\n    id: number;\r\n    group: SoldierGroups;\r\n    amount: number;\r\n}\r\n\r\nexport enum CharactersEnum {\r\n    Captain = \"Captain\",\r\n    FirstMate = \"FirstMate\",\r\n}\r\n","export default __webpack_public_path__ + \"static/media/CreateCrew.aa96e00e.png\";","export default __webpack_public_path__ + \"static/media/Cyborg.1d6e41d1.png\";","export default __webpack_public_path__ + \"static/media/Add.94030173.png\";","export default __webpack_public_path__ + \"static/media/Crew.517fe591.png\";","export default __webpack_public_path__ + \"static/media/Captain.95237b5a.png\";","export default __webpack_public_path__ + \"static/media/Delete.17e835d8.png\";","export default __webpack_public_path__ + \"static/media/Treasury.94a0facb.png\";","export default __webpack_public_path__ + \"static/media/ImportCrew.e5abae4c.png\";","export default __webpack_public_path__ + \"static/media/Mystic.41443507.png\";","export default __webpack_public_path__ + \"static/media/Psionicist.3e8db9d2.png\";","export default __webpack_public_path__ + \"static/media/RoboticsExpert.62afca10.png\";","export default __webpack_public_path__ + \"static/media/Rogue.67294730.png\";","export default __webpack_public_path__ + \"static/media/Tekker.9c3b86f0.png\";","export default __webpack_public_path__ + \"static/media/Unknown.c12505bd.png\";","export default __webpack_public_path__ + \"static/media/UseSample.3dd4980b.png\";","export default __webpack_public_path__ + \"static/media/Veteran.9d33839f.png\";","import { BackgroundEnum } from \"../types/Background\";\r\nimport BiomorphPng from \"./Biomorph.png\";\r\nimport CreateCrewPng from \"./CreateCrew.png\";\r\nimport CyborgPng from \"./Cyborg.png\";\r\nimport AddPng from \"./icons/Add.png\";\r\nimport CaptainPng from \"./icons/Captain.png\";\r\nimport CreditsPng from \"./icons/Credits.png\";\r\nimport CrewPng from \"./icons/Crew.png\";\r\nimport DeletePng from \"./icons/Delete.png\";\r\nimport ExitPng from \"./icons/Exit.png\";\r\nimport SavePng from \"./icons/Save.png\";\r\nimport TreasuryPng from \"./icons/Treasury.png\";\r\nimport ImportCrewPng from \"./ImportCrew.png\";\r\nimport MysticPng from \"./Mystic.png\";\r\nimport PsionicistPng from \"./Psionicist.png\";\r\nimport RoboticsExpertPng from \"./RoboticsExpert.png\";\r\nimport RoguePng from \"./Rogue.png\";\r\nimport TekkerPng from \"./Tekker.png\";\r\nimport UnknownPng from \"./Unknown.png\";\r\nimport UseSamplePng from \"./UseSample.png\";\r\nimport VeteranPng from \"./Veteran.png\";\r\n\r\nexport const CyborgIcon = CyborgPng;\r\nexport const BiomorphIcon = BiomorphPng;\r\nexport const MysticIcon = MysticPng;\r\nexport const PsionicistIcon = PsionicistPng;\r\nexport const RoboticsExpertIcon = RoboticsExpertPng;\r\nexport const RogueIcon = RoguePng;\r\nexport const TekkerIcon = TekkerPng;\r\nexport const VeteranIcon = VeteranPng;\r\n\r\nexport const getBackgroundImage = (background: string | undefined) => {\r\n    switch (background) {\r\n        case BackgroundEnum.Biomorph: return BiomorphIcon;\r\n        case BackgroundEnum.Cyborg: return CyborgIcon;\r\n        case BackgroundEnum.Mystic: return MysticIcon;\r\n        case BackgroundEnum.Psionicist: return PsionicistIcon;\r\n        case BackgroundEnum.RoboticsExpert: return RoboticsExpertIcon;\r\n        case BackgroundEnum.Rogue: return RogueIcon;\r\n        case BackgroundEnum.Tekker: return TekkerIcon;\r\n        case BackgroundEnum.Veteran: return VeteranIcon;\r\n        default:\r\n            return UnknownPng;\r\n    }\r\n};\r\n\r\nexport const CaptainIcon = CaptainPng;\r\nexport const UseSampleIcon = UseSamplePng;\r\nexport const CreateCrewIcon = CreateCrewPng;\r\nexport const ImportCrewIcon = ImportCrewPng;\r\nexport const CreditsIcon = CreditsPng;\r\nexport const TreasuryIcon = TreasuryPng;\r\nexport const CrewIcon = CrewPng;\r\nexport const AddIcon = AddPng;\r\nexport const SaveIcon = SavePng;\r\nexport const ExitIcon = ExitPng;\r\n\r\nexport const DeleteItemIcon = DeletePng;\r\n","import { Character, Soldier } from \"../types/Characters\";\r\nimport { CrewState } from \"../types/State\";\r\n\r\nexport const ADD_SOLDIERS = \"ADD_SOLDIERS\";\r\nexport const SET_CAPTAINS_NAME = \"SET_CAPTAINS_NAME\";\r\nexport const SET_FIRST_MATE = \"SET_FIRST_MATE\";\r\nexport const SET_CAPTAIN = \"SET_CAPTAIN\";\r\nexport const SET_CREW = \"SET_CREW\";\r\nexport const SET_CREWNAME = \"SET_CREWNAME\";\r\n\r\ninterface SetCrew {\r\n    type: typeof SET_CREW;\r\n    payload: CrewState;\r\n}\r\n\r\ninterface SetCrewName {\r\n    type: typeof SET_CREWNAME;\r\n    payload: string;\r\n}\r\n\r\ninterface SetCaptainsName {\r\n    type: typeof SET_CAPTAINS_NAME;\r\n    payload: string;\r\n}\r\n\r\ninterface SetCaptain {\r\n    type: typeof SET_CAPTAIN;\r\n    payload: Character;\r\n}\r\n\r\ninterface SetFirstMate {\r\n    type: typeof SET_FIRST_MATE;\r\n    payload: Character;\r\n}\r\n\r\ninterface AddSoldiers {\r\n    type: typeof ADD_SOLDIERS;\r\n    payload: Soldier[];\r\n}\r\nexport type Actions = SetCrew | SetCrewName | SetCaptainsName | SetCaptain | SetFirstMate | AddSoldiers;\r\n","import { store } from \".\";\r\nimport * as BackgroundList from \"./data/Backgrounds.json\";\r\nimport * as GearItems from \"./data/Gear.json\";\r\nimport * as PowerList from \"./data/Powers.json\";\r\nimport { BackgroundMetadata } from \"./types/Background\";\r\nimport { CharactersEnum, Gear, Power, Stats, StatsEnum } from \"./types/Characters\";\r\n\r\nconst allPowers: Power[] = PowerList.Powers;\r\nconst allBackgrounds: BackgroundMetadata[] = BackgroundList.backgrounds;\r\nconst allGear: Gear[] = GearItems.general;\r\n\r\nexport const numberOfCrewMembers = () => {\r\n    const state = store.getState();\r\n    return (state.Soldiers.reduce((acc, soldier) => soldier.amount + acc, 0) || 0) + (state.Captain ? 1 : 0) + (state.FirstMate ? 1 : 0);\r\n};\r\n\r\nexport const numberOfSoldiers = () => {\r\n    const state = store.getState();\r\n    return state.Soldiers?.length || 0;\r\n};\r\n\r\nexport const getStatStrings = (stats: Stats | Partial<Stats>) => Object.keys(stats).map((stat) => {\r\n    switch (stat) {\r\n        case \"Fight\":\r\n        case \"Shoot\":\r\n        case \"Will\":\r\n            return { [stat]: stats[stat] as number < 0 ? `${stats[stat]}` : `+${stats[stat]}` };\r\n        default:\r\n            return { [stat]: `${stats[stat as StatsEnum]}` };\r\n    }\r\n});\r\nconst getPower = (name: string) => allPowers.find((power) => power.name === name) as Power;\r\n\r\nexport const getPowerInfos = (powerNames: string[]): Power[] => powerNames.map(getPower);\r\n\r\nconst getBackground = (name: string) => allBackgrounds.find((background) => background.name === name) as BackgroundMetadata;\r\n\r\nexport const isCorePower = (powerName: string, backgroundName: string) => !!getBackground(backgroundName).corePowers.find((power) => power === powerName);\r\n\r\nexport const isCaptain = (type: string) => type === CharactersEnum.Captain;\r\n\r\nexport const getNonCorePowers = (backgroundName: string) => allPowers.filter((power) => !getBackground(backgroundName).corePowers.includes(power.name));\r\n\r\nexport const getStatsMaximums = () => ({ \"Move\": 7, \"Fight\": 6, \"Shoot\": 6, \"Will\": 8, \"Health\": 25, \"Armour\": 14 });\r\n\r\nexport const getGearDetails = (gearName: string) => allGear.find((gear) => gear.name === gearName) as Gear;\r\n","import { Stats } from \"./Characters\";\r\n\r\nexport enum SoldierGroups {\r\n    Standard = \"Standard\",\r\n    Specialist = \"Specialist\",\r\n}\r\n\r\nexport interface SoldierMetadata {\r\n    type: string;\r\n    cost: number;\r\n    stats: Stats;\r\n    gear: string[];\r\n    group: SoldierGroups;\r\n}\r\n\r\nexport interface CharacterMetadata {\r\n    stats: Stats;\r\n    level: number;\r\n    gearSlots: number;\r\n    type: string;\r\n}\r\n","import React, { useLayoutEffect, useRef, useState } from \"react\";\r\n\r\nexport const InputComponent = ({ currentState, tooltip, cssClass, callback }: { currentState: string; tooltip: string; cssClass: string; callback(name: string): void }) => {\r\n    const [name, setName] = useState<string>(currentState);\r\n    const [inputVisible, setInputVisible] = useState<boolean>(false);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    useLayoutEffect(() => {\r\n        inputRef?.current?.focus();\r\n    }, [inputVisible]);\r\n\r\n    const checkEnter = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (event.code === \"Enter\") {\r\n            callback(name);\r\n            setInputVisible(false);\r\n        }\r\n        if (event.code === \"Escape\") {\r\n            setName(currentState);\r\n            callback(currentState);\r\n            setInputVisible(false);\r\n        }\r\n    };\r\n\r\n    return inputVisible ?\r\n        <input\r\n            ref={inputRef}\r\n            className={cssClass}\r\n            id=\"NameInput\"\r\n            onChange={(event: React.FormEvent<HTMLInputElement>) => setName(event.currentTarget.value)}\r\n            onKeyDown={checkEnter}\r\n            onBlur={() => {\r\n                callback(name);\r\n                setInputVisible(false);\r\n            }}\r\n            value={name}\r\n        /> :\r\n        <div\r\n            style={{ placeSelf: \"start\", padding: \"0.2rem 0.23rem\" }}\r\n            className={currentState ? \"input-text-div\" : \"input-text-div input-error\"}\r\n            onClick={() => setInputVisible(true)}>\r\n            {currentState || tooltip}\r\n        </div>;\r\n};\r\n","// import * as Characters from \"../data/Characters.json\";\r\nimport { Character, Soldier } from \"./Characters\";\r\n\r\nexport interface CrewState {\r\n    Credits: number;\r\n    Captain?: Character;\r\n    FirstMate?: Character;\r\n    Soldiers: Soldier[];\r\n    Title: string;\r\n}\r\n\r\nexport const InitialCrewState: CrewState = {\r\n    Credits: 400,\r\n    Soldiers: [],\r\n    Title: \"\",\r\n};\r\n","import { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ExitIcon } from \"../../images\";\r\nimport { SET_CREW } from \"../../redux/actions\";\r\nimport { InitialCrewState } from \"../../types/State\";\r\n\r\nexport const ExitComponent = ({ compactView, clickFn }: { compactView?: boolean; clickFn?(e: React.MouseEvent<HTMLDivElement, MouseEvent>): void }) => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const defaultFn = () => {\r\n        dispatch({ type: SET_CREW, payload: InitialCrewState });\r\n        history.push(\"/\");\r\n    };\r\n    return <div className=\"statusbar-tiles\" onClick={(e) => {\r\n        clickFn ? clickFn(e) : defaultFn();\r\n    }} title=\"Click to return to main menu\">\r\n        {compactView ? null : <div className=\"toolbar-two-column-header-text small-text\" >Exit</div>}\r\n        <img\r\n            src={ExitIcon}\r\n            style={compactView ? { gridArea: \"1 / 1 / 1 / 2\" } : { gridArea: \"2 / 1 / 2 / 2\" }}\r\n            className={compactView ? \"toolbar-compact-icon\" : \"toolbar-icon\"}\r\n            id={\"ExitIcon\"}\r\n            alt={\"ExitIcon\"}>\r\n        </img>\r\n    </div>;\r\n};\r\n","export default \"data:image/png;base64,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\"","import * as Characters from \"../data/Characters.json\";\r\nimport { Character, Stats, StatsEnum } from \"../types/Characters\";\r\nimport { CharacterMetadata } from \"../types/Metadata\";\r\nimport { getStatStrings, isCaptain } from \"../Utils\";\r\n\r\nconst baseCaptain = Characters.Captain as CharacterMetadata;\r\nconst baseFirstMate = Characters.FirstMate as CharacterMetadata;\r\n\r\nexport const StatusBarTable = (\r\n    { character, statModifications, gearSlotsUsed }:\r\n        { character: Character; statModifications: Partial<Stats>; gearSlotsUsed: number }\r\n) => {\r\n    const improvedStats = () => Object.keys(character.stats).reduce(\r\n        (acc, stat) => ({ ...acc, [stat]: character.stats[stat as StatsEnum] + (statModifications[stat as StatsEnum] || 0) }),\r\n        { \"Move\": 0, \"Fight\": 0, \"Shoot\": 0, \"Armour\": 0, \"Will\": 0, \"Health\": 0 }\r\n    );\r\n    return <div className=\"statusbar-tiles\"><table style={{ textAlign: \"center\" }}>\r\n        <colgroup>\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n            <col style={{ width: \"11%\" }} />\r\n        </colgroup>\r\n        <thead>\r\n            <tr className=\"small-text\">\r\n                {Object.keys(StatsEnum).map((stat) => <td key={`add_dialog__stat_header_${stat}`}>{stat}</td>)}\r\n                <td key={\"add_dialog_stat_header_level\"}>Level</td>\r\n                <td key={\"add_dialog_stat_header_gear\"}>Background</td>\r\n                <td key={\"add_dialog_stat_header_gear\"}>Gear</td>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr>\r\n                {getStatStrings(improvedStats()).map((stat) =>\r\n                    <td\r\n                        className={improvedStats()[Object.keys(stat)[0] as StatsEnum] !== (isCaptain(character.type) ? baseCaptain : baseFirstMate).stats[Object.keys(stat)[0] as StatsEnum] ? \"improved-stat\" : \"\"}\r\n                        key={`add_dialog_${character.name}_stat_${Object.keys(stat)[0]}`}>\r\n                        {stat[Object.keys(stat)[0]]}\r\n                    </td>\r\n                )}\r\n                <td>{character.level}</td>\r\n                <td>{character.background ? character.background.name : \"?\"}</td>\r\n                <td>{`${gearSlotsUsed} / ${character.gearSlots}`}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    </div>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport * as Backgrounds from \"../../data/Backgrounds.json\";\r\nimport { getBackgroundImage } from \"../../images/index\";\r\nimport { BackgroundEnum, BackgroundModifications, BackgroundOptions } from \"../../types/Background\";\r\nimport { Character } from \"../../types/Characters\";\r\nimport { isCaptain } from \"../../Utils\";\r\n\r\nconst backgroundInformation = Backgrounds.backgrounds as BackgroundOptions[];\r\nconst getBackgroundInfos = (background: BackgroundEnum) => backgroundInformation.find((bg) => bg.name === background) as BackgroundOptions;\r\n\r\nexport const SelectBackground = ({ character, selectedBackground, updateAndContinue }: { character: Character; selectedBackground: BackgroundModifications | undefined; updateAndContinue(value: BackgroundModifications): void }) => {\r\n    const [background, setBackground] = useState<BackgroundModifications | undefined>();\r\n    const renderBackgroundTile = (bg: BackgroundEnum) => <div\r\n        key={`add-character-${bg}`}\r\n        className={bg === background?.name ? \"add-character-background background-selected\" : \"add-character-background\"}\r\n        onClick={() => setBackground(\r\n            bg === background?.name ?\r\n                undefined :\r\n                {\r\n                    name: bg,\r\n                    statModifications: { mandatory: getBackgroundInfos(bg).statModifications.mandatory, optional: {} },\r\n                    powers: [],\r\n                }\r\n        )}>\r\n        <img className=\"add-character-background-icons\" src={getBackgroundImage(bg)} alt={`add-character-${bg}-icon`} />\r\n        <div className=\"add-character-background-text\">{`${bg}`}</div>\r\n    </div>;\r\n\r\n    return <React.Fragment>\r\n        <div className=\"modal-header\">{`Select a background for your ${isCaptain(character.type) ? \"Captain\" : \"First Mate\"}`}</div>\r\n        <div className=\"add-character-background-container\">\r\n            {Object.keys(BackgroundEnum).map((backgroundEnumEntry: string) => renderBackgroundTile(backgroundEnumEntry as BackgroundEnum))}\r\n        </div>\r\n        {background ? <div className=\"modal-header\">Background Description</div> : null}\r\n        {background ? <div className=\"background-description\">{getBackgroundInfos(background.name).description}</div> : null}\r\n        <button\r\n            onClick={() => background ? updateAndContinue(background) : undefined}\r\n            className={background && character.name ? \"power-btn\" : \"power-btn disabled\"}\r\n        >Confirm Background selection</button>\r\n    </React.Fragment>;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as GearItems from \"../../data/Gear.json\";\r\nimport { Gear } from \"../../types/Characters\";\r\nimport { getGearDetails } from \"../../Utils\";\r\n\r\nconst gearList = GearItems.general as Gear[];\r\n\r\nexport const SelectGear = (\r\n    { isCaptain, updateGear, finish }:\r\n        { isCaptain: boolean; updateGear(value: string[]): void; finish(): void }\r\n) => {\r\n    const [selectedGear, setSelectedGear] = useState<string[]>([\"Knife\"]);\r\n    useEffect(() => updateGear(selectedGear), [selectedGear]);\r\n    const isGearSelected = (gear: string) => !!selectedGear.find((gr) => gr === gear);\r\n    const maxGear = () => selectedGear.reduce((acc, gear) => acc + getGearDetails(gear).gearSlots, 0) >= (isCaptain ? 6 : 5);\r\n    const getGearByType = (gearType: string) => {\r\n        switch (gearType) {\r\n            case \"Armour\": return gearList.filter((gear) => gear.type === \"Armour\");\r\n            case \"Weapon\": return gearList.filter((gear) => gear.type === \"Weapon\");\r\n            case \"Equipment\": return gearList.filter((gear) => gear.type === \"Equipment\");\r\n        }\r\n    };\r\n    const getCSSClasses = (name: string, withMax?: boolean) => isGearSelected(name) ? \"background-power-selection selected\" : itemTooLarge(name) || (withMax && maxGear()) ? \"background-power-selection disabled\" : \"background-power-selection\";\r\n    const itemTooLarge = (gearName: string) => selectedGear.reduce((acc, gearItem) => acc + getGearDetails(gearItem).gearSlots, 0) + getGearDetails(gearName).gearSlots > (isCaptain ? 6 : 5);\r\n    const onClickHandler = (gearName: string) => {\r\n        if (isGearSelected(gearName)) {\r\n            setSelectedGear(selectedGear.filter((gear) => gear !== gearName));\r\n        } else {\r\n            if (itemTooLarge(gearName) || (getGearDetails(gearName).type === \"Weapon\" && maxGear())) {\r\n                return;\r\n            }\r\n            if (getGearDetails(gearName).type === \"Armour\") {\r\n                setSelectedGear([...selectedGear.filter((selGear) => getGearDetails(selGear).type !== getGearDetails(gearName).type), gearName]);\r\n                return;\r\n            }\r\n            if ((getGearDetails(gearName).type === \"Weapon\" && getGearDetails(gearName).maxRange === \"Melee\")) {\r\n                setSelectedGear([\r\n                    ...selectedGear.filter((selGear) => getGearDetails(selGear).maxRange !== \"Melee\"),\r\n                    gearName,\r\n                ]);\r\n                return;\r\n            }\r\n            setSelectedGear([...selectedGear, gearName]);\r\n        }\r\n    };\r\n    const getDamageModifierString = (weapon: Gear) => {\r\n        if (!weapon.damageModifier) {\r\n            return \"+0\";\r\n        }\r\n        if (weapon.damageModifier > 0) {\r\n            return `+${weapon.damageModifier}`;\r\n        }\r\n\r\n        return `${weapon.damageModifier}`;\r\n    };\r\n    return <React.Fragment>\r\n        <div className=\"gear-section\">\r\n            <div className=\"modal-header\">Equipment</div>\r\n            {getGearByType(\"Equipment\")?.map((equi) =>\r\n                <div className={getCSSClasses(equi.name)} style={{ width: \"45%\" }} onClick={() => onClickHandler(equi.name)}>\r\n                    <div>{`${equi.name} ( ${equi.gearSlots} )`}</div>\r\n                    <div style={{ fontSize: \"0.65rem\" }}>{equi.notes}</div>\r\n                </div>)}\r\n            <div className=\"modal-header\">Armour</div>\r\n            {getGearByType(\"Armour\")?.map((armour) =>\r\n                <div className={getCSSClasses(armour.name)} style={{ width: \"45%\" }} onClick={() => onClickHandler(armour.name)}>\r\n                    <div>{`${armour.name} ( ${armour.gearSlots} )`}</div>\r\n                    <div style={{ fontSize: \"0.65rem\" }}>{`Armour: +${armour.armourModifier}`}</div>\r\n                    {armour.notes ? <div style={{ fontSize: \"0.65rem\" }}>{armour.notes}</div> : null}\r\n                </div>)}\r\n        </div>\r\n\r\n        <div className=\"gear-section\">\r\n            <div className=\"modal-header\">Melee Weapons</div>\r\n            {getGearByType(\"Weapon\")?.filter((weapon) => weapon.maxRange === \"Melee\").map((weapon) =>\r\n                <div className={getCSSClasses(weapon.name, true)} style={{ width: \"45%\" }} onClick={() => onClickHandler(weapon.name)}>\r\n                    <div>{`${weapon.name} ( ${weapon.gearSlots} )`}</div>\r\n                    <div style={{ fontSize: \"0.65rem\" }}>{weapon.maxRange ? `Range: ${weapon.maxRange}` : \"Melee\"} / {`Gear Slots: ${weapon.gearSlots}`} / {`Damage: ${getDamageModifierString(weapon)}`}</div>\r\n                    {weapon.notes ? <div style={{ fontSize: \"0.65rem\" }}>{weapon.notes}</div> : null}\r\n                </div>)}\r\n            <div className=\"modal-header\">Shooting Weapons</div>\r\n            {getGearByType(\"Weapon\")?.filter((weapon) => weapon.maxRange !== \"Melee\").map((weapon) =>\r\n                <div className={getCSSClasses(weapon.name, true)} style={{ width: \"45%\" }} onClick={() => onClickHandler(weapon.name)}>\r\n                    <div>{`${weapon.name} ( ${weapon.gearSlots} )`}</div>\r\n                    <div style={{ fontSize: \"0.65rem\" }}>{weapon.maxRange ? `Range: ${weapon.maxRange}` : \"Melee\"} / {`Gear Slots: ${weapon.gearSlots}`} / {`Damage: ${getDamageModifierString(weapon)}`}</div>\r\n                    {weapon.notes ? <div style={{ fontSize: \"0.65rem\" }}>{weapon.notes}</div> : null}\r\n                </div>)}\r\n        </div>\r\n        <button\r\n            onClick={() => { updateGear(selectedGear.sort((a, b) => (a.localeCompare(b)))); finish(); }}\r\n            className={\"power-btn\"}\r\n        >{`${\"Confirm Gear selection and finish character creation\"}`}</button>\r\n    </React.Fragment>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport * as Backgrounds from \"../../data/Backgrounds.json\";\r\nimport { BackgroundEnum, BackgroundModifications, BackgroundOptions } from \"../../types/Background\";\r\nimport { Power } from \"../../types/Characters\";\r\nimport { getNonCorePowers, getPowerInfos, isCorePower } from \"../../Utils\";\r\n\r\nconst backgroundInformation = Backgrounds.backgrounds as BackgroundOptions[];\r\nconst getBackgroundInfos = (background: BackgroundEnum) => backgroundInformation.find((bg) => bg.name === background) as BackgroundOptions;\r\n\r\nexport const SelectPowers = (\r\n    { background, isCaptain, updatePowers }:\r\n        { background: BackgroundModifications; isCaptain: boolean; updatePowers(value: Power[]): void }\r\n) => {\r\n    const [selectedPowers, setSelectedPowers] = useState<Power[]>([]);\r\n    const [previewPower, setPreviewPower] = useState<Power>({ name: \"\", activationValue: 0, strain: 0, category: \"Touch\", effect: \"Click any Power to preview here\" });\r\n    const isPowerSelected = (power: Power) => !!selectedPowers.find((pwr) => pwr.name === power.name);\r\n    const infos = getBackgroundInfos(background.name);\r\n\r\n    const maxCorePowersSelected = () => {\r\n        let powersRemaining = isCaptain ? 4 : 3;\r\n        if (selectedPowers.filter((power) => !isCorePower(power.name, background.name)).length === 2) {\r\n            powersRemaining = isCaptain ? 3 : 2;\r\n        }\r\n        return selectedPowers.filter((power) => isCorePower(power.name, background.name)).length >= powersRemaining;\r\n    };\r\n\r\n    const maxNonCorePowersSelected = () => selectedPowers.filter((power) => !isCorePower(power.name, background.name)).length >= (maxCorePowersSelected() ? 1 : 2);\r\n    const maxPowersSelected = () => selectedPowers.length >= (isCaptain ? 5 : 4);\r\n\r\n    return <React.Fragment>\r\n        <div className=\"power-preview-section\">\r\n            <div className=\"power-preview-name\">{previewPower.name}</div>\r\n            <div className=\"power-preview-infos\">{`Activation: ${previewPower.activationValue}`} / {`Strain: ${previewPower.strain}`} / {Array.isArray(previewPower.category) ? `Categories: ${previewPower.category.join(\", \")}` : `Category: ${previewPower.category}`}</div>\r\n            <div className={previewPower.effect.length <= 200 ? \"power-preview-large-text\" : previewPower.effect.length <= 400 ? \"power-preview-medium-text\" : \"power-preview-small-text\"}>{previewPower.effect}</div>\r\n        </div>\r\n        <div className=\"core-power-section\">\r\n            <div className=\"modal-header\">{`Choose ${isCaptain ? \"3 - 4\" : \"2 - 3\"} core Powers`}</div>\r\n            <div className=\"section-div\" >\r\n                {background ? getPowerInfos(infos.corePowers).map((power) => <div\r\n                    style={{ float: \"none\" }}\r\n                    onMouseOver={() => setPreviewPower(power)}\r\n                    onClick={() => {\r\n                        setPreviewPower(isCaptain ? power : { ...power, activationValue: power.activationValue + 2 });\r\n                        if (isPowerSelected(power)) {\r\n                            const idx = selectedPowers.findIndex((pwr) => pwr.name === power.name);\r\n                            if (idx !== -1) {\r\n                                setSelectedPowers([...selectedPowers.slice(0, idx), ...selectedPowers.slice(idx + 1, selectedPowers.length)]);\r\n                            }\r\n                        } else {\r\n                            if (maxCorePowersSelected()) {\r\n                                return;\r\n                            }\r\n                            setSelectedPowers([...selectedPowers, { ...power, activationValue: power.activationValue + (isCaptain ? 0 : 2) }]);\r\n                        }\r\n                    }}\r\n                    className={isPowerSelected(power) ? \"background-power-selection selected\" : maxCorePowersSelected() ? \"background-power-selection disabled\" : \"background-power-selection\"}\r\n                    key={`add_dialog_x_stat_${power.name}`}>\r\n                    <div>{power.name}</div>\r\n                    <div style={{ fontSize: \"0.65rem\" }}>{power.activationValue + (isCaptain ? 0 : 2)} / {power.strain} / {Array.isArray(power.category) ? `${power.category.join(\", \")}` : power.category}</div>\r\n                </div>\r\n                ) : null}\r\n            </div>\r\n        </div>\r\n        <div className=\"non-core-power-section\">\r\n            <div className=\"modal-header\">Choose 1 - 2 non-core Powers</div>\r\n            <div className=\"section-div\" >\r\n                {background ? getNonCorePowers(background.name).map((power) => <div\r\n                    onMouseOver={() => setPreviewPower(power)}\r\n                    onClick={() => {\r\n                        setPreviewPower({ ...power, activationValue: power.activationValue + (isCaptain ? 2 : 4) });\r\n                        if (isPowerSelected(power)) {\r\n                            const idx = selectedPowers.findIndex((pwr) => pwr.name === power.name);\r\n                            if (idx !== -1) {\r\n                                setSelectedPowers([...selectedPowers.slice(0, idx), ...selectedPowers.slice(idx + 1, selectedPowers.length)]);\r\n                            }\r\n                        } else {\r\n                            if (maxNonCorePowersSelected()) {\r\n                                return;\r\n                            }\r\n                            setSelectedPowers([...selectedPowers, { ...power, activationValue: power.activationValue + (isCaptain ? 2 : 4) }]);\r\n                        }\r\n                    }}\r\n                    className={isPowerSelected(power) ? \"background-power-selection selected\" : maxNonCorePowersSelected() ? \"background-power-selection disabled\" : \"background-power-selection\"}\r\n                    key={`add_dialog_x_stat_${power.name}`}>\r\n                    <div>{power.name}</div>\r\n                    <div style={{ fontSize: \"0.65rem\" }}>{power.activationValue + (isCaptain ? 2 : 4)} / {power.strain} / {Array.isArray(power.category) ? `${power.category.join(\", \")}` : power.category}</div>\r\n                </div>\r\n                ) : null}\r\n            </div>\r\n        </div>\r\n        <button\r\n            onClick={() => maxPowersSelected() ? updatePowers(selectedPowers.sort((a, b) => (a.name.localeCompare(b.name)))) : undefined}\r\n            className={maxPowersSelected() ? \"power-btn\" : \"power-btn disabled\"}\r\n        >{`${isCaptain ? \"Confirm Powers selection\" : \"Confirm Powers selection and finish creation\"}`}</button>\r\n    </React.Fragment>;\r\n};\r\n","import { useState } from \"react\";\r\nimport { Power } from \"../../types/Characters\";\r\n\r\nexport const SelectPowerUpgrades = ({ powers, upgradePowers }: { powers: Power[]; upgradePowers(value: Power[]): void }) => {\r\n    const [selectedPowers, setSelectedPowers] = useState<Power[]>([]);\r\n    const updatedArray = () => powers.filter((pwr) => !selectedPowers.find((x) => x.name === pwr.name)).concat(selectedPowers).sort((a, b) => (a.name.localeCompare(b.name)));\r\n\r\n    return <div className=\"power-overview-container\">\r\n        <div className=\"modal-header\">Selected Powers Overview</div>\r\n        <div className=\"power-overview-hint\">Select 2 of the following powers to lower their activation value by 1 each</div>\r\n        {powers.map((power) =>\r\n            <div className={selectedPowers.find((pwr) => pwr.name === power.name) ? \"power-card selected\" : \"power-card\"}\r\n                onClick={() => {\r\n                    if (selectedPowers.find((pwr) => pwr.name === power.name)) {\r\n                        setSelectedPowers(selectedPowers.filter((pwr) => pwr.name !== power.name));\r\n                    } else {\r\n                        if (selectedPowers.length >= 2) {\r\n                            return;\r\n                        }\r\n                        setSelectedPowers([...selectedPowers, { ...power, activationValue: power.activationValue - 1 }]);\r\n                    }\r\n                }}>\r\n                <div className=\"power-preview-name\">{power.name}</div>\r\n                <div className=\"power-preview-infos\">{`Activation: ${power.activationValue}`} / {`Strain: ${power.strain}`} / {Array.isArray(power.category) ? `Categories: ${power.category.join(\", \")}` : `Category: ${power.category}`}</div>\r\n                <div className={power.effect.length <= 200 ? \"power-preview-large-text\" : power.effect.length <= 400 ? \"power-preview-medium-text\" : \"power-preview-small-text\"}>{power.effect}</div>\r\n            </div>)}\r\n        <button\r\n            onClick={() => selectedPowers.length === 2 ? upgradePowers(updatedArray()) : undefined}\r\n            className={selectedPowers.length === 2 ? \"power-btn\" : \"power-btn disabled\"}\r\n        >Confirm selection and finish creation</button>\r\n    </div>;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as Backgrounds from \"../../data/Backgrounds.json\";\r\nimport { BackgroundEnum, BackgroundModifications, BackgroundOptions } from \"../../types/Background\";\r\nimport { Stats, StatsEnum } from \"../../types/Characters\";\r\n\r\nconst backgroundInformation = Backgrounds.backgrounds as BackgroundOptions[];\r\nconst getBackgroundInfos = (background: BackgroundEnum) => backgroundInformation.find((bg) => bg.name === background) as BackgroundOptions;\r\n\r\nexport const SelectStatsImprovements = ({ background, updateStatsCallback, updateAndContinue }: { background: BackgroundModifications; updateStatsCallback(value: React.SetStateAction<Partial<Stats>>): void; updateAndContinue(): void }) => {\r\n    const [selections, setSelections] = useState<Array<Partial<Stats>>>([]);\r\n    useEffect(() => {\r\n        const mand = background.statModifications.mandatory;\r\n        const parts: Partial<Stats> = {};\r\n        const merged: Partial<Stats> = Object.assign(parts, ...selections);\r\n        updateStatsCallback(Object.fromEntries([...Object.entries(mand), ...Object.entries(merged)].reduce((acc, [key, value]) => acc.set(key, (acc.get(key) || 0) + (value || 0)), new Map<string, number | undefined>())));\r\n    }, [selections]);\r\n    const isStatSelected = (statName: string) => selections.find((stat) => stat[statName as StatsEnum] !== undefined);\r\n    const statModificationsForBackground = getBackgroundInfos(background.name).statModifications;\r\n    const maxStatsReached = () => selections.length === statModificationsForBackground.chooseOptionals;\r\n    return <React.Fragment>\r\n        <div style={{ marginTop: \"0.5rem\" }} className=\"modal-header\">Granted Stats Improvements</div>\r\n        <div className=\"section-div\" >\r\n            {Object.entries(statModificationsForBackground.mandatory).map(([statName, statValue]) =>\r\n                <div className=\"background-stat-selection background-stat-selected\" key={`add_captain_dialog_mand_stat_${statName}`}>+{statValue} {statName}</div>\r\n            )}\r\n        </div>\r\n        <div className=\"modal-header\">{`Optional Stats Improvements (choose ${statModificationsForBackground.chooseOptionals} of the following)`}</div>\r\n        <div className=\"section-div\" >\r\n            {Object.entries(statModificationsForBackground.optional).map(([statName, statValue]) =>\r\n                <div\r\n                    onClick={() => {\r\n                        if (isStatSelected(statName)) {\r\n                            setSelections(selections.filter((stat) => stat[statName as StatsEnum] === undefined));\r\n                        } else {\r\n                            if (maxStatsReached()) {\r\n                                return;\r\n                            }\r\n                            setSelections([...selections, { [statName]: statValue }]);\r\n                        }\r\n                    }}\r\n                    className={isStatSelected(statName) ? \"background-stat-selection background-stat-selected\" : maxStatsReached() ? \"background-stat-selection background-stat-disabled\" : \"background-stat-selection\"}\r\n                    key={`add_captain_dialog_opt_stat_${statName}`}>\r\n                    +{statValue} {statName}\r\n                </div>\r\n            )}\r\n        </div>\r\n        <button\r\n            onClick={() => maxStatsReached() ? updateAndContinue() : undefined}\r\n            className={maxStatsReached() ? \"power-btn\" : \"power-btn disabled\"}\r\n        >Confirm Stats selection</button>\r\n    </React.Fragment>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { SET_CAPTAIN, SET_FIRST_MATE } from \"../../redux/actions\";\r\nimport { BackgroundModifications } from \"../../types/Background\";\r\nimport { Character, Power, Stats, StatsEnum } from \"../../types/Characters\";\r\nimport { getGearDetails, isCaptain } from \"../../Utils\";\r\nimport { InputComponent } from \"../InputControl\";\r\nimport { ExitComponent } from \"../statusbar/ExitComponent\";\r\nimport { StatusBarTable } from \"../StatusBarTable\";\r\nimport { SelectBackground } from \"./SelectBackground\";\r\nimport { SelectGear } from \"./SelectGear\";\r\nimport { SelectPowers } from \"./SelectPowers\";\r\nimport { SelectPowerUpgrades } from \"./SelectPowerUpgrades\";\r\nimport { SelectStatsImprovements } from \"./SelectStatsImprovements\";\r\n\r\nexport const CharacterCreationDialog = ({ baseCharacter, callback }: { baseCharacter: Character; callback(value: React.SetStateAction<boolean>): void }) => {\r\n    const [character, setCharacter] = useState<Character>(baseCharacter);\r\n    const [background, setBackground] = useState<BackgroundModifications>();\r\n    const [updatedStats, setUpdatedStats] = useState<Partial<Stats>>({});\r\n    const [selectedPowers, setSelectedPowers] = useState<Power[]>([]);\r\n    const [statsSelected, setStatsSelected] = useState<boolean>(false);\r\n    const [powersUpgraded, setPowersUpgraded] = useState<boolean>(false);\r\n    const [gear, setGear] = useState<string[]>([]);\r\n    const dispatch = useDispatch();\r\n    const improvedStats = () => Object.keys(character.stats).reduce(\r\n        (acc, stat) => ({ ...acc, [stat]: (character.stats[stat as StatsEnum] || 0) + (updatedStats[stat as StatsEnum] || 0) }),\r\n        { \"Move\": 0, \"Fight\": 0, \"Shoot\": 0, \"Armour\": 0, \"Will\": 0, \"Health\": 0 }\r\n    );\r\n    const updatedStatsIncludingGear = () => {\r\n        const updatedStatsWithGear: Partial<Stats> = {};\r\n        gear.forEach((gearItem) => {\r\n            switch (gearItem) {\r\n                case \"Light Armour\": updatedStatsWithGear.Armour = 1; break;\r\n                case \"Heavy Armour\":\r\n                    updatedStatsWithGear.Armour = 2;\r\n                    updatedStatsWithGear.Move = -1;\r\n                    break;\r\n                case \"Unarmed\":\r\n                    updatedStatsWithGear.Fight = -2;\r\n                    break;\r\n                case \"Flame Thrower\":\r\n                case \"Rapid Fire\":\r\n                    if (!gear.includes(\"Heavy Armour\") && !gear.includes(\"Combat Armour\")) {\r\n                        updatedStatsWithGear.Move = -1;\r\n                    }\r\n            }\r\n        });\r\n        return Object.keys(character.stats).reduce(\r\n            (acc, stat) => ({ ...acc, [stat]: (updatedStats[stat as StatsEnum] || 0) + (updatedStatsWithGear[stat as StatsEnum] || 0) }),\r\n            { \"Move\": 0, \"Fight\": 0, \"Shoot\": 0, \"Armour\": 0, \"Will\": 0, \"Health\": 0 }\r\n        );\r\n    };\r\n    const finishPowerUpgrades = (powers: Power[]) => {\r\n        setPowersUpgraded(true);\r\n        setSelectedPowers(powers);\r\n    };\r\n    const finishCreation = () => {\r\n        dispatch({\r\n            type: isCaptain(character.type) ? SET_CAPTAIN : SET_FIRST_MATE,\r\n            payload: {\r\n                ...character,\r\n                stats: improvedStats(),\r\n                background: {\r\n                    name: background?.name,\r\n                    powers: selectedPowers,\r\n                },\r\n                gear,\r\n            },\r\n        });\r\n        callback(false);\r\n    };\r\n    return (\r\n        ReactDOM.createPortal(\r\n            <div className=\"block-background\">\r\n                <div className=\"modal\">\r\n                    <div className=\"compact-statusbar\" style={{ gridTemplateColumns: \"20rem auto 4rem\" }}>\r\n                        <div className=\"statusbar-tiles\" style={{ minWidth: \"14rem\" }}>\r\n                            <div className=\"small-text\">{`${character.name ? `${isCaptain(character.type) ? \"Captain\" : \"First Mate\"}` : `Click here to give your ${isCaptain(character.type) ? \"Captain\" : \"First Mate\"} a proper name`}`}</div>\r\n                            <InputComponent callback={(name: string) => setCharacter({ ...character, name })} currentState={character.name} tooltip=\"Enter Name\" cssClass=\"input-field\" />\r\n                        </div>\r\n                        <StatusBarTable\r\n                            character={background ? { ...character, background: { name: background.name, powers: [] } } : character}\r\n                            statModifications={updatedStatsIncludingGear()}\r\n                            gearSlotsUsed={gear.reduce((acc, gearItem) => acc + getGearDetails(gearItem).gearSlots, 0)} />\r\n                        <ExitComponent compactView={true} clickFn={(e) => {\r\n                            callback(false);\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }} />\r\n                    </div>\r\n                    {!background ? <SelectBackground\r\n                        character={character}\r\n                        selectedBackground={background}\r\n                        updateAndContinue={(val: BackgroundModifications) => { setBackground(val); }}\r\n                    /> : null}\r\n                    {background && !statsSelected ? <SelectStatsImprovements\r\n                        background={background}\r\n                        updateStatsCallback={(value) => { setUpdatedStats(value); }}\r\n                        updateAndContinue={() => setStatsSelected(true)}\r\n                    /> : null}\r\n                    {background && statsSelected && !(selectedPowers.length > 0) ? <SelectPowers background={background} isCaptain={isCaptain(character.type)} updatePowers={isCaptain(character.type) ? setSelectedPowers : finishPowerUpgrades} />\r\n                        : null}\r\n                    {background && statsSelected && selectedPowers.length > 0 && !powersUpgraded ? <SelectPowerUpgrades powers={selectedPowers} upgradePowers={finishPowerUpgrades} /> : null}\r\n                    {background && statsSelected && powersUpgraded ? <SelectGear isCaptain={isCaptain(character.type)} updateGear={setGear} finish={finishCreation} /> : null}\r\n                    {background ?\r\n                        <button\r\n                            onClick={() => {\r\n                                if (background && statsSelected && selectedPowers.length > 0 && powersUpgraded) {\r\n                                    setGear([]);\r\n                                    setPowersUpgraded(false);\r\n                                    setSelectedPowers([]);\r\n                                    return;\r\n                                }\r\n                                if (background && statsSelected && selectedPowers.length > 0) {\r\n                                    setSelectedPowers([]);\r\n                                    return;\r\n                                }\r\n                                if (background && statsSelected) {\r\n                                    setStatsSelected(false);\r\n                                    setUpdatedStats({});\r\n                                    return;\r\n                                }\r\n                                if (background) {\r\n                                    setBackground(undefined);\r\n                                    return;\r\n                                }\r\n                            }}\r\n                            className={\"back-btn\"}\r\n                        >Back</button>\r\n                        : undefined}\r\n                </div>\r\n            </div >,\r\n            document.getElementById(\"crewRoster\") as HTMLElement\r\n        )\r\n    );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport * as Characters from \"../data/Characters.json\";\r\nimport { AddIcon } from \"../images\";\r\nimport { CharacterMetadata } from \"../types/Metadata\";\r\nimport { CharacterCreationDialog } from \"./characterDialog/CharacterCreationWrapper\";\r\n\r\nconst baseCaptain = Characters.Captain as CharacterMetadata;\r\nconst baseFirstMate = Characters.FirstMate as CharacterMetadata;\r\nexport const AddCharacterComponent = ({ isCaptain }: { isCaptain: boolean }) => {\r\n    const [showDialog, setDialogShown] = useState<boolean>(false);\r\n    return <div key={`${isCaptain ? \"captain\" : \"firstmate\"}_tile`} className=\"add-character-tile\" onClick={() => setDialogShown(true)}>\r\n        {showDialog ? <CharacterCreationDialog baseCharacter={isCaptain ? { ...baseCaptain, name: \"\" } : { ...baseFirstMate, name: \"\" }} callback={setDialogShown} /> : undefined}\r\n        <div>\r\n            <div style={{ float: \"left\" }}>\r\n                <img className=\"background-image add-image\" src={AddIcon} alt=\"addIcon\" />\r\n                <div className=\"background-title add-title\">{`Click here to add a ${isCaptain ? \"Captain\" : \"First Mate\"} to your crew`}</div>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n};\r\n","import { CrewIcon } from \"../../images\";\r\nimport { numberOfCrewMembers } from \"../../Utils\";\r\n\r\nexport const CrewSizeComponent = ({ compactView }: { compactView?: boolean }) => {\r\n\r\n    const openHireMenu = () => {\r\n        console.error(\"HireMenu - Implementation missing\");\r\n    };\r\n\r\n    return <div className=\"statusbar-tiles\" title={\"Current size of your crew\"}>\r\n        {compactView ? null : <div className=\"toolbar-two-column-header-text small-text\" onClick={openHireMenu}>Crew Size</div>}\r\n        <img\r\n            src={CrewIcon}\r\n            className={compactView ? \"toolbar-compact-icon\" : \"toolbar-icon\"}\r\n            id={\"CrewIcon\"}\r\n            alt={\"CrewIcon\"}>\r\n        </img>\r\n        <div className={compactView ? \"toolbar-compact-text\" : \"toolbar-text\"}>{numberOfCrewMembers()} / 10</div>\r\n    </div>;\r\n};\r\n","import { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { TreasuryIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types/State\";\r\n\r\nexport const TreasuryComponent = ({ compactView }: { compactView?: boolean }) => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    return <GenericTreasuryComponent treasury={state.Credits} text=\"Treasury\" title=\"Current amount of credits in your treasury\" compactView={compactView} />;\r\n};\r\n\r\nexport const GenericTreasuryComponent = ({ treasury, title, text, compactView }: { treasury: number; title: string; text: string; compactView?: boolean }) => {\r\n\r\n    const openHistory = () => {\r\n        console.error(\"TreasuryHistory - Implementation missing\");\r\n    };\r\n\r\n    return <div className=\"statusbar-tiles\" title={title}>\r\n        {compactView ? null : <div className=\"toolbar-two-column-header-text small-text\" onClick={openHistory}>{text}</div>}\r\n        <img\r\n            src={TreasuryIcon}\r\n            className={compactView ? \"toolbar-compact-icon\" : \"toolbar-icon\"}\r\n            id={\"TreasuryIcon\"}\r\n            alt={\"TreasuryIcon\"}>\r\n        </img>\r\n        <div className={compactView ? \"toolbar-compact-text\" : \"toolbar-text\"}>\r\n            {`${treasury} \\xA5`}\r\n        </div>\r\n    </div>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\nimport * as SoldierList from \"../data/Soldiers.json\";\r\nimport { ADD_SOLDIERS } from \"../redux/actions\";\r\nimport { Soldier, StatsEnum } from \"../types/Characters\";\r\nimport { SoldierGroups, SoldierMetadata } from \"../types/Metadata\";\r\nimport { CrewState } from \"../types/State\";\r\nimport { getStatStrings } from \"../Utils\";\r\nimport { CrewSizeComponent } from \"./statusbar/CrewSizeComponent\";\r\nimport { ExitComponent } from \"./statusbar/ExitComponent\";\r\nimport { TreasuryComponent } from \"./statusbar/TreasuryComponent\";\r\n\r\nconst listOfSoldiers = SoldierList.Soldiers as SoldierMetadata[];\r\n\r\nexport const AddCrewDialog = ({ soldiersState, credits, callback }: { soldiersState: Soldier[]; credits: number; callback(value: React.SetStateAction<boolean>): void }) => {\r\n    const [soldiers, setSoldiers] = useState<Soldier[]>([]);\r\n    const dispatch = useDispatch();\r\n    const soldierCount = () => soldiersState.reduce((acc, soldier) => soldier.amount + acc, 0) + soldiers.reduce((acc, soldier) => soldier.amount + acc, 0);\r\n    const specialistCount = () => [...soldiersState, ...soldiers].filter((soldier) => soldier.group === SoldierGroups.Specialist).reduce((acc, specialist) => specialist.amount + acc, 0);\r\n    const hiringCost = () => soldiers.reduce((acc, soldier) => acc + (soldier.amount * soldier.cost), 0);\r\n    const canSubmit = () => soldierCount() <= 8 && specialistCount() <= 4 && hiringCost() <= credits;\r\n    const soldierSelection = (isSpecialist: boolean) => {\r\n        const list = listOfSoldiers.filter((soldier) => soldier.group === (isSpecialist ? SoldierGroups.Specialist : SoldierGroups.Standard));\r\n        const half = Math.ceil(list.length / 2);\r\n        return <div className=\"add-soldier-list-container\">\r\n            <div className=\"add-soldier-list-header\">{`${isSpecialist ? \"Specialist\" : \"Standard\"} Soldiers ${isSpecialist ? \"(max. 4 per crew)\" : \"\"}`}</div>\r\n            {list.map((soldier, idx) =>\r\n                <div\r\n                    key={`soldier-selection-${soldier.type}`}\r\n                    style={{ gridArea: idx >= half ? `${(idx - half) + 2} / 2` : \"\", clear: idx === 0 ? \"both\" : \"none\", margin: \"0.2rem 0.4rem 0.2rem 0rem\" }}\r\n                    className={soldierCount() >= 8 || (isSpecialist && specialistCount() >= 4) || soldier.cost > credits - hiringCost() ? \"background-power-selection disabled\" : \"background-power-selection\"}\r\n                    onClick={() => {\r\n                        if (soldierCount() > 8 || (isSpecialist && specialistCount() >= 4) || soldier.cost > credits - hiringCost()) {\r\n                            return;\r\n                        }\r\n                        const solderIdx = soldiers.findIndex((sol) => sol.type === soldier.type);\r\n                        if (solderIdx !== -1) {\r\n                            setSoldiers([...soldiers.slice(0, solderIdx), { ...soldiers[solderIdx], amount: soldiers[solderIdx].amount + 1 }, ...soldiers.slice(solderIdx + 1)]);\r\n                        } else {\r\n                            setSoldiers([...soldiers, { ...soldier, gearSlots: 1, id: soldiers.length + 1, amount: 1 }]);\r\n                        }\r\n                    }}>\r\n                    <div className=\"add_dialog_soldier_selection\">{`${soldier.type} ( ${soldier.cost} \\xA5 )`}</div>\r\n                </div>\r\n            )}\r\n        </div>\r\n            ;\r\n    };\r\n    const renderSoldierTableEntries = (soldiersToRender: Soldier[], currentCrew?: boolean) => soldiersToRender.map((soldier) => <tr style={{ background: currentCrew ? \"#d3d3d3\" : \"transparent\" }}>\r\n        <td key={`add_dialog_type_${soldier.type}`}>{soldier.type}</td>\r\n        <td key={`add_dialog_amount_${soldier.amount}`}>\r\n            {!currentCrew ? <div style={{ float: \"left\", fontWeight: \"bold\", fontSize: \"1.2rem\" }} onClick={() => {\r\n                const soldierIdx = soldiers.findIndex((sol) => sol.type === soldier.type);\r\n                if (soldierIdx !== -1) {\r\n                    setSoldiers([...soldiers.slice(0, soldierIdx), { ...soldiers[soldierIdx], amount: soldiers[soldierIdx].amount + 1 }, ...soldiers.slice(soldierIdx + 1)]);\r\n                }\r\n            }}>+</div> : null}\r\n            <div style={!currentCrew ? { float: \"left\", paddingLeft: \"1.5rem\", paddingTop: \"0.2rem\" } : {}}>{soldier.amount}x</div>\r\n            {!currentCrew ? <div style={{ float: \"right\", fontWeight: \"bold\", fontSize: \"1.2rem\" }} onClick={() => {\r\n                const soldierIdx = soldiers.findIndex((sol) => sol.type === soldier.type);\r\n                if (soldierIdx !== -1) {\r\n                    const amt = soldiers[soldierIdx].amount;\r\n                    if (amt === 1) {\r\n                        setSoldiers(soldiers.filter((sold) => sold.id !== soldier.id));\r\n                    } else {\r\n                        setSoldiers([...soldiers.slice(0, soldierIdx), { ...soldiers[soldierIdx], amount: soldiers[soldierIdx].amount - 1 }, ...soldiers.slice(soldierIdx + 1)]);\r\n                    }\r\n                }\r\n            }}>-</div> : null}\r\n        </td>\r\n        <td key={`add_dialog_cost_${soldier.cost}`}>{currentCrew ? \" - \" : `${soldier.cost} \\xA5`}</td>\r\n\r\n        {getStatStrings(soldier.stats).map((stat) => <td key={`add_dialog_${soldier.type}_stat_${Object.keys(stat)[0]}`}>{stat[Object.keys(stat)[0]]}</td>)}\r\n        <td>{soldier.gear.length > 0 ? `${soldier.gear.join(\", \")}` : \"-\"}</td>\r\n\r\n        {/* {currentCrew ? null : <td onClick={() => setSoldiers(soldiers.filter((sold) => sold.id !== soldier.id))}>\r\n            <img className=\"add_dialog_icons\" src={DeleteItemIcon} alt=\"deleteIcon\" />\r\n        </td>} */}\r\n    </tr>);\r\n\r\n    return (\r\n        ReactDOM.createPortal(\r\n            <div className=\"block-background\">\r\n                <div className=\"modal\">\r\n                    <div className=\"compact-statusbar\" >\r\n                        <div className=\"statusbar-tiles\" style={{ minWidth: \"14rem\" }}>\r\n                            <div className=\"toolbar-two-column-header-text\">Hire new crew members</div>\r\n                            <div className=\"small-text\">Max 8 crew members can be hired. Of that only 4 may be Specialists</div>\r\n                        </div>\r\n                        <CrewSizeComponent compactView={true} />\r\n                        <TreasuryComponent compactView={true} />\r\n                        <ExitComponent compactView={true} clickFn={(e) => {\r\n                            callback(false);\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }} />\r\n                    </div>\r\n\r\n                    {soldierSelection(false)}\r\n                    {soldierSelection(true)}\r\n                    <table className=\"character-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <td key={\"add_dialog_stat_header_type\"}>Type</td>\r\n                                <td key={\"add_dialog_stat_header_name\"}>Amount</td>\r\n                                <td key={\"add_dialog_stat_header_cost\"}>Cost</td>\r\n\r\n                                {Object.keys(StatsEnum).map((stat) => <td key={`add_dialog__stat_header_${stat}`}>{stat}</td>)}\r\n                                <td key={\"add_dialog_stat_header_gear\"}>Gear</td>\r\n\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {renderSoldierTableEntries(soldiersState, true)}\r\n                            {renderSoldierTableEntries(soldiers)}\r\n                            <tr style={{ fontSize: \"1.1rem\" }}>\r\n                                <td className=\"totals-td\" >Total</td>\r\n                                <td className=\"totals-td\">{soldierCount()} / 8</td>\r\n                                <td className=\"totals-td\" style={{ fontWeight: \"bold\" }}>{`${hiringCost()} \\xA5`}</td>\r\n\r\n                                <td className=\"totals-td\" />\r\n                                <td className=\"totals-td\" />\r\n                                <td className=\"totals-td\" />\r\n                                <td className=\"totals-td\" />\r\n                                <td className=\"totals-td\" />\r\n                                <td className=\"totals-td\" />\r\n                                <td className=\"totals-td\" ></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    {specialistCount() > 4 ?\r\n                        <div>You are not allowed to have more than 4 'Specialist' Soldiers in your crew</div> :\r\n                        null}\r\n                    {soldierCount() > 8 ? <div>You are not allowed to have more than 8 Soldiers in total in your crew</div> : null}\r\n                    {hiringCost() > credits ? <div>{\"You don't have enough credits ( \\xA5 ) to hire all of these crew men\"} </div> : null}\r\n                    <button\r\n                        onClick={(e) => {\r\n                            if (canSubmit()) {\r\n                                callback(false);\r\n                                dispatch({ type: ADD_SOLDIERS, payload: soldiers });\r\n                            }\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }}\r\n                        className={canSubmit() ? \"power-btn\" : \"power-btn disabled\"}>\r\n                        Confirm Staffing</button>\r\n                </div>\r\n            </div>,\r\n            document.getElementById(\"crewRoster\") as HTMLElement\r\n        )\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: CrewState) => ({ soldiersState: state.Soldiers, credits: state.Credits });\r\n\r\nexport const AddCrewDialogComponent = connect(mapStateToProps)(AddCrewDialog);\r\n","import React, { useState } from \"react\";\r\nimport { AddIcon } from \"../images\";\r\nimport { AddCrewDialogComponent } from \"./AddCrewDialog\";\r\n\r\nexport const AddCrewMemberComponent = () => {\r\n    const [showDialog, setDialogShown] = useState<boolean>(false);\r\n    return <div key={\"add_soldier_tile\"} className=\"add-character-tile\" onClick={() => setDialogShown(true)}>\r\n        {showDialog ? <AddCrewDialogComponent callback={setDialogShown} /> : undefined}\r\n        <div>\r\n            <div style={{ float: \"left\" }}>\r\n                <img className=\"background-image add-image\" src={AddIcon} alt=\"addIcon\" />\r\n                <div className=\"background-title add-title\">{\"Click here to hire a new crew member\"}</div>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n};\r\n","import { store } from \"..\";\r\nimport { getBackgroundImage } from \"../images\";\r\nimport { Character, StatsEnum } from \"../types/Characters\";\r\nimport { getGearDetails } from \"../Utils\";\r\nimport { StatusBarTable } from \"./StatusBarTable\";\r\n\r\nexport const CharacterComponent = ({ isCaptain }: { isCaptain: boolean }) => {\r\n    const state = store.getState();\r\n    const character = (isCaptain ? state.Captain : state.FirstMate) as Character;\r\n    const id = isCaptain ? \"captain\" : \"firstmate\";\r\n    const renderCaptainStats = () => <tr>\r\n        <td>{character.name}</td>\r\n        {Object.keys(character.stats).map((stat) => {\r\n            switch (stat) {\r\n                case \"Fight\":\r\n                case \"Shoot\":\r\n                case \"Will\":\r\n                    return <td key={`${id}_stat_${stat}`}>+{character.stats[stat as StatsEnum]}</td>;\r\n                default:\r\n                    return <td key={`${id}_stat_${String(stat)}`}>{character.stats[stat as StatsEnum]}</td>;\r\n            }\r\n        })}\r\n        <td>{character.level}</td>\r\n    </tr>;\r\n\r\n    return <div key={`${id}_tile`} className=\"character-tile\">\r\n        <div className=\"character-title\">\r\n            <div className=\"character-title-left\">{character.name}</div>\r\n            <div className=\"character-title-right\">{isCaptain ? \"Captain\" : \"First Mate\"}</div>\r\n        </div>\r\n        <StatusBarTable character={character} statModifications={{}} gearSlotsUsed={character.gear?.reduce((acc, gearItem) => acc + getGearDetails(gearItem).gearSlots, 0) || 0} />\r\n        {/* <table className=\"character-table\">\r\n            <thead>\r\n                <tr>\r\n                    <td key={`${id}_stat_header_name`}>Name</td>\r\n                    {Object.keys(StatsEnum).map((stat) => <td key={`${id}_stat_header_${stat}`}>{stat}</td>)}\r\n                    <td key={`${id}_stat_header_level`}>Level</td>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {renderCaptainStats()}\r\n            </tbody>\r\n        </table> */}\r\n        <div className=\"character-title\">Background</div>\r\n        <div>\r\n            <div style={{ float: \"left\" }}>\r\n                <img className=\"background-image-tile\" src={getBackgroundImage(character.background?.name)} alt={`${id}_tile-${character.name}-bg-icon`} />\r\n                <div className=\"background-title\">{character.background?.name}</div>\r\n            </div>\r\n            <table className=\"power-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <td>Power</td>\r\n                        <td>Activation Level</td>\r\n                        <td>Strain</td>\r\n                        <td>Category</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {character.background?.powers.map((power) =>\r\n                        <tr key={`${id}_power_${power.name}`}>\r\n                            <td>{power.name}</td><td>{power.activationValue}</td>\r\n                            <td>{power.strain}</td>\r\n                            <td>{Array.isArray(power.category) ? power.category.map((cat) => <div>{cat}</div>) : power.category}</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div className=\"character-title\">Gear</div>\r\n        <div>\r\n            {/* <div style={{ float: \"left\" }}>\r\n                <img className=\"background-image-tile\" src={getBackgroundImage(character.background?.name)} alt={`${id}_tile-${character.name}-bg-icon`} />\r\n                <div className=\"background-title\">{character.background?.name}</div>\r\n            </div> */}\r\n            <table className=\"power-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <td>Name</td>\r\n                        <td>Type</td>\r\n                        <td>Slots</td>\r\n                        <td>Range</td>\r\n                        <td>Dmg</td>\r\n                        <td>Notes</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {character.gear?.map(getGearDetails).map((gear) =>\r\n                        <tr key={`${id}_power_${gear.name}`}>\r\n                            <td>{gear.name} </td>\r\n                            <td>{gear.type}</td>\r\n                            <td>{gear.gearSlots}</td>\r\n                            <td>{`${gear.maxRange || \"-\"}`}</td>\r\n                            <td>{`${gear.damageModifier || \"-\"}`}</td>\r\n                            <td>{`${gear.notes || \"-\"}`}</td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>;\r\n};\r\n","import { Soldier, StatsEnum } from \"../types/Characters\";\r\nimport { getStatStrings } from \"../Utils\";\r\n\r\nexport const CrewMemberComponent = ({ soldier }: { soldier: Soldier }) => {\r\n    const renderStats = () => <tr>\r\n        {getStatStrings(soldier.stats).map((stat) => <td key={`${soldier.type}_stat_${Object.keys(stat)[0]}`}>{stat[Object.keys(stat)[0]]}</td>)}\r\n        <td>{soldier.gear.length > 0 ? soldier.gear.join(\", \") : \"-\"}</td>\r\n    </tr>;\r\n\r\n    return <div key={`${soldier.type}_tile`} className=\"character-tile\">\r\n        <div className=\"character-title\">\r\n            <div className=\"character-title-left\">{soldier.amount}x {soldier.type}</div>\r\n            <div className=\"character-title-right\">{`${soldier.type} (${soldier.cost * soldier.amount})`}</div>\r\n        </div>\r\n        <table className=\"character-table\">\r\n            <thead>\r\n                <tr>\r\n                    {Object.keys(StatsEnum).map((stat) => <td key={`${soldier.type}_stat_header_${stat}`}>{stat}</td>)}\r\n                    <td>Gear</td>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {renderStats()}\r\n\r\n            </tbody>\r\n        </table>\r\n    </div>;\r\n};\r\n","import { InputComponent } from \"./InputControl\";\r\n\r\nexport const NameComponent = ({ currentStateValue, inputCallback }: { currentStateValue: string; inputCallback(name: string): void }) =>\r\n    <div className=\"statusbar-tiles\" style={{ minWidth: \"14rem\" }}>\r\n        <div className=\"toolbar-two-column-header-text small-text\">Crew Name</div>\r\n        <InputComponent callback={inputCallback} currentState={currentStateValue} tooltip=\"Your crew needs a name\" cssClass=\"input-field\" />\r\n    </div>;\r\n","import { useDispatch } from \"react-redux\";\r\nimport { store } from \"../..\";\r\nimport { SET_CREWNAME } from \"../../redux/actions\";\r\nimport { NameComponent } from \"../NameComponent\";\r\n\r\nexport const CrewNameComponent = () => {\r\n    const state = store.getState();\r\n    const dispatch = useDispatch();\r\n    const setCrewName = (name: string) => {\r\n        dispatch({ type: SET_CREWNAME, payload: name });\r\n    };\r\n\r\n    return <NameComponent inputCallback={setCrewName} currentStateValue={state.Title} />;\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { DeleteItemIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types/State\";\r\n\r\nexport const SaveLoadComponent = ({ state, closeCallback }: { state: CrewState; closeCallback(): void }) => {\r\n    const [fileName, setFileName] = useState<string>(`${state.Title || \"Unnamed_Crew\"}-Level-${state.Captain?.level || 15}`);\r\n    const [validFileName, setFileNameValidity] = useState<boolean>(true);\r\n    useEffect(() => {\r\n        document.getElementById(\"NameInput\")?.focus();\r\n    });\r\n    const onInput = (e: React.FormEvent<HTMLInputElement>) => {\r\n        const regex = /^[a-zA-Z0-9_\\-.]+$/;\r\n        setFileName(e.currentTarget.value);\r\n        e.currentTarget.value !== \"\" && regex.test(e.currentTarget.value) ? setFileNameValidity(true) : setFileNameValidity(false);\r\n    };\r\n    const saveToFileNew = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        const anchor = document.createElement(\"a\");\r\n        document.body.appendChild(anchor);\r\n        const json = JSON.stringify(state);\r\n        const blob = new Blob([json], { type: \"octet/stream\" });\r\n        const url = window.URL.createObjectURL(blob);\r\n        anchor.href = url;\r\n        anchor.download = `${fileName}.sg`;\r\n        anchor.id = \"ClickableDownloadAnchor\";\r\n        anchor.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(document.getElementById(\"ClickableDownloadAnchor\") as Node);\r\n        closeCallback();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n    return (\r\n        ReactDOM.createPortal(\r\n            <div className=\"block-background\">\r\n                <div className=\"modal\">\r\n                    <img\r\n                        className=\"close-dialog\"\r\n                        src={DeleteItemIcon}\r\n                        alt=\"deleteIcon\"\r\n                        onClick={(e) => {\r\n                            closeCallback();\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }} />\r\n                    {<div className=\"modal-header\">{\"Save your warband\"}</div>}\r\n                    <div className=\"save-warband-text\">Please enter a file name.</div>\r\n                    <input\r\n                        id=\"NameInput\"\r\n                        className={validFileName ? \"input-field\" : \"input-field input-error\"}\r\n                        onChange={onInput}\r\n                        value={fileName} />\r\n                    {!validFileName ? <div className=\"save-warband-error-text\">This is not a valid file name. Valid filenames contain only letters, numbers, dashes, underscores and dots.</div> : undefined}\r\n                    <button\r\n                        style={{ gridArea: \"8\" }}\r\n                        className={validFileName ? \"power-btn\" : \"power-btn disabled\"}\r\n                        onClick={(e) => validFileName ? saveToFileNew(e) : undefined}\r\n                    >Save</button>\r\n                </div>\r\n            </div >,\r\n            document.getElementById(\"crewRoster\") as HTMLElement\r\n        )\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: CrewState) => state;\r\n\r\nexport const SaveLoadDialog = connect(mapStateToProps)(SaveLoadComponent);\r\n","import { useState } from \"react\";\r\nimport { store } from \"../..\";\r\nimport { SaveIcon } from \"../../images\";\r\nimport { SaveLoadDialog } from \"./SaveLoadDialog\";\r\n\r\nexport const FileComponent = () => {\r\n    const [openDialog, setOpenDialog] = useState<boolean>(false);\r\n    const openHistory = () => {\r\n        setOpenDialog(true);\r\n    };\r\n\r\n    return <div className=\"statusbar-tiles\" onClick={openHistory} title=\"Click to open dialog to save/load a crew\">\r\n        {openDialog ? <SaveLoadDialog state={store.getState()} closeCallback={() => setOpenDialog(false)} /> : null}\r\n        <div className=\"toolbar-two-column-header-text small-text\" >Save / Load</div>\r\n        <img\r\n            src={SaveIcon}\r\n            style={{ paddingLeft: \"0.85rem\", gridArea: \"2 / 1 / 2 / 2\" }}\r\n            className=\"toolbar-icon\"\r\n            id={\"TreasuryIcon\"}\r\n            alt={\"TreasuryIcon\"}>\r\n        </img>\r\n    </div>;\r\n};\r\n","export default \"data:image/png;base64,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\"","import { connect } from \"react-redux\";\r\nimport { CrewState } from \"../../types/State\";\r\nimport { CrewNameComponent } from \"./CrewNameComponent\";\r\nimport { CrewSizeComponent } from \"./CrewSizeComponent\";\r\nimport { ExitComponent } from \"./ExitComponent\";\r\nimport { FileComponent } from \"./FileComponent\";\r\nimport { TreasuryComponent } from \"./TreasuryComponent\";\r\n\r\nexport const Statusbar = () =>\r\n    <div key=\"statusbar\" id=\"statusbar\" className=\"builder-statusbar\">\r\n        <CrewNameComponent />\r\n        <FileComponent />\r\n        <TreasuryComponent />\r\n        <CrewSizeComponent />\r\n        <ExitComponent />\r\n    </div>;\r\n\r\nconst mapStateToProps = (state: CrewState) => state;\r\n\r\nexport const StatusbarComponent = connect(mapStateToProps)(Statusbar);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { AddCharacterComponent } from \"../components/AddCharacterComponent\";\r\nimport { AddCrewMemberComponent } from \"../components/AddCrewMemberComponent\";\r\nimport { CharacterComponent } from \"../components/CharacterComponent\";\r\nimport { CrewMemberComponent } from \"../components/CrewMemberComponent\";\r\nimport { StatusbarComponent } from \"../components/statusbar/StatusBarComponent\";\r\nimport { Character, Soldier } from \"../types/Characters\";\r\nimport { CrewState } from \"../types/State\";\r\nimport { numberOfSoldiers } from \"../Utils\";\r\n\r\nexport const CrewOverview = ({ captain, firstMate, soldiers }: { captain: Character | undefined; firstMate: Character | undefined; soldiers: Soldier[] | undefined }) => <React.Fragment>\r\n    <StatusbarComponent key=\"statusbarComponent\" />\r\n    <div key=\"crewRoster\" id=\"crewRoster\" style={{ paddingTop: \"0.5rem\" }}>\r\n        <div key=\"characterContainer\" style={{ float: \"left\" }}>\r\n            {captain ? <CharacterComponent key=\"captainComponent\" isCaptain={true} /> : <AddCharacterComponent isCaptain={true} />}\r\n            {firstMate ? <CharacterComponent key=\"firstMateComponent\" isCaptain={false} /> : <AddCharacterComponent isCaptain={false} />}\r\n        </div>\r\n        {soldiers && soldiers.length > 0 ? soldiers.map((soldier) => <CrewMemberComponent key={`crew_member_${soldier.type}`} soldier={soldier} />) : undefined}\r\n        {numberOfSoldiers() < 8 ? <AddCrewMemberComponent /> : undefined}\r\n    </div>\r\n</React.Fragment>;\r\n\r\nconst mapStateToProps = (state: CrewState) => ({\r\n    captain: state.Captain,\r\n    firstMate: state.FirstMate,\r\n    soldiers: state.Soldiers,\r\n});\r\n\r\nexport const CrewPage = connect(mapStateToProps)(CrewOverview);\r\n","export default __webpack_public_path__ + \"static/media/Firefly.7581a460.sg\";","import { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as Crew from \"../data/Samples/Firefly.sg\";\r\nimport { CreateCrewIcon, ImportCrewIcon, UseSampleIcon } from \"../images\";\r\nimport { SET_CREW } from \"../redux/actions\";\r\nimport { CrewState, InitialCrewState } from \"../types/State\";\r\n\r\nexport const LandingPage = () => {\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div className=\"landing-page \">\r\n            <div style={{ gridArea: \"1/1/1/4\", width: \"100%\", textAlign: \"center\", fontWeight: \"bold\", fontSize: \"1.5rem\" }}>Stargrave Crew Configuration - choose how to continue</div>\r\n            <label htmlFor=\"file-uploader\" className=\"landing-page-columns\" style={{ gridArea: \"2/1\" }}>\r\n                <input\r\n                    id=\"file-uploader\"\r\n                    type=\"file\"\r\n                    accept=\".sg\"\r\n                    style={{ display: \"none\" }}\r\n                    onChange={() => {\r\n                        const reader = new FileReader();\r\n                        reader.onload = (ev: ProgressEvent<FileReader>) => {\r\n                            dispatch({ type: SET_CREW, payload: JSON.parse(ev.target?.result as string) });\r\n                            history.push(\"/NewCrew\");\r\n                        };\r\n                        reader.readAsText((document.querySelector(\"#file-uploader\") as HTMLInputElement)?.files?.item(0) as File);\r\n                    }}\r\n                />\r\n                <div style={{ gridArea: \"1/1\" }} className=\"landing-page-column-header\">Load an existing crew from file</div>\r\n                <img style={{ gridArea: \"2/1\" }} alt=\"ImportWarband\" className=\"landing-page-column-icon\" src={ImportCrewIcon} />\r\n            </label>\r\n            <div className=\"landing-page-columns\" style={{ gridArea: \"2/2\" }} onClick={() => {\r\n                dispatch({ type: SET_CREW, payload: InitialCrewState });\r\n                history.push(\"/NewCrew\");\r\n            }}>\r\n                <div className=\"landing-page-column-header\">Create a new crew</div>\r\n                <img alt=\"CreateWarband\" className=\"landing-page-column-icon\" src={CreateCrewIcon} />\r\n            </div>\r\n            <div\r\n                className=\"landing-page-columns\"\r\n                style={{ gridArea: \"2/3\" }}\r\n                onClick={() => {\r\n                    dispatch({ type: SET_CREW, payload: (Crew as any).default as CrewState });\r\n                    history.push(\"/NewCrew\");\r\n                }}>\r\n                <div className=\"landing-page-column-header\">Use a sample crew to start</div>\r\n                <img alt=\"SampleWarband\" className=\"landing-page-column-icon\" src={UseSampleIcon} />\r\n            </div>\r\n        </div >\r\n    );\r\n};\r\n","import React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { connect, Provider } from \"react-redux\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { compose, createStore } from \"redux\";\nimport \"./App.css\";\nimport { CrewPage } from \"./pages/CrewPage\";\nimport { LandingPage } from \"./pages/LandingPage\";\nimport { stateReducer } from \"./redux/reducer\";\n\nconst App = () =>\n  <BrowserRouter>\n    <div className=\"app-body\">\n      <Switch>\n        {/* <Route path=\"/SampleWarbands\" component={SampleWarbandsPage} /> */}\n        <Route path=\"/NewCrew\" component={CrewPage} />\n        <Route path=\"/\" component={LandingPage} />\n      </Switch>\n    </div>\n  </BrowserRouter>;\n\nexport const AppContainer = connect()(App);\nexport const store = createStore(stateReducer, compose(typeof window === \"object\" &&\n  typeof (window as any).devToolsExtension !== \"undefined\" ?\n  (window as any).devToolsExtension() :\n  (f: any) => f\n));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { Character } from \"../types/Characters\";\r\nimport { CrewState, InitialCrewState } from \"../types/State\";\r\nimport * as ReduxActions from \"./actions\";\r\n\r\n// tslint:disable-next-line: cyclomatic-complexity\r\nexport function stateReducer(state: CrewState = InitialCrewState, action: ReduxActions.Actions): CrewState {\r\n    switch (action.type) {\r\n        case ReduxActions.SET_CREW:\r\n            return action.payload;\r\n        case ReduxActions.SET_CREWNAME:\r\n            return { ...state, Title: action.payload };\r\n        case ReduxActions.SET_CAPTAINS_NAME:\r\n            return { ...state, Captain: { ...state.Captain as Character, name: action.payload } };\r\n        case ReduxActions.SET_CAPTAIN:\r\n            return { ...state, Captain: action.payload };\r\n        case ReduxActions.SET_FIRST_MATE:\r\n            return { ...state, FirstMate: action.payload };\r\n        case ReduxActions.ADD_SOLDIERS:\r\n            const soldiers = state.Soldiers ? [...state.Soldiers, ...action.payload] : action.payload;\r\n            return { ...state, Soldiers: soldiers, Credits: state.Credits - action.payload.reduce((acc, soldier) => acc + (soldier.amount * soldier.cost), 0) };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n"],"sourceRoot":""}