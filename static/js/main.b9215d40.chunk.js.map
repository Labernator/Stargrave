{"version":3,"sources":["types/index.ts","GearUtils.ts","Utils.ts","components/StatsRenderer.tsx","components/CharacterStatusBarTable.tsx","components/statusbar/CharacterStatsHeader.tsx","images/AdvTech1.png","images/AdvTech2.png","images/AdvWeapons.png","images/Alien.png","images/Aristocrat.png","images/Biomorph.png","images/CargoBay.png","images/CreateCrew.png","images/Cyborg.png","images/Hunter.png","images/icons/Crew.png","images/icons/Add.png","images/icons/Captain.png","images/icons/Save.png","images/icons/Delete.png","images/icons/Info.png","images/icons/Minus.png","images/icons/SavePdf.png","images/icons/Treasury.png","images/ImportCrew.png","images/Information.png","images/Maintenance.png","images/Mystic.png","images/PostGame.png","images/Psionicist.png","images/RoboticsExpert.png","images/resources/Stargrave_Reference-1.png","images/resources/Stargrave_Reference-2.png","images/Rogue.png","images/Secret.png","images/ShipUpgrades.png","images/Shopping.png","images/soldiers/ArmouredTrooper.png","images/soldiers/Burner.png","images/soldiers/Casecracker.png","images/soldiers/Chiseler.png","images/soldiers/Codebreaker.png","images/soldiers/Commando.png","images/soldiers/Grenadier.png","images/soldiers/GuardDog.png","images/soldiers/Gunner.png","images/soldiers/Hacker.png","images/soldiers/Medic.png","images/soldiers/Pathfinder.png","images/soldiers/Recruit.png","images/soldiers/Runner.png","images/soldiers/Sentry.png","images/soldiers/Sniper.png","images/soldiers/Trooper.png","images/Tekker.png","images/Starship.png","images/TradeGoods.png","images/TransactionLog.png","images/Unknown.png","images/upgrades/AdvancedMedicalSuite.png","images/upgrades/ArmamentWorkshop.png","images/upgrades/CommunicationsArray.png","images/upgrades/ExtraQuarters.png","images/upgrades/RoboticsWorkshop.png","images/upgrades/WeaponsLocker.png","images/UseSample.png","images/Veteran.png","images/index.ts","images/upgrades/ExternalCargoPods.png","images/upgrades/MeditationChamber.png","redux/actions.ts","pages/Creation/CharacterBackground.tsx","components/common/CustomBackButton.tsx","components/Containers.tsx","UseComponentVisible.tsx","components/dropdowns/GearDropdown.tsx","pages/PostGame/PostGameSequencePage.tsx","pages/Creation/CharacterGearSelection.tsx","components/InputComponent.tsx","components/NameComponent.tsx","pages/Creation/CharacterName.tsx","components/common/Carousel.tsx","pages/Creation/CharacterNonCorePowerSelection.tsx","pages/Creation/CharacterPowerImprovements.tsx","pages/Creation/CharacterPowerSelection.tsx","pages/Creation/CharacterStatsImprovements.tsx","components/common/BackButton.tsx","pages/Creation/SetShipNamePage.tsx","components/common/StringInputComponent.tsx","components/CharacterTileGearAndPowers.tsx","components/CharacterTileHeader.tsx","components/SoldierComponent.tsx","components/GearSelector.tsx","components/SoldierEditor.tsx","components/SoldierDialog.tsx","components/statusbar/CrewSizeComponent.tsx","components/statusbar/TreasuryComponent.tsx","pages/Creation/SoldierSelectionPage.tsx","components/DetailsTile.tsx","components/dropdowns/CargoDropdown.tsx","components/ItemCard.tsx","components/ListItem.tsx","pages/Overview/CargoBay.tsx","components/CharacterInjuries.tsx","components/CharacterComponent.tsx","components/statusbar/AdvanceComponent.tsx","components/statusbar/FileComponent.tsx","components/statusbar/Shipname.tsx","images/icons/Leave.png","components/statusbar/StatusBarComponent.tsx","pages/Overview/CrewPage.tsx","components/dropdowns/GearDropdown2.tsx","pages/Overview/EquipmentPage.tsx","pages/Overview/FileOperationsPage.tsx","pages/Overview/FileSystem.tsx","pages/Overview/LandingPage.tsx","components/pdf/PdfPowerCards.tsx","components/pdf/PdfRosterComponents.tsx","components/pdf/PdfRenderer.tsx","components/pdf/PdfStorageSheet.tsx","pages/Overview/PdfPage.tsx","pages/Overview/ShoppingPage.tsx","pages/Overview/SoldierEquipmentPage.tsx","pages/Overview/Transactions.tsx","components/dropdowns/XPDropdown.tsx","pages/PostGame/BuyLevels.tsx","pages/PostGame/Loot.tsx","pages/PostGame/DataLoot.tsx","pages/PostGame/ExperiencePage.tsx","components/SelectNewPowers.tsx","pages/PostGame/LevelUpPage.tsx","pages/PostGame/LevelUpCaptain.tsx","pages/PostGame/LevelUpFirstMate.tsx","pages/PostGame/PhysicalLoot.tsx","pages/Overview/ShipUpgradesPage.tsx","pages/Overview/TransactionHistoryPage.tsx","index.tsx","redux/reducer.ts"],"names":["BackgroundEnum","PowerCategory","StatsEnum","CharactersEnum","SoldierEnum","SoldierGroups","LevelImprovements","LootType","PhysicalCategories","DataCategories","TradeGoods","Information","LootCategories","ShoppingCategories","InitialCrewState","Credits","Soldiers","ShipName","Captain","name","level","stats","Move","Fight","Shoot","Will","Armour","Health","gearSlots","type","powers","gear","FirstMate","Experience","ExperienceRecords","CreditRecords","credits","sign","record","Cargo","ShipUpgrades","generalGear","GearItems","specialGear","advancedWeapons","advancedTech","alienArtefacts","allEquipment","getAdvancedWeapons","getAdvancedTech","getAlienArtefacts","isWeapon","someGear","undefined","maxRange","isAdvancedWeapon","weapon","isSpecialWeapon","sell","isSpecialGear","gearName","find","getNormalWeapons","filter","getNormalRangedWeapons","getNormalMeleeWeapons","getNormalArmour","getNormalGearDetails","foundGear","getGearDetails","getGeneralGearByType","gearType","getShotgun","g","getCarbine","allPowers","PowerList","allBackgrounds","BackgroundList","upgrades","getLootCategory","loot","list","AdvancedTechnology","AdvancedWeapons","AlienTech","getBackgroundInfos","background","bg","numberOfCrewMembers","state","store","getState","length","getCurrentStatStrings","currentHealth","toString","getPower","power","getBackground","isCorePower","powerName","backgroundName","corePowers","isCaptain","isCharacter","crewMember","getNonCorePowers","isCaptainCharacter","includes","map","activation","getActualNotes","gearList","gearItem","notes","getStatsWithGear","updateStats","updatedStatsByGear","reduce","updatedStatsWithGear","item","Object","keys","acc","stat","getDamageModifierString","damageModifier","getAdvancePerLevel","LowerActivation","ImproveStat","NewPower","NewPowerOrImproveStat","getBaseCaptain","getBaseFirstMate","getTradeGoodsValue","multiplier","upgrade","TradeGoods75","TradeGoods150","TradeGoods200","TradeGoods250","TradeGoods300","TradeGoods400","getInformationValue","Information75","Information150","Information200","Information125","Information100","getUpgradeByName","u","StatsRenderer","member","cells","entries","key","value","push","className","Fragment","CharacterStatusBarTable","character","gearSlotsUsed","isTileTable","style","width","color","CharacterStatsHeader","characterType","useContext","ReactReduxContext","id","display","float","CustomStatsHeader","CyborgIcon","CyborgPng","BiomorphIcon","BiomorphPng","MysticIcon","MysticPng","PsionicistIcon","PsionicistPng","RoboticsExpertIcon","RoboticsExpertPng","RogueIcon","RoguePng","TekkerIcon","TekkerPng","VeteranIcon","VeteranPng","AristocratIcon","AristocratPng","HunterIcon","HunterPng","BurnerIcon","BurnerPng","GrenadierIcon","GrenadierPng","SniperIcon","SniperPng","CodebreakerIcon","CodebreakerPng","GuardDogIcon","GuardDogPng","CasecrackerIcon","CasecrackerPng","GunnerIcon","GunnerPng","MedicIcon","MedicPng","PathfinderIcon","PathfinderPng","ArmouredTrooperIcon","ArmouredTrooperPng","RecruitIcon","RecruitPng","RunnerIcon","RunnerPng","SentryIcon","SentryPng","TrooperIcon","TrooperPng","HackerIcon","HackerPng","ChiselerIcon","ChiselerPng","CommandoIcon","CommandoPng","AdvancedTech1Icon","AdvancedTech1Png","AdvancedTech2Icon","AdvancedTech2Png","AlienArtefactsIcon","AlienArtefactsPng","AdvancedWeaponsIcon","AdvancedWeaponsPng","getBackgroundImage","Biomorph","Cyborg","Mystic","Psionicist","RoboticsExpert","Rogue","Tekker","Veteran","Hunter","Aristocrat","UnknownPng","getSoldierImage","soldierType","Burner","Grenadier","Sniper","Casecracker","Codebreaker","GuardDog","Gunner","Medic","Pathfinder","ArmouredTrooper","Recruit","Runner","Sentry","Trooper","Hacker","Chiseler","Commando","UseSampleIcon","UseSamplePng","CreateCrewIcon","CreateCrewPng","ImportCrewIcon","ImportCrewPng","InformationIcon","InformationPng","TradeGoodsIcon","TradeGoodsPng","SecretIcon","SecretPng","TreasuryIcon","TreasuryPng","CrewIcon","CrewPng","SaveIcon","SavePng","PdfIcon","PdfPng","PostGameIcon","PostGamePng","ShipUpgradesIcon","ShipUpgradesPng","CargoBayIcon","CargoBayPng","ShoppingIcon","ShoppingPng","TransactionLogIcon","TransactionLogPng","MaintenanceIcon","MaintenancePng","WeaponsLockerIcon","WeaponsLockerPng","RoboticsWorkshopIcon","RoboticsWorkshopPng","ExtraQuartersIcon","ExtraQuartersPng","CommunicationsArrayIcon","CommunicationsArrayPng","ArmamentWorkshopIcon","ArmamentWorkshopPng","AdvancedMedicalSuiteIcon","AdvancedMedicalSuitePng","getUpgradeImage","ADD_XP","ADD_LOOT","BUY_LOOT","SPEND_XP","REWIND_XP","ADD_SOLDIERS","SET_CAPTAINS_NAME","SET_CAPTAINS_BACKGROUND","SET_CAPTAINS_STATS","SET_CAPTAINS_POWERS","SET_CAPTAINS_GEAR","SET_FIRSTMATE_NAME","SET_FIRSTMATE_BACKGROUND","SET_FIRSTMATE_GEAR","SET_FIRSTMATE_STATS","SET_FIRSTMATE_POWERS","SET_FIRST_MATE","SET_CAPTAIN","SET_CREW","SET_SHIPNAME","MODIFY_SOLDIER","REMOVE_SOLDIERS","SELL_LOOT","ADD_CREDITS","REMOVE_CREDITS","CONVERT_INFORMATION","REMOVE_LOOT_FROM_CARGO_BAY","SHIP_UPGRADE","CharacterBackgroundPage","history","useHistory","dispatch","useDispatch","location","BackgroundTile","onClick","payload","src","alt","backgroundEnumEntry","goBack","CustomBackButtonComponent","dispatchFunction","customHistory","event","preventDefault","stopPropagation","FlexContainer","firstItem","secondItem","flexDirection","flexWrap","justifyContent","useComponentVisible","initialIsVisible","useState","isComponentVisible","setIsComponentVisible","ref","useRef","handleHideDropdown","handleClickOutside","current","contains","target","useEffect","document","addEventListener","removeEventListener","openMenu","CrewInjuries","CharacterInjuries","GearLabel","fontSize","armourModifier","GearDropDown","dropdownOptions","callbackFn","placeholder","selectedItem","setSelectedItem","position","getElementById","getBoundingClientRect","top","left","getCssProps","listItem","onMouseDown","CharacterSelectGearPage","defaultKnife","defaultArmour","selectedGear","setSelectedGear","isGearSelected","gr","maxGear","getSelectedArmour","armour","getCSSClasses","withMax","itemTooLarge","onClickHandler","gearDetails","selGear","melee","equi","sort","a","b","localeCompare","InputComponent","currentState","tooltip","cssClass","callback","setName","inputVisible","setInputVisible","inputRef","useLayoutEffect","focus","onChange","currentTarget","onKeyUp","code","onBlur","padding","NameComponent","currentStateValue","inputCallback","CharacterNamePage","Carousel","reactSwipeEl","inputDivs","splitSize","resetPage","cnt","sectionCnt","Math","ceil","currentSection","setCurrentSection","slide","swipeOptions","continuous","el","childCount","sectionDivs","i","slice","getContent","getPos","prev","gridArea","placeSelf","next","CharacterNonCorePowerSelectionPage","selectedPowers","setSelectedPowers","previewPower","setPreviewPower","lastPreviewPower","setLastPreviewPower","isPowerSelected","pwr","maxCorePowersSelected","powersRemaining2","powersRemaining","strain","Array","isArray","category","join","effect","findIndex","idx","CharacterPowerImprovementsPage","actualPower","x","concat","CharacterPowerSelectionPage","powerNames","minPowersSelected","maxPowersSelected","pow","CharacterStatsSelectionPage","selections","setSelections","isStatSelected","statName","statModificationsForBackground","statModifications","maxStatsReached","chooseOptionals","calcPayload","newStats","mandatory","marginTop","statValue","optional","rest","BackButtonComponent","PageBackBtnComponent","ShipNamePage","StringInputComponent","renderGear","renderSoldier","isPdf","paddingRight","fontWeight","CharacterTileGearAndPowers","textAlign","SoldierTileGearAndPowers","soldier","CharacterTileHeader","SoldierTileHeader","SoldierComponent","some","GearSelector","isSelected","clickHandler","SoldierEditor","weaponName","previewSoldier","specialWeapon","removeDuplicateStrings","arr","w","pos","self","selectableWeapons","equivalent","isSpecialWeaponSelected","clear","newSelect","newSelectIsShotgun","cleanupGear","names","SoldierDialog","otherSoldiers","callbackHandler","getRandomName","floor","random","setSoldierName","soldierName","setGear","cost","sol","CrewSizeComponent","externalStyles","virtualCrewSize","title","TreasuryComponent","virtualCredits","listOfSoldiers","SoldierList","SoldierSelectionPage","soldiers","setSoldiers","setPreviewSoldier","lastPreviewSoldier","setLastPreviewSoldier","getCurrentSoldierAmount","specialistCount","group","Specialist","hiringCost","canSubmit","paddingTop","e","CargoTile","icon","details","bottomButton","topButton","borderBottom","TileButton","text","isDisabled","CargoDropDown","ItemCard","slots","BaseListItem","detailsText","cssClasses","GearListItem","CargoItem","UpgradeItem","ShipsCargoPage","confirmation","setConfirmation","getCrewList","soldierList","weaponsList","checkEquality","getItem","Secret","tech","artefact","DialogTile","technology","shipGear","foundMember","equipment","advWeapon","str","paddingBottom","art","margin","SellConfirmationDialog","marginLeft","marginRight","overflowY","missNextGame","CharacterComponent","AdvanceComponent","paddingLeft","FileComponent","ShipnameComponent","StatusbarComponent","CrewPage","localStorage","setItem","JSON","stringify","GearDropDown2","EquipmentPage","currentGear","generalArmourList","generalMeleeList","generalShootingList","generalEquipmentList","currentArmourList","currentMeleeList","currentEquipment","currentShootingList","armourList","gItem","indexOf","meleeWeaponsList","equipmentList","shootingWeaponsList","entry","nonStandardGear","FileOperationsPage","anchor","createElement","body","appendChild","json","blob","Blob","url","window","URL","createObjectURL","href","download","click","revokeObjectURL","removeChild","FileSystemPage","selectedStorage","setSelectedStorage","isStorageSelected","htmlFor","accept","reader","FileReader","onload","ev","parse","result","readAsText","querySelector","files","myStorage","values","stateString","colSpan","getStorageTable","removeItem","LandingPage","Crew","PrintablePowerCards","printAll","printablePowers","hasDronePower","renderHeader","renderCrewmanHeader","crewman","isRobot","renderPowers","gridTemplateColumns","grid","border","renderCharacterStats","minWidth","renderCrewStats","renderDroneStats","creature","PdfCharacter","PdfSoldier","PdfDrone","PdfCharacters","PdfSoldiers","Critters","crit","PdfRenderer","StorageSheet","cargo","weaponsCargo","c","techCargo","goodsCargo","alignItems","borderRight","PdfExportPage","printPowerCards","setPrintPowerCards","exportPdf","jsPdf","jsPDF","container","from","querySelectorAll","addPage","html2canvas","scale","letterRendering","canvas","addImage","toDataURL","internal","pageSize","getWidth","getHeight","save","borderTop","borderLeft","ShoppingPage","shoppingSection","setShoppingSection","showAllItems","setDetails","hasSufficientFunds","cat","AdvancedTech1","AdvancedTech2","AlienArtefacts","getItemsList","SelectionTiles","technology2","ItemList","list1","list2","itemList","SoldierEquipmentPage","TransactionsPage","XPDropDown","LevelUpPage","captainLevels","setCaptainLevels","firstMateLevels","setfirstMateLevels","deciChoice","setDeciChoice","setX","y","setY","getCaptainLevels","getFirstMateLevels","difference","experienceAvailable","min","nr","renderImprovements","lvl","nodes","parseInt","choice","LootPage","lootType","lootTokensCollected","setLootTokensCollected","selectedItems","setSelectedItems","selectedCategory","setSelectedCategory","advTech","alienTech","advWeapons","isCategorySelected","lootId","isItemSelected","updateSelectedItems","selIt","isIdSelected","updateSelectedCategory","isCategoryIdSelected","getTradeGoods","getInformation","CategorySelection","Data","Physical","LootSelection","RenderSection","_val","forEach","DataLootPage","ExperiencePage","crewMemberDied","setCrewMemberDied","lootUnlocked","setLootUnlocked","powerActivations","setPowerActivations","rivalsKilled","setRivalsKilled","npcsKilled","setNPCsKilled","scenarioSpecific","setScenarioSpecific","getTotalXp","opacity","answer","SelectNewPowers","currentPowers","updatePowers","selectedPower","setSelectedPower","LevelUpCharacterPage","pageState","levelsGained","newPower","setNewPower","improvedStats","captainStats","sel","actualAdvances","currentLevel","advances","advance","foundAdvance","adv","LevelImprovement","foundIdx","amount","statMaxed","renderLevelImprovements","renderNodes","renderPowerChoice","renderStatsChoice","renderAdvances","allDone","allDoneFn","LevelUpCaptainPage","LevelUpFirstMatePage","PhysicalLootPage","PostGameSequencePage","crewUpdates","setCrewUpdates","randsom","setRandsom","renderInjuryAndDeathCharacter","char","RECOVERY","val","filteredList","ch","hasOwnProperty","change","updateCharacter","crewmember","updateCrewMan","deadSoldiers","update","DEAD","BARELY_ALIVE","WOUNDED","CLOSE_CALL","aftermath","ShipUpgradesPage","UpgradeDialog","Upgrades","shipUpgrades","TransactionHistoryPage","AppContainer","connect","path","component","createStore","action","xpRecords","ReduxActions","inventoryId","hold","splice","cargoId","transactionList","sold","invId","compose","devToolsExtension","f","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.b9215d40.chunk.js","sourcesContent":["export enum BackgroundEnum {\r\n    Biomorph = \"Biomorph\",\r\n    Cyborg = \"Cyborg\",\r\n    Mystic = \"Mystic\",\r\n    Psionicist = \"Psionicist\",\r\n    RoboticsExpert = \"RoboticsExpert\",\r\n    Rogue = \"Rogue\",\r\n    Tekker = \"Tekker\",\r\n    Veteran = \"Veteran\",\r\n    Aristocrat = \"Aristocrat\",\r\n    Hunter = \"Hunter\",\r\n}\r\n\r\nexport enum PowerCategory {\r\n    LineOfSight = \"Line of Sight\",\r\n    Touch = \"Touch\",\r\n    SelfOnly = \"Self-only\",\r\n    OutOfGameA = \"Out of Game (A)\",\r\n    OutOfGameB = \"Out of Game (B)\",\r\n}\r\nexport enum StatsEnum {\r\n    Move = \"Move\",\r\n    Fight = \"Fight\",\r\n    Shoot = \"Shoot\",\r\n    Armour = \"Armour\",\r\n    Will = \"Will\",\r\n    Health = \"Health\",\r\n}\r\n\r\nexport enum CharactersEnum {\r\n    Captain = \"Captain\",\r\n    FirstMate = \"FirstMate\",\r\n}\r\n\r\nexport enum SoldierEnum {\r\n    Burner = \"Burner\",\r\n    Grenadier = \"Grenadier\",\r\n    Sniper = \"Sniper\",\r\n    GuardDog = \"Guard Dog\",\r\n    Casecracker = \"Casecracker\",\r\n    Gunner = \"Gunner\",\r\n    Codebreaker = \"Codebreaker\",\r\n    Medic = \"Medic\",\r\n    Pathfinder = \"Pathfinder\",\r\n    ArmouredTrooper = \"Armoured Trooper\",\r\n    Recruit = \"Recruit\",\r\n    Runner = \"Runner\",\r\n    Commando = \"Commando\",\r\n    Trooper = \"Trooper\",\r\n    Hacker = \"Hacker\",\r\n    Chiseler = \"Chiseler\",\r\n    Sentry = \"Sentry\",\r\n}\r\n\r\nexport enum SoldierGroups {\r\n    Standard = \"Standard\",\r\n    Specialist = \"Specialist\",\r\n}\r\nexport interface Background {\r\n    name: string;\r\n    powers: Power[];\r\n}\r\n\r\nexport type Stats = { [key in StatsEnum]: number; };\r\nexport type StatStrings = { [key in StatsEnum]: string; };\r\nexport interface BackgroundMetadata {\r\n    name: string;\r\n    statModifications: {\r\n        mandatory: Partial<Stats>;\r\n        optional: Partial<Stats>;\r\n        chooseOptionals: number;\r\n    };\r\n    corePowers: string[];\r\n    description: string;\r\n}\r\n\r\nexport interface BackgroundModifications {\r\n    name: BackgroundEnum;\r\n    statModifications: StatsImprovements;\r\n    powers: Power[];\r\n}\r\n\r\nexport interface BackgroundOptions {\r\n    name: BackgroundEnum;\r\n    statModifications: {\r\n        mandatory: Partial<Stats>;\r\n        optional: Partial<Stats>;\r\n        chooseOptionals: number;\r\n    };\r\n    corePowers: string[];\r\n    description: string;\r\n}\r\n\r\nexport interface StatsImprovements {\r\n    mandatory: Partial<Stats>;\r\n    optional: Partial<Stats>;\r\n}\r\n\r\nexport interface Power {\r\n    name: string;\r\n    activation: number;\r\n    strain: number;\r\n    category: string | string[];\r\n    effect: string;\r\n}\r\n\r\nexport interface ModifiedPower {\r\n    name: string;\r\n    activation: number;\r\n}\r\n\r\nexport interface ModifiedGear {\r\n    name: string;\r\n    gearSlots: number;\r\n}\r\n\r\nexport interface Equipment extends ModifiedGear {\r\n    type: string;\r\n    notes: string;\r\n}\r\n\r\nexport interface Weapon extends ModifiedGear {\r\n    type: string;\r\n    maxRange: string | number;\r\n    damageModifier?: number;\r\n    notes?: string;\r\n}\r\n\r\nexport interface Armour extends ModifiedGear {\r\n    type: string;\r\n    armourModifier?: number;\r\n    notes?: string;\r\n}\r\nexport interface Gear extends ModifiedGear {\r\n    type: string;\r\n    notes?: string;\r\n    damageModifier?: number;\r\n    maxRange?: string | number;\r\n    armourModifier?: number;\r\n}\r\nexport interface AdvancedWeapons extends ModifiedGear {\r\n    type: string;\r\n    notes?: string;\r\n    damageModifier?: number;\r\n    maxRange: string | number;\r\n    cost: number;\r\n    sell: number;\r\n    equivalent: string;\r\n}\r\nexport interface AdvancedTech extends ModifiedGear {\r\n    type: string;\r\n    notes: string;\r\n    armourModifier?: number;\r\n    cost: number;\r\n    sell: number;\r\n    shipGear?: boolean;\r\n    characterOnly?: boolean;\r\n    list: number;\r\n    equivalent?: string;\r\n}\r\n\r\nexport interface AlienArtefact extends ModifiedGear {\r\n    type: string;\r\n    notes: string;\r\n    cost: number;\r\n    sell: number;\r\n    characterOnly: boolean;\r\n}\r\n\r\nexport interface Loot {\r\n    name: string;\r\n    type: string;\r\n    sell: number;\r\n}\r\n\r\nexport type NormalGear = Equipment | Weapon | Armour;\r\nexport type SpecialGear = AlienArtefact | AdvancedTech | AdvancedWeapons;\r\n\r\nexport interface ShipUpgrade {\r\n    name: string;\r\n    notes: string;\r\n    cost: number;\r\n}\r\n\r\nexport interface Character {\r\n    name: string;\r\n    stats: Stats;\r\n    level: number;\r\n    gearSlots: number;\r\n    type: string;\r\n    background?: string;\r\n    powers: ModifiedPower[];\r\n    gear: ModifiedGear[];\r\n    missNextGame?: boolean;\r\n    currentHealth?: number;\r\n}\r\n\r\nexport interface Soldier {\r\n    type: string;\r\n    stats: Stats;\r\n    cost: number;\r\n    gearSlots: number;\r\n    gear: string[];\r\n    group: SoldierGroups;\r\n    name: string;\r\n    currentHealth?: number;\r\n    isRobot?: boolean;\r\n}\r\n\r\nexport interface Creature {\r\n    name: string;\r\n    stats: Stats;\r\n    gear: string[];\r\n    notes?: string[];\r\n}\r\n\r\nexport interface SoldierMetadata {\r\n    type: string;\r\n    cost: number;\r\n    stats: Stats;\r\n    gear: string[];\r\n    group: SoldierGroups;\r\n}\r\n\r\nexport interface CharacterMetadata {\r\n    stats: Stats;\r\n    level: number;\r\n    gearSlots: number;\r\n    type: string;\r\n}\r\nexport interface Transaction {\r\n    credits: number;\r\n    sign: boolean;\r\n    record: string;\r\n}\r\nexport interface CrewState {\r\n    Credits: number;\r\n    Captain: Character;\r\n    FirstMate: Character;\r\n    Soldiers: Soldier[];\r\n    ShipName: string;\r\n    Experience: number;\r\n    ExperienceRecords: number[];\r\n    CreditRecords: Transaction[];\r\n    Cargo: LootItem[];\r\n    ShipUpgrades: string[];\r\n}\r\n\r\nexport const InitialCrewState: CrewState = {\r\n    Credits: 400,\r\n    Soldiers: [],\r\n    ShipName: \"\",\r\n    Captain: { name: \"\", level: 15, stats: { Move: 6, Fight: 3, Shoot: 2, Will: 3, Armour: 9, Health: 16 }, gearSlots: 6, type: CharactersEnum.Captain, powers: [], gear: [] },\r\n    FirstMate: { name: \"\", level: 0, stats: { Move: 6, Fight: 2, Shoot: 2, Will: 2, Armour: 9, Health: 14 }, gearSlots: 5, type: CharactersEnum.FirstMate, powers: [], gear: [] },\r\n    Experience: 0,\r\n    ExperienceRecords: [0],\r\n    CreditRecords: [{ credits: 400, sign: true, record: \"Initial Crew Treasury\" }],\r\n    Cargo: [],\r\n    ShipUpgrades: [],\r\n};\r\n\r\nexport enum LevelImprovements {\r\n    LowerActivation = \"Lower an Activation Number\",\r\n    ImproveStat = \"Improve a Stat\",\r\n    NewPower = \"Learn a new Power\",\r\n    NewPowerOrImproveStat = \"New Power or Improve Stat\",\r\n}\r\n\r\nexport interface LevelUpState {\r\n    captainLevels: number;\r\n    firstMateLevels: number;\r\n    choice?: LevelImprovements.NewPower | LevelImprovements.ImproveStat;\r\n}\r\n\r\nexport interface DropdownOptions {\r\n    placeholder: Gear;\r\n    id: string;\r\n}\r\n\r\nexport interface StringDropdownOptions {\r\n    placeholder: string;\r\n    id: string;\r\n}\r\n\r\nexport enum LootType {\r\n    Physical = \"Physical Loot\",\r\n    Data = \"Data Loot\",\r\n}\r\n\r\nexport enum PhysicalCategories {\r\n    TradeGoods = \"Trade Goods\",\r\n    AdvancedTechnology = \"Advanced Technology\",\r\n    AdvancedWeapons = \"Advanced Weapons\",\r\n    AlienTech = \"Alien Artefact\",\r\n}\r\n\r\nexport enum DataCategories {\r\n    Credits = \"Credits\",\r\n    Information = \"Information\",\r\n    AdvancedTechnology = \"Advanced Technology\",\r\n    AdvancedWeapons = \"Advanced Weapons\",\r\n    Secret = \"Secret\",\r\n}\r\nexport interface SelectedCategory {\r\n    lootId: number;\r\n    selectedCategory: PhysicalCategories | DataCategories;\r\n}\r\n\r\nexport enum TradeGoods {\r\n    TradeGoods75 = \"Trade Goods 75 \\xA5\",\r\n    TradeGoods150 = \"Trade Goods 150 \\xA5\",\r\n    TradeGoods200 = \"Trade Goods 200 \\xA5\",\r\n    TradeGoods250 = \"Trade Goods 250 \\xA5\",\r\n    TradeGoods300 = \"Trade Goods 300 \\xA5\",\r\n    TradeGoods400 = \"Trade Goods 400 \\xA5\",\r\n}\r\n\r\nexport enum Information {\r\n    Information75 = \"Information 75 \\xA5\",\r\n    Information100 = \"Information 100 \\xA5\",\r\n    Information125 = \"Information 125 \\xA5\",\r\n    Information150 = \"Information 150 \\xA5\",\r\n    Information200 = \"Information 200 \\xA5\",\r\n}\r\n\r\nexport enum LootCategories {\r\n    Information,\r\n    TradeGoods,\r\n    AdvancedTechnology,\r\n    AdvancedWeapons,\r\n    Secret,\r\n    Credits,\r\n    AlienTech,\r\n}\r\n\r\nexport interface LootItem {\r\n    name: string;\r\n    type: LootCategories;\r\n}\r\n\r\nexport enum ShoppingCategories {\r\n    AlienArtefacts = \"Alien Artefacts\",\r\n    AdvancedWeapons = \"Advanced Weapons\",\r\n    AdvancedTech1 = \"Advanced Tech 1\",\r\n    AdvancedTech2 = \"Advanced Tech 2\",\r\n}\r\n","import * as GearItems from \"./data/Gear.json\";\r\nimport { AdvancedTech, AdvancedWeapons, AlienArtefact, Armour, Equipment, Gear, ModifiedGear, NormalGear, SpecialGear, Weapon } from \"./types\";\r\n\r\nconst generalGear: NormalGear[] = GearItems.general;\r\nconst specialGear: SpecialGear[] = [...GearItems.advancedWeapons, ...GearItems.advancedTech, ...GearItems.alienTech];\r\nconst advancedWeapons: AdvancedWeapons[] = GearItems.advancedWeapons;\r\nconst advancedTech: AdvancedTech[] = GearItems.advancedTech;\r\nconst alienArtefacts: AlienArtefact[] = GearItems.alienTech;\r\nconst allEquipment: Array<NormalGear | AdvancedWeapons | AdvancedTech | AlienArtefact> = [...generalGear, ...specialGear];\r\n\r\nexport const getAdvancedWeapons = () => advancedWeapons;\r\nexport const getAdvancedTech = () => advancedTech;\r\nexport const getAlienArtefacts = () => alienArtefacts;\r\n\r\nexport const isWeapon = (someGear: NormalGear): someGear is Weapon => (someGear as Weapon).maxRange !== undefined;\r\nexport const isAdvancedTech = (tech: SpecialGear): tech is AdvancedTech => (tech as AdvancedTech).list !== undefined;\r\nexport const isAdvancedWeapon = (weapon: SpecialGear): weapon is AdvancedWeapons => (weapon as AdvancedWeapons).maxRange !== undefined;\r\nexport const isAlienArtefact = (artefact: SpecialGear): artefact is AlienArtefact => (artefact as AdvancedTech).list === undefined && (artefact as AdvancedWeapons).maxRange === undefined;\r\nexport const isSpecialWeapon = (gear: Gear | AdvancedWeapons): gear is AdvancedWeapons => (gear as AdvancedWeapons).sell !== undefined;\r\nexport const isGeneralGear = (gearName: string) => !!generalGear.find((gear) => gear.name === gearName);\r\nexport const isSpecialGear = (gearName: string) => !!specialGear.find((gear) => gear.name === gearName);\r\n\r\nexport const getNormalWeapons = () => generalGear.filter((gear) => gear.type === \"Weapon\") as Weapon[];\r\nexport const getNormalRangedWeapons = () => (generalGear.filter((gear) => gear.type === \"Weapon\") as Weapon[]).filter((weapon) => weapon.maxRange !== \"Melee\");\r\nexport const getNormalMeleeWeapons = () => (generalGear.filter((gear) => gear.type === \"Weapon\") as Weapon[]).filter((weapon) => weapon.maxRange === \"Melee\");\r\nexport const getNormalArmour = () => generalGear.filter((gear) => gear.type === \"Armour\") as Armour[];\r\nexport const getNormalEquipment = () => generalGear.filter((gear) => gear.type === \"Equipment\") as Equipment[];\r\n\r\nexport const getNormalGearDetails = (gearName: string | ModifiedGear) => {\r\n    const foundGear = generalGear.find((gear) => (typeof (gearName) === \"string\" ? gearName : gearName.name) === gear.name) as NormalGear;\r\n    if (typeof (gearName) !== \"string\") {\r\n        foundGear.gearSlots = gearName.gearSlots;\r\n    }\r\n    return foundGear;\r\n};\r\n\r\nexport const getGearDetails = (gearName: string | ModifiedGear) => {\r\n    const foundGear = allEquipment.find((gear) => (typeof (gearName) === \"string\" ? gearName : gearName.name) === gear.name) as Gear;\r\n    if (typeof (gearName) !== \"string\") {\r\n        foundGear.gearSlots = gearName.gearSlots;\r\n    }\r\n    return foundGear;\r\n};\r\n\r\nexport const getGeneralGearByType = (gearType: string) => {\r\n    switch (gearType) {\r\n        case \"Armour\": return generalGear.filter((gear) => gear.type === \"Armour\");\r\n        case \"Weapon\": return generalGear.filter((gear) => gear.type === \"Weapon\");\r\n        case \"Equipment\": return generalGear.filter((gear) => gear.type === \"Equipment\");\r\n    }\r\n    return [];\r\n};\r\n\r\nexport const getGearByType = (gearType: string) => {\r\n    switch (gearType) {\r\n        case \"Armour\": return allEquipment.filter((gear) => gear.type === \"Armour\");\r\n        case \"Weapon\": return allEquipment.filter((gear) => gear.type === \"Weapon\");\r\n        case \"Equipment\": return allEquipment.filter((gear) => gear.type === \"Equipment\");\r\n    }\r\n    return [];\r\n};\r\n\r\nexport const getShotgun = () => getNormalWeapons().filter((g) => g.name === \"Shotgun\")[0];\r\nexport const getCarbine = () => getNormalWeapons().filter((g) => g.name === \"Carbine\")[0];\r\nexport const getWeaponByName = (weaponName: string) => getNormalWeapons().filter((g) => g.name === weaponName)[0];\r\n","import { store } from \".\";\r\nimport * as BackgroundList from \"./data/Backgrounds.json\";\r\nimport * as Critters from \"./data/Critters.json\";\r\nimport * as PowerList from \"./data/Powers.json\";\r\nimport * as ShipUpgrades from \"./data/ShipUpgrades.json\";\r\nimport { isAdvancedTech, isAdvancedWeapon } from \"./GearUtils\";\r\nimport {\r\n    BackgroundEnum, BackgroundMetadata, BackgroundOptions,\r\n    Character, CharactersEnum, Creature, Gear, Information, LevelImprovements,\r\n    LootCategories, ModifiedGear, ModifiedPower, Power,\r\n    ShipUpgrade, Soldier, SpecialGear, Stats, StatsEnum, StatStrings, TradeGoods\r\n} from \"./types\";\r\n\r\nconst allPowers: Power[] = PowerList.Powers;\r\nconst allBackgrounds: BackgroundMetadata[] = BackgroundList.backgrounds;\r\nconst upgrades: ShipUpgrade[] = ShipUpgrades.upgrades;\r\n\r\nexport const getDrone = () => Critters.creatures.find((crit) => crit.name === \"Drone\") as Creature;\r\n\r\nexport const getLootCategory = (loot: SpecialGear) => isAdvancedTech(loot) ? LootCategories.AdvancedTechnology : isAdvancedWeapon(loot) ? LootCategories.AdvancedWeapons : LootCategories.AlienTech;\r\nexport const hasEquivalent = (gear: any) => gear.equivalent !== undefined;\r\nexport const getBackgroundInfos = (background: BackgroundEnum) => allBackgrounds.find((bg) => bg.name === background) as BackgroundOptions;\r\n\r\nexport const numberOfCrewMembers = () => {\r\n    const state = store.getState();\r\n    return (state.Soldiers.length + (state.Captain ? 1 : 0) + (state.FirstMate ? 1 : 0));\r\n};\r\n\r\nexport const getCurrentStatStrings = (stats: Stats, currentHealth?: number): StatStrings => ({\r\n    [StatsEnum.Move]: stats.Move.toString(),\r\n    [StatsEnum.Fight]: `+${stats.Fight.toString()}`,\r\n    [StatsEnum.Shoot]: `+${stats.Shoot.toString()}`,\r\n    [StatsEnum.Armour]: stats.Armour.toString(),\r\n    [StatsEnum.Will]: `+${stats.Will.toString()}`,\r\n    [StatsEnum.Health]: currentHealth ? currentHealth.toString() : stats.Health.toString(),\r\n});\r\n\r\nexport const getPower = (name: string) => allPowers.find((power) => power.name === name) as Power;\r\n\r\nexport const getUnselectedPowers = (powerNames: ModifiedPower[]) => allPowers.filter((power) => !powerNames.some((pwr) => pwr.name === power.name));\r\n\r\nexport const getPowerInfos = (powerNames: string[]): Power[] => powerNames.map(getPower);\r\n\r\nconst getBackground = (name: string) => allBackgrounds.find((background) => background.name === name) as BackgroundMetadata;\r\n\r\nexport const isCorePower = (powerName: string, backgroundName: string) => !!getBackground(backgroundName).corePowers.find((power) => power === powerName);\r\n\r\nexport const isCaptain = (type: string) => type === CharactersEnum.Captain;\r\n\r\nexport const isCharacter = (crewMember: Character | Soldier): crewMember is Character => crewMember.type === CharactersEnum.Captain || crewMember.type === CharactersEnum.FirstMate;\r\n\r\nexport const getNonCorePowers = (backgroundName: string, isCaptainCharacter: boolean) =>\r\n    allPowers.filter((power) => !getBackground(backgroundName).corePowers.includes(power.name)).map((power) => isCaptainCharacter ? { ...power, activation: power.activation + 2 } : { ...power, activation: power.activation + 4 });\r\n\r\nexport const getStatsMaximums = () => ({ \"Move\": 7, \"Fight\": 6, \"Shoot\": 6, \"Will\": 8, \"Health\": 25, \"Armour\": 14 });\r\nexport const getShipUpgrades = () => upgrades;\r\n\r\nexport const getActualNotes = (gearList: Array<string | ModifiedGear>, gearItem: Gear) => {\r\n    let notes = gearItem.notes;\r\n    switch (gearItem.name) {\r\n        case \"Flamethrower\":\r\n            notes = gearList.find((gear: ModifiedGear | string) => (typeof (gear) === \"string\" ? gear : gear.name) === \"Heavy Armour\") || gearList.find((gear: ModifiedGear | string) => (typeof (gear) === \"string\" ? gear : gear.name) === \"Combat Armour\") ? \"Target Armour and Cover Modifiers\" : \"Target Armour and Cover Modifiers. -1 Move\";\r\n            break;\r\n        case \"Rapid Fire\":\r\n            notes = gearList.find((gear: ModifiedGear | string) => (typeof (gear) === \"string\" ? gear : gear.name) === \"Heavy Armour\") || gearList.find((gear: ModifiedGear | string) => (typeof (gear) === \"string\" ? gear : gear.name) === \"Combat Armour\") ? \"2 Targets\" : \"2 Targets. -1 Move\";\r\n            break;\r\n        case \"Combat Armour\":\r\n            notes = \"50gc upkeep fee\";\r\n    }\r\n    return notes || \"\";\r\n};\r\n\r\nexport const getStatsWithGear = (stats: Stats, updateStats: Partial<Stats>, gear: ModifiedGear[] | undefined): Stats => {\r\n    const updatedStatsByGear = gear ? gear.reduce((updatedStatsWithGear, gearItem) => {\r\n        switch (gearItem.name) {\r\n            case \"Light Armour\": updatedStatsWithGear.Armour = 1; break;\r\n            case \"Heavy Armour\":\r\n                updatedStatsWithGear.Armour = 2;\r\n                updatedStatsWithGear.Move = -1;\r\n                break;\r\n            case \"Combat Armour\":\r\n                updatedStatsWithGear.Armour = 4;\r\n                break;\r\n            case \"Unarmed\":\r\n                updatedStatsWithGear.Fight = -2;\r\n                break;\r\n            case \"Flamethrower\":\r\n            case \"Rapid Fire\":\r\n                if (!gear.find((item) => item.name === \"Heavy Armour\") && !gear.find((item) => item.name === \"Combat Armour\")) {\r\n                    updatedStatsWithGear.Move = -1;\r\n                }\r\n        }\r\n        return updatedStatsWithGear;\r\n    }, { \"Move\": 0, \"Fight\": 0, \"Shoot\": 0, \"Armour\": 0, \"Will\": 0, \"Health\": 0 }) : { \"Move\": 0, \"Fight\": 0, \"Shoot\": 0, \"Armour\": 0, \"Will\": 0, \"Health\": 0 };\r\n\r\n    return Object.keys(stats).reduce(\r\n        (acc, stat) => ({ ...acc, [stat]: (stats[stat as StatsEnum] || 0) + (updateStats[stat as StatsEnum] || 0) + (updatedStatsByGear[stat as StatsEnum] || 0) }),\r\n        { \"Move\": 0, \"Fight\": 0, \"Shoot\": 0, \"Armour\": 0, \"Will\": 0, \"Health\": 0 });\r\n};\r\n\r\nexport const getDamageModifierString = (weapon: Gear) => {\r\n    if (!weapon.damageModifier) {\r\n        return \"+0\";\r\n    }\r\n    if (weapon.damageModifier > 0) {\r\n        return `+${weapon.damageModifier}`;\r\n    }\r\n\r\n    return `${weapon.damageModifier}`;\r\n};\r\n\r\nexport const gearSortAlgorithm = (gear: Gear) => {\r\n    let count = 0;\r\n    if (gear.type === \"Weapon\" || gear.type === \"Armour\") {\r\n        count += 1;\r\n    }\r\n    if (gear.name.length > 19) {\r\n        count += 0.4;\r\n    }\r\n    if (gear.notes) {\r\n        count += 1;\r\n        if (gear.notes.length > 40) {\r\n            count += 0.5;\r\n        }\r\n    }\r\n    return count;\r\n};\r\n\r\nexport const getAdvancePerLevel = (level: number) => {\r\n    const rest = (level) % 10;\r\n    switch (rest) {\r\n        case 1:\r\n        case 3:\r\n        case 4:\r\n        case 6:\r\n        case 8:\r\n        case 9:\r\n            return LevelImprovements.LowerActivation;\r\n        case 2:\r\n        case 7:\r\n            return LevelImprovements.ImproveStat;\r\n        case 5:\r\n            return LevelImprovements.NewPower;\r\n        case 0:\r\n            return LevelImprovements.NewPowerOrImproveStat;\r\n        default:\r\n    }\r\n};\r\n\r\nexport const getBaseCaptain = (): Character => ({\r\n    name: \"\",\r\n    stats: {\r\n        \"Move\": 6,\r\n        \"Fight\": 3,\r\n        \"Shoot\": 2,\r\n        \"Armour\": 9,\r\n        \"Will\": 3,\r\n        \"Health\": 16,\r\n    },\r\n    level: 15,\r\n    gearSlots: 6,\r\n    type: CharactersEnum.Captain,\r\n    powers: [],\r\n    gear: [],\r\n});\r\n\r\nexport const getBaseFirstMate = (): Character => ({\r\n    name: \"\",\r\n    stats: {\r\n        \"Move\": 6,\r\n        \"Fight\": 2,\r\n        \"Shoot\": 2,\r\n        \"Armour\": 9,\r\n        \"Will\": 2,\r\n        \"Health\": 14,\r\n    },\r\n    level: 0,\r\n    gearSlots: 5,\r\n    type: CharactersEnum.FirstMate,\r\n    powers: [],\r\n    gear: [],\r\n});\r\n\r\nexport const getTradeGoodsValue = (name: string) => {\r\n    const state = store.getState();\r\n    const multiplier: number = state.ShipUpgrades.find((upgrade) => upgrade === \"External Cargo Pods\") ? 1.2 : 1;\r\n    switch (name) {\r\n        case TradeGoods.TradeGoods75: return multiplier * 75;\r\n        case TradeGoods.TradeGoods150: return multiplier * 150;\r\n        case TradeGoods.TradeGoods200: return multiplier * 200;\r\n        case TradeGoods.TradeGoods250: return multiplier * 250;\r\n        case TradeGoods.TradeGoods300: return multiplier * 300;\r\n        case TradeGoods.TradeGoods400: return multiplier * 400;\r\n        default: return 0;\r\n    }\r\n};\r\n\r\nexport const getInformationValue = (name: string) => {\r\n    switch (name) {\r\n        case Information.Information75: return 75;\r\n        case Information.Information150: return 150;\r\n        case Information.Information200: return 200;\r\n        case Information.Information125: return 125;\r\n        case Information.Information100: return 100;\r\n        default: return 0;\r\n    }\r\n};\r\n\r\nexport const getUpgradeByName = (name: string) => upgrades.find((u) => u.name === name) as ShipUpgrade;\r\n","import React from \"react\";\r\nimport { Character, Soldier, Stats, StatsEnum } from \"../types\";\r\nimport { getBaseCaptain, getBaseFirstMate, getCurrentStatStrings, isCaptain, isCharacter } from \"../Utils\";\r\n\r\nexport const StatsRenderer = ({ stats, member }: { stats: Stats; member: Character | Soldier }) => {\r\n    const currentStats = Object.entries(getCurrentStatStrings(stats, member.currentHealth));\r\n    const cells: JSX.Element[] = [];\r\n    for (const [key, value] of currentStats) {\r\n        cells.push(<td\r\n            className={\r\n                isCharacter(member) && stats[key as StatsEnum] !== (isCaptain(member.type) ?\r\n                    getBaseCaptain() : getBaseFirstMate()).stats[key as StatsEnum] ? \"improved-stat\" : \"\"\r\n            }\r\n            key={`add_dialog_${isCharacter(member) ? member.name : member.type}_stat_${key}`\r\n            }>\r\n            {value}\r\n        </td>);\r\n    }\r\n    return <React.Fragment>{cells}</React.Fragment>;\r\n};\r\n","import { Character, Soldier, StatsEnum } from \"../types\";\r\nimport { getStatsWithGear, isCharacter } from \"../Utils\";\r\nimport { StatsRenderer } from \"./StatsRenderer\";\r\n\r\nexport const CharacterStatusBarTable = ({ character, gearSlotsUsed, isTileTable }: { character: Character | Soldier; gearSlotsUsed: number; isTileTable?: boolean }) =>\r\n    <table className={isTileTable ? \"character-tile-table\" : \"character-statusbar-table\"}>\r\n        <colgroup>\r\n            <col style={{ width: \"14%\" }} />\r\n            <col style={{ width: \"14%\" }} />\r\n            <col style={{ width: \"14%\" }} />\r\n            <col style={{ width: \"14%\" }} />\r\n            <col style={{ width: \"14%\" }} />\r\n            <col style={{ width: \"14%\" }} />\r\n            <col style={{ width: \"14%\" }} />\r\n        </colgroup>\r\n        <thead>\r\n            <tr className={isTileTable ? \"small-text centered-text\" : \"small-text\"}>\r\n                {Object.keys(StatsEnum).map((stat) => <td key={`add_dialog__stat_header_${stat}`}>{stat}</td>)}\r\n                <td key={\"add_dialog_stat_header_gear\"}>Gear</td>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr className={isTileTable ? \"centered-text\" : \"\"} >\r\n                <StatsRenderer member={character} stats={isCharacter(character) ? getStatsWithGear(character.stats, {}, character.gear) : character.stats} />\r\n                <td style={gearSlotsUsed > character.gearSlots ? { color: \"orangered\" } : {}}>{`${gearSlotsUsed}/${character.gearSlots}`}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>;\r\n","import { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { Character, CharactersEnum, CrewState, Soldier } from \"../../types\";\r\nimport { isCharacter } from \"../../Utils\";\r\nimport { CharacterStatusBarTable } from \"../CharacterStatusBarTable\";\r\n\r\nexport const CharacterStatsHeader = ({ characterType, gearSlots }: { characterType: CharactersEnum; gearSlots?: number }) => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const character = characterType === CharactersEnum.Captain ? state.Captain : state.FirstMate;\r\n    return <div key=\"statusbar\" id=\"statusbar\" className=\"statusbar\" >\r\n        <div className=\"statusbar-tiles\" style={{ display: \"block\", float: \"none\" }}>{`${characterType === CharactersEnum.Captain ? \"Cpt.\" : \"Ltn.\"} ${character.name}` || \"Unnamed Character\"}</div>\r\n        <CharacterStatusBarTable\r\n            character={character}\r\n            gearSlotsUsed={gearSlots || character.gear?.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0) || 0} />\r\n    </div>;\r\n};\r\n\r\nexport const CustomStatsHeader = ({ character, gearSlots }: { character: Character | Soldier; gearSlots?: number }) => <div key=\"statusbar\" id=\"statusbar\" className=\"statusbar\" >\r\n    <div className=\"statusbar-tiles\" style={{ display: \"block\", float: \"none\" }}>{`${isCharacter(character) ? character.name : character.type}` || \"Unnamed Character\"}</div>\r\n    <CharacterStatusBarTable\r\n        character={character}\r\n        gearSlotsUsed={gearSlots === undefined ? (isCharacter(character) ? character.gear?.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0) : 0) : gearSlots} />\r\n</div>;\r\n","export default __webpack_public_path__ + \"static/media/AdvTech1.ab5108aa.png\";","export default __webpack_public_path__ + \"static/media/AdvTech2.7512fa6b.png\";","export default __webpack_public_path__ + \"static/media/AdvWeapons.48e048cd.png\";","export default __webpack_public_path__ + \"static/media/Alien.2f295dc5.png\";","export default __webpack_public_path__ + \"static/media/Aristocrat.04b8cbcb.png\";","export default __webpack_public_path__ + \"static/media/Biomorph.30852fce.png\";","export default __webpack_public_path__ + \"static/media/CargoBay.2ce7a772.png\";","export default __webpack_public_path__ + \"static/media/CreateCrew.aa96e00e.png\";","export default __webpack_public_path__ + \"static/media/Cyborg.1d6e41d1.png\";","export default __webpack_public_path__ + \"static/media/Hunter.eae2f250.png\";","export default __webpack_public_path__ + \"static/media/Crew.517fe591.png\";","export default __webpack_public_path__ + \"static/media/Add.94030173.png\";","export default __webpack_public_path__ + \"static/media/Captain.95237b5a.png\";","export default __webpack_public_path__ + \"static/media/Save.62c16956.png\";","export default __webpack_public_path__ + \"static/media/Delete.17e835d8.png\";","export default __webpack_public_path__ + \"static/media/Info.9c4331cd.png\";","export default __webpack_public_path__ + \"static/media/Minus.d38fdb57.png\";","export default __webpack_public_path__ + \"static/media/SavePdf.2060f485.png\";","export default __webpack_public_path__ + \"static/media/Treasury.94a0facb.png\";","export default __webpack_public_path__ + \"static/media/ImportCrew.e5abae4c.png\";","export default __webpack_public_path__ + \"static/media/Information.889dce96.png\";","export default __webpack_public_path__ + \"static/media/Maintenance.c31fd9a6.png\";","export default __webpack_public_path__ + \"static/media/Mystic.41443507.png\";","export default __webpack_public_path__ + \"static/media/PostGame.021b5206.png\";","export default __webpack_public_path__ + \"static/media/Psionicist.3e8db9d2.png\";","export default __webpack_public_path__ + \"static/media/RoboticsExpert.62afca10.png\";","export default __webpack_public_path__ + \"static/media/Stargrave_Reference-1.19c89dcc.png\";","export default __webpack_public_path__ + \"static/media/Stargrave_Reference-2.ede3e341.png\";","export default __webpack_public_path__ + \"static/media/Rogue.67294730.png\";","export default __webpack_public_path__ + \"static/media/Secret.3f8d8168.png\";","export default __webpack_public_path__ + \"static/media/ShipUpgrades.ce3ccdec.png\";","export default __webpack_public_path__ + \"static/media/Shopping.33fff2ed.png\";","export default __webpack_public_path__ + \"static/media/ArmouredTrooper.47e7ee5c.png\";","export default __webpack_public_path__ + \"static/media/Burner.5074a0f0.png\";","export default __webpack_public_path__ + \"static/media/Casecracker.abae2ba0.png\";","export default __webpack_public_path__ + \"static/media/Chiseler.d137b278.png\";","export default __webpack_public_path__ + \"static/media/Codebreaker.9302a5e3.png\";","export default __webpack_public_path__ + \"static/media/Commando.9132f9b1.png\";","export default __webpack_public_path__ + \"static/media/Grenadier.f2ee0436.png\";","export default __webpack_public_path__ + \"static/media/GuardDog.eff5a8b3.png\";","export default __webpack_public_path__ + \"static/media/Gunner.a4b8a36f.png\";","export default __webpack_public_path__ + \"static/media/Hacker.de209c8c.png\";","export default __webpack_public_path__ + \"static/media/Medic.e34105fc.png\";","export default __webpack_public_path__ + \"static/media/Pathfinder.7a315f4e.png\";","export default __webpack_public_path__ + \"static/media/Recruit.99efe4a8.png\";","export default __webpack_public_path__ + \"static/media/Runner.b629c18a.png\";","export default __webpack_public_path__ + \"static/media/Sentry.208deaab.png\";","export default __webpack_public_path__ + \"static/media/Sniper.e17677ee.png\";","export default __webpack_public_path__ + \"static/media/Trooper.77aded42.png\";","export default __webpack_public_path__ + \"static/media/Tekker.9c3b86f0.png\";","export default __webpack_public_path__ + \"static/media/Starship.2d00d62f.png\";","export default __webpack_public_path__ + \"static/media/TradeGoods.6fd3f852.png\";","export default __webpack_public_path__ + \"static/media/TransactionLog.c655de86.png\";","export default __webpack_public_path__ + \"static/media/Unknown.c12505bd.png\";","export default __webpack_public_path__ + \"static/media/AdvancedMedicalSuite.3ed76dc5.png\";","export default __webpack_public_path__ + \"static/media/ArmamentWorkshop.8cbaf1a4.png\";","export default __webpack_public_path__ + \"static/media/CommunicationsArray.9b1082ca.png\";","export default __webpack_public_path__ + \"static/media/ExtraQuarters.00c1e8af.png\";","export default __webpack_public_path__ + \"static/media/RoboticsWorkshop.0bc9105f.png\";","export default __webpack_public_path__ + \"static/media/WeaponsLocker.26cb168d.png\";","export default __webpack_public_path__ + \"static/media/UseSample.3dd4980b.png\";","export default __webpack_public_path__ + \"static/media/Veteran.9d33839f.png\";","import { BackgroundEnum, ShipUpgrade, SoldierEnum } from \"../types\";\r\nimport AdvancedTech1Png from \"./AdvTech1.png\";\r\nimport AdvancedTech2Png from \"./AdvTech2.png\";\r\nimport AdvancedWeaponsPng from \"./AdvWeapons.png\";\r\nimport AlienArtefactsPng from \"./Alien.png\";\r\nimport AristocratPng from \"./Aristocrat.png\";\r\nimport BiomorphPng from \"./Biomorph.png\";\r\nimport CargoBayPng from \"./CargoBay.png\";\r\nimport CreateCrewPng from \"./CreateCrew.png\";\r\nimport CyborgPng from \"./Cyborg.png\";\r\nimport HunterPng from \"./Hunter.png\";\r\nimport AddPng from \"./icons/Add.png\";\r\nimport CaptainPng from \"./icons/Captain.png\";\r\nimport CreditsPng from \"./icons/Credits.png\";\r\nimport CrewPng from \"./icons/Crew.png\";\r\nimport DeletePng from \"./icons/Delete.png\";\r\nimport ExitPng from \"./icons/Exit.png\";\r\nimport InfoPng from \"./icons/Info.png\";\r\nimport LeavePng from \"./icons/Leave.png\";\r\nimport MinusPng from \"./icons/Minus.png\";\r\nimport SavePng from \"./icons/Save.png\";\r\nimport PdfPng from \"./icons/SavePdf.png\";\r\nimport TreasuryPng from \"./icons/Treasury.png\";\r\nimport ImportCrewPng from \"./ImportCrew.png\";\r\nimport InformationPng from \"./Information.png\";\r\nimport MaintenancePng from \"./Maintenance.png\";\r\nimport MysticPng from \"./Mystic.png\";\r\nimport PostGamePng from \"./PostGame.png\";\r\nimport PsionicistPng from \"./Psionicist.png\";\r\nimport QuickReferenceSheet1Png from \"./resources/Stargrave_Reference-1.png\";\r\nimport QuickReferenceSheet2Png from \"./resources/Stargrave_Reference-2.png\";\r\nimport RoboticsExpertPng from \"./RoboticsExpert.png\";\r\nimport RoguePng from \"./Rogue.png\";\r\nimport SecretPng from \"./Secret.png\";\r\nimport ShipUpgradesPng from \"./ShipUpgrades.png\";\r\nimport ShoppingPng from \"./Shopping.png\";\r\nimport ArmouredTrooperPng from \"./soldiers/ArmouredTrooper.png\";\r\nimport BurnerPng from \"./soldiers/Burner.png\";\r\nimport CasecrackerPng from \"./soldiers/Casecracker.png\";\r\nimport ChiselerPng from \"./soldiers/Chiseler.png\";\r\nimport CodebreakerPng from \"./soldiers/Codebreaker.png\";\r\nimport CommandoPng from \"./soldiers/Commando.png\";\r\nimport GrenadierPng from \"./soldiers/Grenadier.png\";\r\nimport GuardDogPng from \"./soldiers/GuardDog.png\";\r\nimport GunnerPng from \"./soldiers/Gunner.png\";\r\nimport HackerPng from \"./soldiers/Hacker.png\";\r\nimport MedicPng from \"./soldiers/Medic.png\";\r\nimport PathfinderPng from \"./soldiers/Pathfinder.png\";\r\nimport RecruitPng from \"./soldiers/Recruit.png\";\r\nimport RunnerPng from \"./soldiers/Runner.png\";\r\nimport SentryPng from \"./soldiers/Sentry.png\";\r\nimport SniperPng from \"./soldiers/Sniper.png\";\r\nimport TrooperPng from \"./soldiers/Trooper.png\";\r\nimport StarshipPng from \"./Starship.png\";\r\nimport TekkerPng from \"./Tekker.png\";\r\nimport TradeGoodsPng from \"./TradeGoods.png\";\r\nimport TransactionLogPng from \"./TransactionLog.png\";\r\nimport UnknownPng from \"./Unknown.png\";\r\nimport AdvancedMedicalSuitePng from \"./upgrades/AdvancedMedicalSuite.png\";\r\nimport ArmamentWorkshopPng from \"./upgrades/ArmamentWorkshop.png\";\r\nimport CommunicationsArrayPng from \"./upgrades/CommunicationsArray.png\";\r\nimport ExternalCargoPodsPng from \"./upgrades/ExternalCargoPods.png\";\r\nimport ExtraQuartersPng from \"./upgrades/ExtraQuarters.png\";\r\nimport MeditationChamberPng from \"./upgrades/MeditationChamber.png\";\r\nimport RoboticsWorkshopPng from \"./upgrades/RoboticsWorkshop.png\";\r\nimport WeaponsLockerPng from \"./upgrades/WeaponsLocker.png\";\r\nimport UseSamplePng from \"./UseSample.png\";\r\nimport VeteranPng from \"./Veteran.png\";\r\n\r\nexport const QuickReferenceSheet1 = QuickReferenceSheet1Png;\r\nexport const QuickReferenceSheet2 = QuickReferenceSheet2Png;\r\nexport const CyborgIcon = CyborgPng;\r\nexport const BiomorphIcon = BiomorphPng;\r\nexport const MysticIcon = MysticPng;\r\nexport const PsionicistIcon = PsionicistPng;\r\nexport const RoboticsExpertIcon = RoboticsExpertPng;\r\nexport const RogueIcon = RoguePng;\r\nexport const StarshipIcon = StarshipPng;\r\nexport const TekkerIcon = TekkerPng;\r\nexport const VeteranIcon = VeteranPng;\r\nexport const AristocratIcon = AristocratPng;\r\nexport const HunterIcon = HunterPng;\r\n\r\nexport const BurnerIcon = BurnerPng;\r\nexport const GrenadierIcon = GrenadierPng;\r\nexport const SniperIcon = SniperPng;\r\nexport const CodebreakerIcon = CodebreakerPng;\r\nexport const GuardDogIcon = GuardDogPng;\r\nexport const CasecrackerIcon = CasecrackerPng;\r\nexport const GunnerIcon = GunnerPng;\r\nexport const MedicIcon = MedicPng;\r\nexport const PathfinderIcon = PathfinderPng;\r\nexport const ArmouredTrooperIcon = ArmouredTrooperPng;\r\nexport const RecruitIcon = RecruitPng;\r\nexport const RunnerIcon = RunnerPng;\r\nexport const SentryIcon = SentryPng;\r\nexport const TrooperIcon = TrooperPng;\r\nexport const HackerIcon = HackerPng;\r\nexport const ChiselerIcon = ChiselerPng;\r\nexport const CommandoIcon = CommandoPng;\r\n\r\nexport const AdvancedTech1Icon = AdvancedTech1Png;\r\nexport const AdvancedTech2Icon = AdvancedTech2Png;\r\nexport const AlienArtefactsIcon = AlienArtefactsPng;\r\nexport const AdvancedWeaponsIcon = AdvancedWeaponsPng;\r\n\r\nexport const getBackgroundImage = (background: string | undefined) => {\r\n    switch (background) {\r\n        case BackgroundEnum.Biomorph: return BiomorphIcon;\r\n        case BackgroundEnum.Cyborg: return CyborgIcon;\r\n        case BackgroundEnum.Mystic: return MysticIcon;\r\n        case BackgroundEnum.Psionicist: return PsionicistIcon;\r\n        case BackgroundEnum.RoboticsExpert: return RoboticsExpertIcon;\r\n        case BackgroundEnum.Rogue: return RogueIcon;\r\n        case BackgroundEnum.Tekker: return TekkerIcon;\r\n        case BackgroundEnum.Veteran: return VeteranIcon;\r\n        case BackgroundEnum.Hunter: return HunterIcon;\r\n        case BackgroundEnum.Aristocrat: return AristocratIcon;\r\n        default:\r\n            return UnknownPng;\r\n    }\r\n};\r\n\r\nexport const getSoldierImage = (soldierType: string) => {\r\n    switch (soldierType) {\r\n        case SoldierEnum.Burner: return BurnerIcon;\r\n        case SoldierEnum.Grenadier: return GrenadierIcon;\r\n        case SoldierEnum.Sniper: return SniperIcon;\r\n        case SoldierEnum.Casecracker: return CasecrackerIcon;\r\n        case SoldierEnum.Codebreaker: return CodebreakerIcon;\r\n        case SoldierEnum.GuardDog: return GuardDogIcon;\r\n        case SoldierEnum.Gunner: return GunnerIcon;\r\n        case SoldierEnum.Medic: return MedicIcon;\r\n        case SoldierEnum.Pathfinder: return PathfinderIcon;\r\n        case SoldierEnum.ArmouredTrooper: return ArmouredTrooperIcon;\r\n        case SoldierEnum.Recruit: return RecruitIcon;\r\n        case SoldierEnum.Runner: return RunnerIcon;\r\n        case SoldierEnum.Sentry: return SentryIcon;\r\n        case SoldierEnum.Trooper: return TrooperIcon;\r\n        case SoldierEnum.Hacker: return HackerIcon;\r\n        case SoldierEnum.Chiseler: return ChiselerIcon;\r\n        case SoldierEnum.Commando: return CommandoIcon;\r\n        default:\r\n            return UnknownPng;\r\n    }\r\n};\r\n\r\nexport const CaptainIcon = CaptainPng;\r\nexport const UseSampleIcon = UseSamplePng;\r\nexport const CreateCrewIcon = CreateCrewPng;\r\nexport const ImportCrewIcon = ImportCrewPng;\r\nexport const CreditsIcon = CreditsPng;\r\nexport const InformationIcon = InformationPng;\r\nexport const TradeGoodsIcon = TradeGoodsPng;\r\nexport const SecretIcon = SecretPng;\r\nexport const TreasuryIcon = TreasuryPng;\r\nexport const CrewIcon = CrewPng;\r\nexport const LeaveIcon = LeavePng;\r\nexport const AddIcon = AddPng;\r\nexport const SaveIcon = SavePng;\r\nexport const ExitIcon = ExitPng;\r\nexport const InfoIcon = InfoPng;\r\nexport const MinusIcon = MinusPng;\r\nexport const PdfIcon = PdfPng;\r\nexport const DeleteItemIcon = DeletePng;\r\nexport const PostGameIcon = PostGamePng;\r\nexport const ShipUpgradesIcon = ShipUpgradesPng;\r\nexport const CargoBayIcon = CargoBayPng;\r\nexport const ShoppingIcon = ShoppingPng;\r\nexport const TransactionLogIcon = TransactionLogPng;\r\nexport const MaintenanceIcon = MaintenancePng;\r\n\r\nexport const MeditationChamberIcon = MeditationChamberPng;\r\nexport const ExternalCargoPodsIcon = ExternalCargoPodsPng;\r\nexport const WeaponsLockerIcon = WeaponsLockerPng;\r\nexport const RoboticsWorkshopIcon = RoboticsWorkshopPng;\r\nexport const ExtraQuartersIcon = ExtraQuartersPng;\r\nexport const CommunicationsArrayIcon = CommunicationsArrayPng;\r\nexport const ArmamentWorkshopIcon = ArmamentWorkshopPng;\r\nexport const AdvancedMedicalSuiteIcon = AdvancedMedicalSuitePng;\r\n\r\nexport const getUpgradeImage = (upgrade: ShipUpgrade) => {\r\n    switch (upgrade.name) {\r\n        case \"Armament Workshop\": return ArmamentWorkshopIcon;\r\n        case \"Advanced Medical Suite\": return AdvancedMedicalSuiteIcon;\r\n        case \"Communications Array\": return CommunicationsArrayIcon;\r\n        case \"External Cargo Pods\": return ExternalCargoPodsIcon;\r\n        case \"Extra Quarters\": return ExtraQuartersIcon;\r\n        case \"Meditation Chamber\": return MeditationChamberIcon;\r\n        case \"Robotics Workshop\": return RoboticsWorkshopIcon;\r\n        case \"Weapon Locker\": return WeaponsLockerIcon;\r\n        default:\r\n            return UnknownPng;\r\n    }\r\n};\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { BackgroundEnum, Character, CrewState, LootItem, ModifiedGear, ModifiedPower, ShipUpgrade, Soldier, Stats, Transaction } from \"../types\";\r\n\r\nexport const ADD_XP = \"ADD_XP\";\r\nexport const ADD_LOOT = \"ADD_LOOT\";\r\nexport const BUY_LOOT = \"BUY_LOOT\";\r\nexport const SPEND_XP = \"SPEND_XP\";\r\nexport const REWIND_XP = \"REWIND_XP\";\r\nexport const ADD_SOLDIERS = \"ADD_SOLDIERS\";\r\nexport const SET_CAPTAINS_NAME = \"SET_CAPTAINS_NAME\";\r\nexport const SET_CAPTAINS_BACKGROUND = \"SET_CAPTAINS_BACKGROUND\";\r\nexport const SET_CAPTAINS_STATS = \"SET_CAPTAINS_STATS\";\r\nexport const SET_CAPTAINS_POWERS = \"SET_CAPTAINS_POWERS\";\r\nexport const SET_CAPTAINS_GEAR = \"SET_CAPTAINS_GEAR\";\r\nexport const SET_FIRSTMATE_NAME = \"SET_FIRSTMATE_NAME\";\r\nexport const SET_FIRSTMATE_BACKGROUND = \"SET_FIRSTMATE_BACKGROUND\";\r\nexport const SET_FIRSTMATE_GEAR = \"SET_FIRSTMATE_GEAR\";\r\nexport const SET_FIRSTMATE_STATS = \"SET_FIRSTMATE_STATS\";\r\nexport const SET_FIRSTMATE_POWERS = \"SET_FIRSTMATE_POWERS\";\r\nexport const SET_FIRST_MATE = \"SET_FIRST_MATE\";\r\nexport const SET_CAPTAIN = \"SET_CAPTAIN\";\r\nexport const SET_CREW = \"SET_CREW\";\r\nexport const SET_SHIPNAME = \"SET_SHIPNAME\";\r\nexport const MODIFY_SOLDIER = \"MODIFY_SOLDIER\";\r\nexport const REMOVE_SOLDIERS = \"REMOVE_SOLDIERS\";\r\nexport const SELL_LOOT = \"SELL_LOOT\";\r\nexport const ADD_CREDITS = \"ADD_CREDITS\";\r\nexport const REMOVE_CREDITS = \"REMOVE_CREDITS\";\r\nexport const CONVERT_INFORMATION = \"CONVERT_INFORMATION\";\r\nexport const REMOVE_LOOT_FROM_CARGO_BAY = \"REMOVE_LOOT_FROM_CARGO_BAY\";\r\nexport const SHIP_UPGRADE = \"SHIP_UPGRADE\";\r\ninterface SetCrew {\r\n    type: typeof SET_CREW;\r\n    payload: CrewState;\r\n}\r\n\r\ninterface AddXp {\r\n    type: typeof ADD_XP;\r\n    payload: number;\r\n}\r\n\r\ninterface SpendXp {\r\n    type: typeof SPEND_XP;\r\n    payload: number;\r\n}\r\n\r\ninterface RewindXp {\r\n    type: typeof REWIND_XP;\r\n}\r\n\r\ninterface SetCrewName {\r\n    type: typeof SET_SHIPNAME;\r\n    payload: string;\r\n}\r\n\r\ninterface SetCaptainsName {\r\n    type: typeof SET_CAPTAINS_NAME;\r\n    payload: string;\r\n}\r\n\r\ninterface SetFirstMateName {\r\n    type: typeof SET_FIRSTMATE_NAME;\r\n    payload: string;\r\n}\r\ninterface SetFirstMateBackground {\r\n    type: typeof SET_FIRSTMATE_BACKGROUND;\r\n    payload: BackgroundEnum | undefined;\r\n}\r\ninterface SetCaptainsBackground {\r\n    type: typeof SET_CAPTAINS_BACKGROUND;\r\n    payload: BackgroundEnum | undefined;\r\n}\r\ninterface SetCaptainsPowers {\r\n    type: typeof SET_CAPTAINS_POWERS;\r\n    payload: ModifiedPower[];\r\n}\r\n\r\ninterface SetCaptainsGear {\r\n    type: typeof SET_CAPTAINS_GEAR;\r\n    payload: ModifiedGear[];\r\n}\r\n\r\ninterface SetFirstMateGear {\r\n    type: typeof SET_FIRSTMATE_GEAR;\r\n    payload: ModifiedGear[];\r\n}\r\n\r\ninterface SetFirstMatePowers {\r\n    type: typeof SET_FIRSTMATE_POWERS;\r\n    payload: ModifiedPower[];\r\n}\r\n\r\ninterface SetCaptainsStats {\r\n    type: typeof SET_CAPTAINS_STATS;\r\n    payload: Stats;\r\n}\r\n\r\ninterface SetFirstMateStats {\r\n    type: typeof SET_FIRSTMATE_STATS;\r\n    payload: Stats;\r\n}\r\ninterface SetCaptain {\r\n    type: typeof SET_CAPTAIN;\r\n    payload: Character;\r\n}\r\n\r\ninterface SetFirstMate {\r\n    type: typeof SET_FIRST_MATE;\r\n    payload: Character;\r\n}\r\n\r\ninterface AddSoldiers {\r\n    type: typeof ADD_SOLDIERS;\r\n    payload: Soldier[];\r\n}\r\n\r\ninterface ModifySoldier {\r\n    type: typeof MODIFY_SOLDIER;\r\n    payload: Soldier;\r\n}\r\ninterface RemoveSoldiers {\r\n    type: typeof REMOVE_SOLDIERS;\r\n    payload: Soldier[];\r\n}\r\n\r\ninterface AddLoot {\r\n    type: typeof ADD_LOOT;\r\n    payload: LootItem;\r\n}\r\n\r\ninterface SellLoot {\r\n    type: typeof SELL_LOOT;\r\n    payload: { loot: LootItem; credits: number };\r\n}\r\n\r\ninterface BuyLoot {\r\n    type: typeof BUY_LOOT;\r\n    payload: { loot: LootItem; credits: number };\r\n}\r\n\r\ninterface RemoveLootFromCargoBay {\r\n    type: typeof REMOVE_LOOT_FROM_CARGO_BAY;\r\n    payload: { loot: LootItem };\r\n}\r\ninterface ConvertInformation {\r\n    type: typeof CONVERT_INFORMATION;\r\n    payload: { loot: LootItem };\r\n}\r\n\r\ninterface AddCredits {\r\n    type: typeof ADD_CREDITS;\r\n    payload: Transaction;\r\n}\r\n\r\ninterface RemoveCredits {\r\n    type: typeof REMOVE_CREDITS;\r\n    payload: Transaction;\r\n}\r\n\r\ninterface UpgradeShip {\r\n    type: typeof SHIP_UPGRADE;\r\n    payload: ShipUpgrade;\r\n}\r\n\r\nexport type Actions = AddCredits | AddLoot | AddSoldiers | AddXp | BuyLoot | ConvertInformation | ModifySoldier | SellLoot | RemoveLootFromCargoBay | RemoveCredits | RemoveSoldiers |\r\n    RewindXp | SetCrew | SetCrewName | SetCaptainsBackground | SetCaptainsGear | SetCaptainsName | SetCaptainsPowers |\r\n    SetCaptainsStats | SetCaptain | SetFirstMate | SetFirstMateBackground | SetFirstMateGear | SetFirstMateStats | SetFirstMatePowers |\r\n    SetFirstMateName | SpendXp | UpgradeShip;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CharacterStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { getBackgroundImage } from \"../../images/index\";\r\nimport { SET_CAPTAINS_BACKGROUND, SET_CAPTAINS_NAME, SET_FIRSTMATE_BACKGROUND, SET_FIRSTMATE_NAME } from \"../../redux/actions\";\r\nimport { BackgroundEnum, CharactersEnum } from \"../../types\";\r\n\r\nexport const CharacterBackgroundPage = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const BackgroundTile = ({ bg }: { bg: BackgroundEnum }) => <div\r\n        key={`add-character-${bg}`}\r\n        className=\"add-character-tile\"\r\n        onClick={() => {\r\n            dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_BACKGROUND : SET_FIRSTMATE_BACKGROUND, payload: bg });\r\n            history.push(\"/CharacterStatsSelection\", characterType);\r\n        }}>\r\n        <img style={{ width: \"3.5rem\" }} src={getBackgroundImage(bg)} alt={`add-character-${bg}-icon`} />\r\n        <div>{`${bg === BackgroundEnum.RoboticsExpert ? \"Robotics Expert\" : bg}`}</div>\r\n    </div>;\r\n\r\n    return <React.Fragment>\r\n        <CharacterStatsHeader characterType={characterType} />\r\n        <div className=\"modal-header\">{`Select a background for your ${characterType === CharactersEnum.Captain ? CharactersEnum.Captain : \"First Mate\"}`}</div>\r\n        <div className=\"background-flex-container\">\r\n            {Object.keys(BackgroundEnum).map((backgroundEnumEntry: string) => <BackgroundTile bg={(backgroundEnumEntry as BackgroundEnum)} />)}\r\n            <button\r\n                onClick={() => {\r\n                    dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_NAME : SET_FIRSTMATE_NAME, payload: \"\" });\r\n                    history.goBack();\r\n                }}\r\n                className={\"page-btn\"}\r\n            >Back</button>\r\n        </div>\r\n\r\n    </React.Fragment>;\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\n\r\nexport const CustomBackButtonComponent = ({ dispatchFunction, customHistory }: { dispatchFunction(): void; customHistory?(): void }) => {\r\n\r\n    const history = useHistory();\r\n    return <button\r\n        onClick={(event) => {\r\n            dispatchFunction();\r\n            customHistory ? customHistory() : history.goBack();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }}\r\n        className={\"page-btn\"}\r\n    >Back</button>;\r\n};\r\n","export const FlexContainer = ({ firstItem, secondItem }: { firstItem: string; secondItem: string }) =>\r\n    <div style={{ display: \"flex\", flexDirection: \"row\", flexWrap: \"wrap\", justifyContent: \"center\" }} className=\"emphasized\">\r\n        <div>{firstItem}</div>\r\n        <div>{secondItem}</div>\r\n    </div>;\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport function useComponentVisible(initialIsVisible: boolean) {\r\n    const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible);\r\n    const ref = useRef<HTMLDivElement>(null);\r\n\r\n    const handleHideDropdown = (event: KeyboardEvent) => {\r\n        if (event.key === \"Escape\") {\r\n            setIsComponentVisible(false);\r\n        }\r\n    };\r\n\r\n    const handleClickOutside = (event: Event) => {\r\n        if (isComponentVisible) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        if (ref.current && !ref.current.contains(event.target as Node)) {\r\n            setIsComponentVisible(false);\r\n        }\r\n    };\r\n\r\n    const openMenu = () => {\r\n        setIsComponentVisible(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", handleHideDropdown, true);\r\n        document.addEventListener(\"click\", handleClickOutside, true);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", handleHideDropdown, true);\r\n            document.removeEventListener(\"click\", handleClickOutside, true);\r\n        };\r\n    });\r\n\r\n    return { ref, isComponentVisible, setIsComponentVisible, openMenu };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { DropdownOptions, Gear, ModifiedGear } from \"../../types\";\r\nimport { useComponentVisible } from \"../../UseComponentVisible\";\r\nimport { getActualNotes, getDamageModifierString } from \"../../Utils\";\r\nimport { FlexContainer } from \"../Containers\";\r\n\r\nconst GearLabel = ({ gear, gearList }: { gear: Gear; gearList: Array<ModifiedGear | string> }) =>\r\n    <React.Fragment>\r\n        <FlexContainer firstItem={gear.name} secondItem={`(${gear.gearSlots})`} />\r\n        {gear.type === \"Weapon\" ? <div style={{ fontSize: \"0.65rem\" }}>\r\n            {gear.maxRange === \"Melee\" || gear.maxRange === \"Template\" ? gear.maxRange : `Range: ${gear.maxRange}`} / {`${getDamageModifierString(gear)} dmg`}</div > :\r\n            gear.type === \"Armour\" ? <div style={{ fontSize: \"0.65rem\" }}> {`+${gear.armourModifier || 0} Armour ${getActualNotes(gearList, gear) ? \"/\" : \"\"} ${getActualNotes(gearList, gear)}`}</div> : null}\r\n        {gear.type === \"Armour\" ? null : < div style={{ fontSize: \"0.65rem\" }}> {getActualNotes(gearList, gear)} </div>}\r\n    </React.Fragment>;\r\n\r\nexport const GearDropDown = ({ list, dropdownOptions, callbackFn }: { list: Gear[]; dropdownOptions: DropdownOptions; callbackFn(item: string): void }) => {\r\n    const [selectedItem, setSelectedItem] = useState<Gear>(dropdownOptions.placeholder);\r\n    const getCssProps = () => {\r\n        const position = document.getElementById(`dropdown-container-${dropdownOptions.id}`)?.getBoundingClientRect();\r\n        if (position) {\r\n            return { top: (position.top || 0) + 42, left: (position.left || 0), width: (position.width - 5 || 0) };\r\n        }\r\n        return { top: 42, left: 0, width: 0 };\r\n    };\r\n    const renderGearList = () => list.filter((item: Gear) => (item.name !== selectedItem.name)).map((listItem) =>\r\n        <div key={`dropdown-list-item-${dropdownOptions.id}-${listItem.name}`}\r\n            className=\"gear-selection dropdown-input dropdown-input-list\"\r\n            onMouseDown={() => {\r\n                setSelectedItem(listItem);\r\n                callbackFn(listItem.name);\r\n                setIsComponentVisible(false);\r\n            }}\r\n        >\r\n            <GearLabel gear={listItem} gearList={list} />\r\n        </div>\r\n    );\r\n    const { ref, isComponentVisible, setIsComponentVisible, openMenu } = useComponentVisible(false);\r\n    return <React.Fragment>\r\n        <div\r\n            className=\"gear-selection selected dropdown-input\"\r\n            onClick={openMenu}\r\n            id={`dropdown-container-${dropdownOptions.id}`}>\r\n            <GearLabel gear={dropdownOptions.placeholder} gearList={list} />\r\n        </div>\r\n        <div ref={ref}>\r\n            {isComponentVisible ?\r\n                <div style={getCssProps()} className=\"dropdown-portal\">\r\n                    {list.length > 0 ? renderGearList() : <div key={`dropdown-list-item-${dropdownOptions.id}-empty-list`} className=\"dropdown-empty-list\">No match found for search string. Please refine your search.</div>}\r\n                </div> : null}\r\n        </div>\r\n    </React.Fragment>;\r\n\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BackButtonComponent } from \"../../components/common/BackButton\";\r\nimport { XPDropDown } from \"../../components/dropdowns/XPDropdown\";\r\nimport { MODIFY_SOLDIER, REMOVE_CREDITS, REMOVE_SOLDIERS, SET_CAPTAIN, SET_FIRST_MATE } from \"../../redux/actions\";\r\nimport { Character, CharactersEnum, CrewState, Soldier } from \"../../types\";\r\ninterface CrewUpdates {\r\n    member: Soldier | Character;\r\n    change: CrewInjuries | CharacterInjuries;\r\n}\r\nenum CrewInjuries {\r\n    DEAD = \"Dead (1-4)\",\r\n    WOUNDED = \"Badly Wounded (5-8)\",\r\n    RECOVERY = \"Full Recovery (9-20)\",\r\n}\r\nenum CharacterInjuries {\r\n    BARELY_ALIVE = \"Barely Alive (1-2)\",\r\n    WOUNDED = \"Badly Wounded (3-6)\",\r\n    CLOSE_CALL = \"Close Call (7-8)\",\r\n    RECOVERY = \"Full Recovery (9-20)\",\r\n}\r\nconst credits = [40, 50, 80, 90, 100, 120, 130, 140, 150, 160, 170, 180, 190, 200];\r\n\r\nexport const PostGameSequencePage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const [crewUpdates, setCrewUpdates] = useState<CrewUpdates[]>([]);\r\n    const [randsom, setRandsom] = useState<number>(0);\r\n    const updateCrewMan = (crewman: Soldier, value: string) => {\r\n        const filteredList = crewUpdates.filter((member) => {\r\n            if (member.member.hasOwnProperty(\"amount\")) {\r\n                const crewmember = (member.member as Soldier);\r\n                return !(crewmember.name === crewman.name && crewmember.type === crewman.type);\r\n            }\r\n            return true;\r\n        });\r\n        setCrewUpdates([...filteredList, { member: crewman, change: value as CrewInjuries }]);\r\n    };\r\n    const updateCharacter = (char: Character, value: string) => {\r\n        const filteredList = crewUpdates.filter((ch) => {\r\n            if (ch.member.hasOwnProperty(\"name\")) {\r\n                const crewmember = (ch.member as Character);\r\n                return !(crewmember.name === char.name);\r\n            }\r\n            return true;\r\n        });\r\n        setCrewUpdates([...filteredList, { member: char, change: value as CharacterInjuries }]);\r\n    };\r\n    const aftermath = () => {\r\n        const deadSoldiers: Soldier[] = [];\r\n        crewUpdates.forEach((update) => {\r\n            const crewman = state.Soldiers.find((sol) => sol.name === (update.member as Soldier).name && sol.type === update.member.type);\r\n            switch (update.change) {\r\n                case CrewInjuries.DEAD:\r\n                    if (crewman) {\r\n                        deadSoldiers.push(crewman);\r\n                    }\r\n                    break;\r\n                case CharacterInjuries.BARELY_ALIVE:\r\n                    dispatch({\r\n                        type: update.member.type === CharactersEnum.Captain ? SET_CAPTAIN : SET_FIRST_MATE,\r\n                        payload: update.member.type === CharactersEnum.Captain ? { ...state.Captain, missNextGame: true } : { ...state.FirstMate, missNextGame: true },\r\n                    });\r\n                    break;\r\n                case CharacterInjuries.WOUNDED:\r\n                    dispatch({\r\n                        type: update.member.type === CharactersEnum.Captain ? SET_CAPTAIN : SET_FIRST_MATE,\r\n                        payload: update.member.type === CharactersEnum.Captain ?\r\n                            { ...state.Captain, currentHealth: Math.floor(state.Captain.stats.Health / 2) } :\r\n                            { ...state.FirstMate, currentHealth: Math.floor(state.FirstMate.stats.Health / 2) },\r\n                    });\r\n                    break;\r\n                case CrewInjuries.WOUNDED:\r\n                    if (crewman) {\r\n                        dispatch({\r\n                            type: MODIFY_SOLDIER,\r\n                            payload: { ...crewman, currentHealth: Math.floor(state.FirstMate.stats.Health / 2) },\r\n                        });\r\n                    }\r\n                    break;\r\n                case CharacterInjuries.CLOSE_CALL:\r\n                case CrewInjuries.RECOVERY:\r\n            }\r\n        });\r\n        if (randsom) {\r\n            dispatch({\r\n                type: REMOVE_CREDITS,\r\n                payload: {\r\n                    credits: randsom,\r\n                    sign: false,\r\n                    record: `Paid upkeep/randsom of ${randsom}`,\r\n                },\r\n            });\r\n        }\r\n        dispatch({\r\n            type: REMOVE_SOLDIERS,\r\n            payload: deadSoldiers,\r\n        });\r\n    };\r\n    const renderInjuryAndDeathCrew = (crewman: Soldier) => <React.Fragment>\r\n        <div className=\"injuries-btn\">\r\n            <div>{crewman.type} #{crewman.name}</div>\r\n            <XPDropDown list={Object.values(CrewInjuries)} dropdownOptions={{ id: `${crewman.name}${crewman.type}`, placeholder: CrewInjuries.RECOVERY }} callbackFn={(val) => updateCrewMan(crewman, val)} />\r\n        </div>\r\n    </React.Fragment>;\r\n    const renderInjuryAndDeathCharacter = (char: Character) => <React.Fragment>\r\n        <div className=\"injuries-btn\">\r\n            <div>{char.name} ({char.level})</div>\r\n            <XPDropDown list={Object.values(CharacterInjuries)} dropdownOptions={{ id: `${char.name}`, placeholder: CharacterInjuries.RECOVERY }} callbackFn={(val) => updateCharacter(char, val)} />\r\n        </div>\r\n    </React.Fragment>;\r\n    return <React.Fragment>\r\n        <div className=\"chapter-header\">Congratulation on completing the last mission</div>\r\n        <div className=\"modal-header\">\r\n            Now you need to distribute the spoils of war and tend to your crew.\r\n            </div>\r\n        <div className=\"modal-header\">But first things first. How is your crew?</div>\r\n        {renderInjuryAndDeathCharacter(state.Captain)}\r\n        {renderInjuryAndDeathCharacter(state.FirstMate)}\r\n        {state.Soldiers.map(renderInjuryAndDeathCrew)}\r\n        <div className=\"modal-header\">Did you have to pay randsom or upkeep?</div>\r\n        {credits.map((choice) => <div\r\n            className={choice === randsom ? \"credits-selection selected\" : \"credits-selection\"}\r\n            onClick={() => setRandsom(choice)}\r\n        >\r\n            {`${choice} \\xA5`}\r\n        </div>)}\r\n        <button\r\n            onClick={() => {\r\n                aftermath();\r\n                history.push(\"/Experience\");\r\n            }}\r\n            className={\"dialog-btn confirm-btn\"}\r\n        >Confirm</button>\r\n        <BackButtonComponent />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { FlexContainer } from \"../../components/Containers\";\r\nimport { GearDropDown } from \"../../components/dropdowns/GearDropdown\";\r\nimport { CharacterStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { getNormalArmour, getNormalEquipment, getNormalGearDetails, getNormalMeleeWeapons, getNormalRangedWeapons, isWeapon } from \"../../GearUtils\";\r\nimport { SET_CAPTAINS_GEAR, SET_CAPTAINS_POWERS, SET_FIRSTMATE_GEAR } from \"../../redux/actions\";\r\nimport { CharactersEnum, CrewState, ModifiedGear, Weapon } from \"../../types\";\r\nimport { getActualNotes, getDamageModifierString } from \"../../Utils\";\r\n\r\nexport const CharacterSelectGearPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const character = characterType === CharactersEnum.Captain ? state.Captain : state.FirstMate;\r\n    const defaultKnife = getNormalGearDetails(\"Knife\");\r\n    const defaultArmour = getNormalGearDetails(\"No Armour\");\r\n    const [selectedGear, setSelectedGear] = useState<ModifiedGear[]>([defaultKnife, defaultArmour]);\r\n    const isGearSelected = (gear: string) => !!selectedGear.find((gr) => gr.name === gear);\r\n    const maxGear = () => selectedGear.reduce((acc, gear) => acc + gear.gearSlots, 0) >= (character.gearSlots);\r\n\r\n    const getSelectedArmour = () => getNormalArmour().find((armour) => isGearSelected(armour.name));\r\n    const getSelectedMelee = () => getNormalMeleeWeapons().find((melee) => isGearSelected(melee.name));\r\n    const getCSSClasses = (name: string, withMax?: boolean) => isGearSelected(name) ? \"gear-selection selected\" : itemTooLarge(name) || (withMax && maxGear()) ? \"gear-selection disabled\" : \"gear-selection\";\r\n    const itemTooLarge = (gearName: string) => selectedGear.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0) + getNormalGearDetails(gearName).gearSlots > (character.gearSlots);\r\n    const onClickHandler = (gearName: string) => {\r\n        if (isGearSelected(gearName)) {\r\n            if (gearName === \"Combat Armour\") {\r\n                setSelectedGear([...selectedGear.filter((gear) => gear.name !== gearName && gear.name !== \"Hand Weapon\" && gear.name !== \"Filter Mask\" && gear.name !== \"Pistol\"), defaultKnife]);\r\n                return;\r\n            }\r\n            setSelectedGear(selectedGear.filter((gear) => gear.name !== gearName));\r\n        } else {\r\n            const gearDetails = getNormalGearDetails(gearName);\r\n            if (itemTooLarge(gearName) || (gearDetails.type === \"Weapon\" && maxGear())) {\r\n                return;\r\n            }\r\n            if (gearDetails.type === \"Armour\") {\r\n                if (gearDetails.name === \"Combat Armour\") {\r\n                    setSelectedGear(\r\n                        [\r\n                            ...selectedGear.filter((selGear) => getNormalGearDetails(selGear.name).type !== \"Armour\").filter((selGear) => (getNormalGearDetails(selGear.name) as Weapon).maxRange !== \"Melee\"),\r\n                            { name: gearName, gearSlots: gearDetails.gearSlots },\r\n                            { name: \"Hand Weapon\", gearSlots: 0 },\r\n                            { name: \"Filter Mask\", gearSlots: 0 },\r\n                            { name: \"Pistol\", gearSlots: 0 }]);\r\n                    return;\r\n                }\r\n                if (getSelectedArmour()?.name === \"Combat Armour\") {\r\n                    setSelectedGear([\r\n                        ...selectedGear.filter((gear) => gear.name !== \"Combat Armour\" && gear.name !== \"Hand Weapon\" && gear.name !== \"Filter Mask\" && gear.name !== \"Pistol\"),\r\n                        defaultKnife,\r\n                        { name: gearName, gearSlots: gearDetails.gearSlots },\r\n                    ]);\r\n                } else {\r\n                    setSelectedGear([...selectedGear.filter((selGear) => getNormalGearDetails(selGear.name).type !== gearDetails.type), { name: gearName, gearSlots: gearDetails.gearSlots }]);\r\n                }\r\n                return;\r\n            }\r\n            if ((isWeapon(gearDetails) && gearDetails.maxRange === \"Melee\")) {\r\n                setSelectedGear([\r\n                    ...selectedGear.filter((selGear) => (getNormalGearDetails(selGear.name) as Weapon).maxRange !== \"Melee\"),\r\n                    { name: gearName, gearSlots: gearDetails.gearSlots },\r\n                ]);\r\n                return;\r\n            }\r\n            setSelectedGear([...selectedGear, { name: gearName, gearSlots: gearDetails.gearSlots }]);\r\n        }\r\n    };\r\n\r\n    return <React.Fragment>\r\n        <CharacterStatsHeader characterType={characterType} gearSlots={selectedGear.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0)} />\r\n        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n            <div className=\"single-selection-gear\">\r\n                <div className=\"modal-header\">Armour</div>\r\n                <GearDropDown\r\n                    dropdownOptions={{\r\n                        id: \"Armour\",\r\n                        placeholder: getSelectedArmour() || defaultArmour,\r\n                    }}\r\n                    list={getNormalArmour()}\r\n                    callbackFn={onClickHandler}\r\n                />\r\n            </div>\r\n            <div className=\"single-selection-gear\">\r\n                <div className=\"modal-header\">Melee Weapons</div>\r\n                <GearDropDown\r\n                    dropdownOptions={{\r\n                        id: \"Melee\",\r\n                        placeholder: getSelectedMelee() || defaultKnife,\r\n                    }}\r\n                    list={getNormalMeleeWeapons()}\r\n                    callbackFn={onClickHandler}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"modal-header\">Equipment</div>\r\n        <div style={{ display: \"flex\", flexDirection: \"row\", flexWrap: \"wrap\" }}>\r\n            {getNormalEquipment().map((equi) =>\r\n                <div className=\"single-selection-gear\">\r\n                    <div className={getCSSClasses(equi.name)} onClick={() => onClickHandler(equi.name)}>\r\n                        <FlexContainer firstItem={equi.name} secondItem={`(${isGearSelected(equi.name) ? (selectedGear.find((item) => item.name === equi.name) as ModifiedGear).gearSlots : equi.gearSlots})`} />\r\n                        <div className=\"medium-text\">{equi.notes}</div>\r\n                    </div>\r\n                </div>)}\r\n        </div>\r\n        <div className=\"modal-header\">Shooting Weapons</div>\r\n        {/* {getGearByType(\"Weapon\")?.filter((weapon) => weapon.maxRange !== \"Melee\").sort((a, b) => gearSortAlgorithm(a) - gearSortAlgorithm(b)).map((weapon) => */}\r\n        <div style={{ display: \"flex\", flexDirection: \"row\", flexWrap: \"wrap\" }}>\r\n            {getNormalRangedWeapons().map((weapon) =>\r\n                <div className=\"single-selection-gear\">\r\n                    <div className={getCSSClasses(weapon.name, true)} onClick={() => onClickHandler(weapon.name)}>\r\n                        <FlexContainer firstItem={weapon.name} secondItem={`(${isGearSelected(weapon.name) ? (selectedGear.find((item) => item.name === weapon.name) as ModifiedGear).gearSlots : weapon.gearSlots})`} />\r\n                        <div className=\"medium-text\">{`Range: ${weapon.maxRange}`} / {`${getDamageModifierString(weapon)} dmg`}</div>\r\n                        {weapon.notes ? <div className=\"medium-text\">{getActualNotes(selectedGear, weapon)}</div> : null}\r\n                    </div>\r\n                </div>)}\r\n        </div>\r\n        <button\r\n            onClick={() => {\r\n                dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_GEAR : SET_FIRSTMATE_GEAR, payload: selectedGear.sort((a, b) => (a.name.localeCompare(b.name))) });\r\n                history.push(characterType === CharactersEnum.Captain ? \"/CharacterName\" : \"/SoldierSelection\", CharactersEnum.FirstMate);\r\n            }}\r\n            className={\"page-btn selected\"}\r\n        >{`${\"Confirm\"}`}</button>\r\n        <CustomBackButtonComponent\r\n            dispatchFunction={() => dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_POWERS : SET_CAPTAINS_POWERS, payload: [] })}\r\n            customHistory={() => history.push(\"/CharacterPowerSelection\", characterType)}\r\n        />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useLayoutEffect, useRef, useState } from \"react\";\r\n\r\nexport const InputComponent = ({ currentState, tooltip, cssClass, callback }: { currentState: string; tooltip: string; cssClass: string; callback(name: string): void }) => {\r\n    const [name, setName] = useState<string>(currentState);\r\n    const [inputVisible, setInputVisible] = useState<boolean>(false);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    useLayoutEffect(() => {\r\n        inputRef?.current?.focus();\r\n    }, [inputVisible]);\r\n\r\n    const checkEnter = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (event.code === \"Enter\") {\r\n            callback(name);\r\n            setInputVisible(false);\r\n        }\r\n        if (event.code === \"Escape\") {\r\n            setName(currentState);\r\n            callback(currentState);\r\n            setInputVisible(false);\r\n        }\r\n    };\r\n\r\n    const checkInput = (event: React.FormEvent<HTMLInputElement>) => {\r\n        setName(event.currentTarget.value);\r\n        callback(event.currentTarget.value);\r\n    };\r\n\r\n    return inputVisible ?\r\n        <input\r\n            ref={inputRef}\r\n            className={cssClass}\r\n            id=\"NameInput\"\r\n            onChange={checkInput}\r\n            onKeyUp={checkEnter}\r\n            onBlur={() => {\r\n                callback(name);\r\n                setInputVisible(false);\r\n            }}\r\n            value={name}\r\n        /> :\r\n        <div\r\n            style={{ padding: \"0.2rem 0.23rem\" }}\r\n            className={currentState ? \"input-text-div\" : \"input-text-div input-error\"}\r\n            onClick={() => setInputVisible(true)}>\r\n            {currentState || tooltip}\r\n        </div>;\r\n};\r\n","import { InputComponent } from \"./InputComponent\";\r\n\r\nexport const NameComponent = ({ currentStateValue, tooltip, inputCallback }: { currentStateValue: string; tooltip: string; inputCallback(name: string): void }) =>\r\n    <div className=\"statusbar-name\">\r\n        <InputComponent callback={inputCallback} currentState={currentStateValue} tooltip={tooltip} cssClass=\"input-field\" />\r\n    </div>;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { NameComponent } from \"../../components/NameComponent\";\r\nimport { CharacterStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { SET_CAPTAINS_NAME, SET_FIRSTMATE_NAME, SET_SHIPNAME } from \"../../redux/actions\";\r\nimport { CharactersEnum, CrewState } from \"../../types\";\r\nexport const CharacterNamePage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const [name, setName] = useState<string>(characterType === CharactersEnum.Captain ? state.Captain.name : state.FirstMate.name);\r\n\r\n    return <React.Fragment>\r\n        <CharacterStatsHeader characterType={characterType} />\r\n        <div className=\"modal-header\">\r\n            {`This is your ${characterType} base stat line. \\n\\nIn the following screens you will be able to select a background, improve some stats, select powers and equip your ${characterType} with some useful gear.`}\r\n        </div>\r\n        <div className=\"modal-header\">{`But first of all, your ${characterType} needs a name:`}</div>\r\n        <NameComponent inputCallback={setName} currentStateValue={name} tooltip={`${characterType}'s name`} />\r\n        <button\r\n            onClick={() => {\r\n                if (name) {\r\n                    dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_NAME : SET_FIRSTMATE_NAME, payload: name });\r\n                    history.push(\"/CharacterBackground\", characterType);\r\n                }\r\n            }}\r\n            className={name ? \"page-btn selected\" : \"page-btn disabled\"}\r\n        >Confirm</button>\r\n        <CustomBackButtonComponent dispatchFunction={() => dispatch({ type: SET_SHIPNAME, payload: \"\" })} />\r\n    </React.Fragment>;\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport ReactSwipe from \"react-swipe\";\r\n\r\nexport const Carousel = ({ inputDivs, splitSize, resetPage }: { inputDivs: JSX.Element[] | null; splitSize: number; resetPage?: number }) => {\r\n    let reactSwipeEl: ReactSwipe;\r\n    const cnt = inputDivs?.length || 0;\r\n    const sectionCnt = Math.ceil(cnt / splitSize);\r\n    const [currentSection, setCurrentSection] = useState<number>(resetPage || 1);\r\n    useEffect(() => {\r\n        reactSwipeEl.slide(currentSection - 1, 0);\r\n    });\r\n    const getContent = () => {\r\n        const sectionDivs: JSX.Element[] = [];\r\n        for (let i = 0; i < sectionCnt; i++) {\r\n            sectionDivs.push(<div>{inputDivs?.slice((i * splitSize), (i + 1) * splitSize)}</div>);\r\n        }\r\n        return sectionDivs;\r\n    };\r\n    return <div>\r\n        <ReactSwipe\r\n            className={\"carousel\"}\r\n            swipeOptions={{\r\n                continuous: false,\r\n            }}\r\n            ref={(el: ReactSwipe) => (reactSwipeEl = el)}\r\n            childCount={sectionCnt}\r\n        >\r\n            {getContent()}\r\n        </ReactSwipe>\r\n        <div style={{ display: \"inline-grid\", width: \"100%\" }}>\r\n            <button\r\n                className={currentSection === 1 ? \"carousel-btn disabled\" : \"carousel-btn\"}\r\n                onClick={() => {\r\n                    setCurrentSection(reactSwipeEl.getPos());\r\n                    reactSwipeEl.prev();\r\n                }}\r\n            >{\"<\"}</button>\r\n            <div style={{ gridArea: \"1\", placeSelf: \"center\" }}>{`${currentSection} / ${sectionCnt}`}</div>\r\n            <button\r\n                className={(currentSection === sectionCnt) ? \"carousel-btn disabled\" : \"carousel-btn\"}\r\n                onClick={() => {\r\n                    setCurrentSection(reactSwipeEl.getPos() + 2);\r\n                    reactSwipeEl.next();\r\n                }}\r\n            >{\">\"}</button>\r\n        </div>\r\n    </div >;\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Carousel } from \"../../components/common/Carousel\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { CharacterStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { SET_CAPTAINS_POWERS, SET_FIRSTMATE_POWERS } from \"../../redux/actions\";\r\nimport { BackgroundEnum, CharactersEnum, CrewState, Power } from \"../../types\";\r\nimport { getNonCorePowers, isCorePower } from \"../../Utils\";\r\n\r\nexport const CharacterNonCorePowerSelectionPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const character = characterType === CharactersEnum.Captain ? state.Captain : state.FirstMate;\r\n    const [selectedPowers, setSelectedPowers] = useState<Power[]>([]);\r\n    const [previewPower, setPreviewPower] = useState<Power | undefined>(undefined);\r\n    const [lastPreviewPower, setLastPreviewPower] = useState<Power | undefined>(undefined);\r\n    useEffect(() => {\r\n        if (previewPower) {\r\n            setLastPreviewPower(previewPower);\r\n        }\r\n    }, [previewPower]);\r\n    const isPowerSelected = (power: Power) => !!selectedPowers.find((pwr) => pwr.name === power.name);\r\n    const maxCorePowersSelected = () => {\r\n        let powersRemaining2 = characterType === CharactersEnum.Captain ? 4 : 3;\r\n        if (selectedPowers.filter((power) => !isCorePower(power.name, character.background as BackgroundEnum)).length === 2) {\r\n            powersRemaining2 = characterType === CharactersEnum.Captain ? 3 : 2;\r\n        }\r\n        return selectedPowers.filter((power) => isCorePower(power.name, character.background as BackgroundEnum)).length >= powersRemaining2;\r\n    };\r\n    const powersRemaining = (characterType === CharactersEnum.Captain ? 5 : 4) - character.powers.length;\r\n\r\n    return <React.Fragment>\r\n        {previewPower ?\r\n            <React.Fragment>\r\n                <div className=\"modal-header\">\r\n                    {`View Details for Power \"${previewPower.name}\"`}\r\n                    <div className=\"modal-sub-header\">{\"Click the back to return to the selection menu.\"}</div>\r\n                </div>\r\n                <div className=\"power-preview-section\">\r\n                    <div className=\"power-preview-name\">{`${previewPower.name}`}</div>\r\n                    <div className=\"power-preview-infos\">\r\n                        {`Activation: ${previewPower.activation}`} / {`Strain: ${previewPower.strain}`} / {Array.isArray(previewPower.category) ? `Categories: ${previewPower.category.join(\", \")}` : `Category: ${previewPower.category}`}\r\n                    </div>\r\n                    <div className={previewPower.effect.length <= 200 ? \"large-text\" : previewPower.effect.length <= 400 ? \"power-preview-medium-text\" : \"power-preview-small-text\"}>{previewPower.effect}</div>\r\n                </div>\r\n                <button\r\n                    onClick={(event) => {\r\n                        setPreviewPower(undefined);\r\n                        event.preventDefault();\r\n                        event.stopPropagation();\r\n                    }}\r\n                    className={\"dialog-btn close-btn foreground\"}\r\n                >Close</button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <CharacterStatsHeader characterType={characterType} />\r\n                <div className=\"modal-header\">\r\n                    {`Choose ${powersRemaining} additional ${powersRemaining === 1 ? \"Power\" : \"Powers\"}`}\r\n                    <div className=\"modal-sub-header\">{\"Swipe or use the page buttons to see more entries\"}</div>\r\n                </div>\r\n                <Carousel\r\n                    splitSize={8}\r\n                    resetPage={lastPreviewPower ? Math.ceil(getNonCorePowers(character.background as BackgroundEnum, characterType === CharactersEnum.Captain).findIndex((pwr) => pwr.name === lastPreviewPower?.name) / 8) : 1}\r\n                    inputDivs={getNonCorePowers(character.background as BackgroundEnum, characterType === CharactersEnum.Captain).map((power) =>\r\n                        <div\r\n                            onClick={() => {\r\n                                if (isPowerSelected(power)) {\r\n                                    const idx = selectedPowers.findIndex((pwr) => pwr.name === power.name);\r\n                                    if (idx !== -1) {\r\n                                        setSelectedPowers([...selectedPowers.slice(0, idx), ...selectedPowers.slice(idx + 1, selectedPowers.length)]);\r\n                                    }\r\n                                } else {\r\n                                    if (maxCorePowersSelected()) {\r\n                                        return;\r\n                                    }\r\n                                    setSelectedPowers([...selectedPowers, { ...power, activation: power.activation }]);\r\n                                }\r\n                            }}\r\n                            className={isPowerSelected(power) ? \"power-selection selected\" : maxCorePowersSelected() ? \"power-selection disabled\" : \"power-selection\"}\r\n                            key={`add_dialog_x_stat_${power.name}`}>\r\n\r\n                            <div className={isPowerSelected(power) ? \"info-corner inverted\" : \"info-corner\"} />\r\n                            <div className=\"info-corner-text\">i</div>\r\n                            <div>{power.name}</div>\r\n                            <div style={{ fontSize: \"0.8rem\" }}>{power.activation} / {power.strain} / {Array.isArray(power.category) ? `${power.category.join(\", \")}` : power.category}</div>\r\n                            <div className=\"info-click-area-non-core\"\r\n                                onClick={(event) => {\r\n                                    setPreviewPower(characterType === CharactersEnum.Captain ? power : { ...power, activation: power.activation + 2 });\r\n                                    event.preventDefault();\r\n                                    event.stopPropagation();\r\n                                }} />\r\n                        </div>\r\n\r\n                    )}\r\n\r\n                />\r\n                <button\r\n                    onClick={() => {\r\n                        if (selectedPowers.length === powersRemaining) {\r\n                            dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_POWERS : SET_FIRSTMATE_POWERS, payload: [...selectedPowers, ...character.powers].sort((a, b) => (a.name.localeCompare(b.name))) });\r\n                            history.push(characterType === CharactersEnum.Captain ? \"/CharacterImprovePowers\" : \"/CharacterSelectGear\", characterType);\r\n                        }\r\n                    }}\r\n                    className={selectedPowers.length === powersRemaining ? \"page-btn selected\" : \"page-btn disabled\"}\r\n                >Confirm</button>\r\n                <CustomBackButtonComponent dispatchFunction={() => dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_POWERS : SET_FIRSTMATE_POWERS, payload: [] })} />\r\n            </React.Fragment>}\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { CharacterStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { SET_CAPTAINS_POWERS, SET_FIRSTMATE_POWERS } from \"../../redux/actions\";\r\nimport { CharactersEnum, CrewState, ModifiedPower, Power } from \"../../types\";\r\nimport { getPower } from \"../../Utils\";\r\n\r\nexport const CharacterPowerImprovementsPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const character = characterType === CharactersEnum.Captain ? state.Captain : state.FirstMate;\r\n    const [selectedPowers, setSelectedPowers] = useState<ModifiedPower[]>([]);\r\n    const [previewPower, setPreviewPower] = useState<Power | undefined>(undefined);\r\n    const updatedArray = () => character.powers.filter((pwr) => !selectedPowers.find((x) => x.name === pwr.name)).concat(selectedPowers).sort((a, b) => (a.name.localeCompare(b.name)));\r\n    const isPowerSelected = (power: ModifiedPower) => !!selectedPowers.find((pwr) => pwr.name === power.name);\r\n    return <React.Fragment >\r\n        {previewPower ?\r\n            <React.Fragment >\r\n                <div className=\"modal-header\">\r\n                    {`View Details for Power \"${previewPower.name}\"`}\r\n                    <div className=\"modal-sub-header\">{\"Click the back to return to the selection menu.\"}</div>\r\n                </div>\r\n                <div className=\"power-preview-section\">\r\n                    <div className=\"power-preview-name\">{`${previewPower.name}`}</div>\r\n                    <div className=\"power-preview-infos\">\r\n                        {`Activation: ${previewPower.activation}`} / {`Strain: ${previewPower.strain}`} / {Array.isArray(previewPower.category) ? `Categories: ${previewPower.category.join(\", \")}` : `Category: ${previewPower.category}`}\r\n                    </div>\r\n                    <div className={previewPower.effect.length <= 200 ? \"large-text\" : previewPower.effect.length <= 400 ? \"power-preview-medium-text\" : \"power-preview-small-text\"}>{previewPower.effect}</div>\r\n                </div>\r\n                <button\r\n                    onClick={(event) => {\r\n                        setPreviewPower(undefined);\r\n                        event.preventDefault();\r\n                        event.stopPropagation();\r\n                    }}\r\n                    className={\"dialog-btn close-btn foreground\"}\r\n                >Close</button>\r\n            </React.Fragment > :\r\n            <React.Fragment>\r\n                <CharacterStatsHeader characterType={characterType} />\r\n                <div className=\"modal-header\">Select 2 of the following powers to lower their activation value by 1 each</div>\r\n                {character.powers.map((power) => {\r\n                    const actualPower = getPower(power.name);\r\n                    return <div style={{ display: \"inline-block\", width: \"100%\" }}>\r\n                        <div className={isPowerSelected(power) ? \"background-power-selection full-width selected\" : \"background-power-selection full-width\"}\r\n                            onClick={() => {\r\n                                if (selectedPowers.find((pwr) => pwr.name === power.name)) {\r\n                                    setSelectedPowers(selectedPowers.filter((pwr) => pwr.name !== power.name));\r\n                                } else {\r\n                                    if (selectedPowers.length >= 2) {\r\n                                        return;\r\n                                    }\r\n                                    setSelectedPowers([...selectedPowers, { ...power, activation: power.activation - 1 }]);\r\n                                }\r\n                            }}\r\n                            key={`add_dialog_x_stat_${power.name}`}>\r\n                            <div className={isPowerSelected(power) ? \"info-corner inverted\" : \"info-corner \"} />\r\n                            <div className=\"info-corner-text\">i</div>\r\n                            <div>{power.name}</div>\r\n                            <div style={{ fontSize: \"0.8rem\" }}>\r\n                                {isPowerSelected(power) ? power.activation - 1 : power.activation} / {actualPower.strain} / {Array.isArray(actualPower.category) ? `${actualPower.category.join(\", \")}` : actualPower.category}\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div className=\"info-click-area\"\r\n                            onClick={(event) => {\r\n                                setPreviewPower(actualPower);\r\n                                event.preventDefault();\r\n                                event.stopPropagation();\r\n                            }} />\r\n                    </div>;\r\n                })}\r\n                <button\r\n                    onClick={() => {\r\n                        if (selectedPowers.length === 2) {\r\n                            dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_POWERS : SET_FIRSTMATE_POWERS, payload: updatedArray() });\r\n                            history.push(\"/CharacterSelectGear\", characterType);\r\n                        }\r\n                    }}\r\n                    className={selectedPowers.length === 2 ? \"page-btn selected\" : \"page-btn disabled\"}\r\n                >Confirm</button>\r\n                <CustomBackButtonComponent\r\n                    dispatchFunction={() => dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_POWERS : SET_CAPTAINS_POWERS, payload: [] })}\r\n                    customHistory={() => history.push(\"/CharacterPowerSelection\", characterType)}\r\n                />\r\n            </React.Fragment >\r\n        }\r\n\r\n    </React.Fragment >;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { CharacterStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { SET_CAPTAINS_POWERS, SET_CAPTAINS_STATS, SET_FIRSTMATE_POWERS, SET_FIRSTMATE_STATS } from \"../../redux/actions\";\r\nimport { BackgroundEnum, CharactersEnum, CrewState, ModifiedPower, Power } from \"../../types\";\r\nimport { getBackgroundInfos, getBaseCaptain, getBaseFirstMate, getPowerInfos } from \"../../Utils\";\r\n\r\nexport const CharacterPowerSelectionPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const character = characterType === CharactersEnum.Captain ? state.Captain : state.FirstMate;\r\n    const [selectedPowers, setSelectedPowers] = useState<Power[]>([]);\r\n    const [previewPower, setPreviewPower] = useState<Power>();\r\n    const isPowerSelected = (power: Power) => !!selectedPowers.find((pwr) => pwr.name === power.name);\r\n    const minPowersSelected = () => selectedPowers.length >= (characterType === CharactersEnum.Captain ? 3 : 2);\r\n    const maxPowersSelected = () => selectedPowers.length >= (characterType === CharactersEnum.Captain ? 4 : 3);\r\n    return <React.Fragment>\r\n        {previewPower ?\r\n            <React.Fragment>\r\n                <div className=\"modal-header\">\r\n                    {`View Details for Power \"${previewPower.name}\"`}\r\n                    <div className=\"modal-sub-header\">{\"Click the back to return to the selection menu.\"}</div>\r\n                </div>\r\n                <div className=\"power-preview-section\">\r\n                    <div className=\"power-preview-name\">{`${previewPower.name}`}</div>\r\n                    <div className=\"power-preview-infos\">\r\n                        {`Activation: ${previewPower.activation}`} / {`Strain: ${previewPower.strain}`} / {Array.isArray(previewPower.category) ? `Categories: ${previewPower.category.join(\", \")}` : `Category: ${previewPower.category}`}\r\n                    </div>\r\n                    <div className={previewPower.effect.length <= 200 ? \"large-text\" : previewPower.effect.length <= 400 ? \"power-preview-medium-text\" : \"power-preview-small-text\"}>{previewPower.effect}</div>\r\n                </div>\r\n                <button\r\n                    onClick={(event) => {\r\n                        setPreviewPower(undefined);\r\n                        event.preventDefault();\r\n                        event.stopPropagation();\r\n                    }}\r\n                    className={\"dialog-btn close-btn foreground\"}\r\n                >Close</button>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <CharacterStatsHeader characterType={characterType} />\r\n                <div className=\"modal-header\">\r\n                    {`Choose ${characterType === CharactersEnum.Captain ? \"3 - 4\" : \"2 - 3\"} core Powers`}\r\n                    <div className=\"modal-sub-header\">{\"Click the info icon in the top right corner of a power to view its details\"}</div>\r\n                </div>\r\n                {getPowerInfos(getBackgroundInfos(character.background as BackgroundEnum).corePowers).map((power) => <div style={{ display: \"inline-block\", width: \"100%\" }}>\r\n                    <div\r\n                        onClick={() => {\r\n                            if (isPowerSelected(power)) {\r\n                                const idx = selectedPowers.findIndex((pwr) => pwr.name === power.name);\r\n                                if (idx !== -1) {\r\n                                    setSelectedPowers([...selectedPowers.slice(0, idx), ...selectedPowers.slice(idx + 1, selectedPowers.length)]);\r\n                                }\r\n                            } else {\r\n                                if (maxPowersSelected()) {\r\n                                    return;\r\n                                }\r\n                                setSelectedPowers([...selectedPowers, { ...power, activation: power.activation + (characterType === CharactersEnum.Captain ? 0 : 2) }]);\r\n                            }\r\n                        }}\r\n                        className={isPowerSelected(power) ? \"power-selection selected\" : maxPowersSelected() ? \"power-selection disabled\" : \"power-selection\"}\r\n                        key={`add_dialog_x_stat_${power.name}`}>\r\n\r\n                        <div key=\"power-info-corner\" className={isPowerSelected(power) ? \"info-corner inverted\" : \"info-corner \"} />\r\n                        <div key=\"power-info-corner-text\" className=\"info-corner-text\">i</div>\r\n                        <div key=\"power-name\">{power.name}</div>\r\n                        <div key=\"power-details\" style={{ fontSize: \"0.8rem\" }}>\r\n                            {power.activation + (characterType === CharactersEnum.Captain ? 0 : 2)} / {power.strain} / {Array.isArray(power.category) ? `${power.category.join(\", \")}` : power.category}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"info-click-area\"\r\n                        onClick={(event) => {\r\n                            setPreviewPower(characterType === CharactersEnum.Captain ? power : { ...power, activation: power.activation + 2 });\r\n                            event.preventDefault();\r\n                            event.stopPropagation();\r\n                        }} />\r\n                </div>\r\n                )}\r\n                <button\r\n                    onClick={() => {\r\n                        if (minPowersSelected()) {\r\n                            dispatch({\r\n                                type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_POWERS : SET_FIRSTMATE_POWERS,\r\n                                payload: selectedPowers.map((pow): ModifiedPower => ({ name: pow.name, activation: pow.activation })).sort((a, b) => (a.name.localeCompare(b.name))),\r\n                            });\r\n                            history.push(\"/CharacterNonCorePowerSelection\", characterType);\r\n                        }\r\n                    }}\r\n                    className={minPowersSelected() ? \"page-btn selected\" : \"page-btn disabled\"}\r\n                >Confirm</button>\r\n                <CustomBackButtonComponent\r\n                    dispatchFunction={() => characterType === CharactersEnum.Captain ? dispatch({ type: SET_CAPTAINS_STATS, payload: getBaseCaptain().stats }) : dispatch({ type: SET_FIRSTMATE_STATS, payload: getBaseFirstMate().stats })}\r\n                />\r\n            </React.Fragment>}\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { CustomStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { SET_CAPTAINS_BACKGROUND, SET_CAPTAINS_STATS, SET_FIRSTMATE_BACKGROUND, SET_FIRSTMATE_STATS } from \"../../redux/actions\";\r\nimport { BackgroundEnum, CharactersEnum, CrewState, Stats, StatsEnum } from \"../../types\";\r\nimport { getBackgroundInfos } from \"../../Utils\";\r\n\r\nexport const CharacterStatsSelectionPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const characterType = history.location.state as CharactersEnum;\r\n    const character = characterType === CharactersEnum.Captain ? state.Captain : state.FirstMate;\r\n    const background = getBackgroundInfos(character.background as BackgroundEnum);\r\n    const [selections, setSelections] = useState<Partial<Stats>>({});\r\n    const isStatSelected = (statName: string) => selections[statName as StatsEnum] !== undefined;\r\n    const statModificationsForBackground = getBackgroundInfos(background.name).statModifications;\r\n    const maxStatsReached = () => Object.keys(selections).length === statModificationsForBackground.chooseOptionals;\r\n    const calcPayload = () => {\r\n        let stats = character.stats;\r\n        stats = Object.entries(selections).reduce((newStats, [key, value]) => ({ ...newStats, [key]: value ? newStats[key as StatsEnum] + value : newStats[key as StatsEnum] }), stats);\r\n        return Object.entries(statModificationsForBackground.mandatory).reduce((newStats, [key, value]) => ({ ...newStats, [key]: value ? newStats[key as StatsEnum] + value : newStats[key as StatsEnum] }), stats);\r\n    };\r\n    return <React.Fragment>\r\n        <CustomStatsHeader character={{ ...character, stats: calcPayload() }} />\r\n        <div className=\"flex-container\">\r\n            <div style={{ marginTop: \"0.5rem\" }} className=\"modal-header\">Granted Stats Improvements</div>\r\n            {Object.entries(statModificationsForBackground.mandatory).map(([statName, statValue]) =>\r\n                <div className=\"background-stat-selection selected\" key={`add_captain_dialog_mand_stat_${statName}`}>+{statValue} {statName}</div>\r\n            )}\r\n            <div className=\"modal-header\">{`Optional Stats Improvements \\n (choose ${statModificationsForBackground.chooseOptionals} of the following)`}</div>\r\n            {Object.entries(statModificationsForBackground.optional).map(([statName, statValue]) =>\r\n                <div\r\n                    onClick={() => {\r\n                        if (isStatSelected(statName)) {\r\n                            const { [statName as StatsEnum]: exclProp, ...rest } = selections;\r\n                            setSelections(rest);\r\n                        } else {\r\n                            if (maxStatsReached()) {\r\n                                return;\r\n                            }\r\n                            setSelections({ ...selections, [statName]: statValue });\r\n                        }\r\n                    }}\r\n                    className={isStatSelected(statName) ? \"background-stat-selection selected\" : maxStatsReached() ? \"background-stat-selection disabled\" : \"background-stat-selection\"}\r\n                    key={`add_captain_dialog_opt_stat_${statName}`}>\r\n                    +{statValue} {statName}\r\n                </div>\r\n            )}\r\n            <button\r\n                onClick={() => {\r\n                    if (maxStatsReached()) {\r\n                        dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_STATS : SET_FIRSTMATE_STATS, payload: calcPayload() });\r\n                        history.push(\"/CharacterPowerSelection\", characterType);\r\n                    }\r\n                }}\r\n                className={maxStatsReached() ? \"dialog-btn confirm-btn\" : \"dialog-btn confirm-btn disabled\"}\r\n            >Confirm</button>\r\n            <CustomBackButtonComponent dispatchFunction={() => dispatch({ type: characterType === CharactersEnum.Captain ? SET_CAPTAINS_BACKGROUND : SET_FIRSTMATE_BACKGROUND, payload: undefined })} />\r\n        </div>\r\n    </React.Fragment>;\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\n\r\nexport const BackButtonComponent = () => {\r\n\r\n    const history = useHistory();\r\n    return <button\r\n        onClick={(event) => {\r\n            history.goBack();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }}\r\n        className={\"dialog-btn back-btn\"}\r\n    >Back</button>;\r\n};\r\n\r\nexport const PageBackBtnComponent = () => {\r\n    const history = useHistory();\r\n    return <button\r\n        onClick={(event) => {\r\n            history.goBack();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }}\r\n        className={\"page-btn\"}\r\n    >Back</button>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { NameComponent } from \"../../components/NameComponent\";\r\nimport { SET_SHIPNAME } from \"../../redux/actions\";\r\nimport { CharactersEnum } from \"../../types\";\r\n\r\nexport const ShipNamePage = () => {\r\n    const [name, setName] = useState<string>(\"\");\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    return <React.Fragment>\r\n        <div className=\"chapter-header\">Welcome to Stargarve - Science Fiction wargames in the ravaged galaxy</div>\r\n        <div className=\"modal-header\">\r\n            In the following screens you will design yourself a captain that is leading your crew, configure a loyal first mate to assist your fearless leader and hire disposable bodies (crewmen) to help you complete your objectives.\r\n            </div>\r\n        <div className=\"modal-header\">But first things first. Your crew needs a ship to get to their missions. What is the name of your ship?</div>\r\n        <NameComponent inputCallback={setName} currentStateValue={name} tooltip={\"Your ship needs a name\"} />\r\n        <button\r\n            onClick={() => {\r\n                dispatch({ type: SET_SHIPNAME, payload: name });\r\n                history.push(\"/CharacterName\", CharactersEnum.Captain);\r\n            }}\r\n            className={name ? \"page-btn selected\" : \"page-btn disabled\"}\r\n        >Confirm</button>\r\n        <PageBackBtnComponent />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useLayoutEffect, useRef, useState } from \"react\";\r\n\r\nexport const StringInputComponent = ({ currentState, tooltip, cssClass, callback }: { currentState: string; tooltip: string; cssClass: string; callback(name: string): void }) => {\r\n    const [name, setName] = useState<string>(currentState);\r\n    const [inputVisible, setInputVisible] = useState<boolean>(false);\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n    useLayoutEffect(() => {\r\n        inputRef?.current?.focus();\r\n    }, [inputVisible]);\r\n\r\n    const checkEnter = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (event.code === \"Enter\") {\r\n            callback(name);\r\n            setInputVisible(false);\r\n        }\r\n        if (event.code === \"Escape\") {\r\n            setName(currentState);\r\n            callback(currentState);\r\n            setInputVisible(false);\r\n        }\r\n    };\r\n\r\n    const checkInput = (event: React.FormEvent<HTMLInputElement>) => {\r\n        setName(event.currentTarget.value);\r\n        callback(event.currentTarget.value);\r\n    };\r\n\r\n    return inputVisible ?\r\n        <input\r\n            ref={inputRef}\r\n            className={cssClass}\r\n            id=\"NameInput\"\r\n            onChange={checkInput}\r\n            onKeyUp={checkEnter}\r\n            onBlur={() => {\r\n                callback(name);\r\n                setInputVisible(false);\r\n            }}\r\n            value={name}\r\n        /> :\r\n        <div\r\n            // style={{ placeSelf: \"start\", padding: \"0.2rem 0.23rem\" }}\r\n            className={\"list-item\"}\r\n            onClick={() => setInputVisible(true)}>\r\n            {currentState || tooltip}\r\n        </div>;\r\n};\r\n","import React from \"react\";\r\nimport { getGearDetails } from \"../GearUtils\";\r\nimport { Character, Gear, ModifiedGear, Soldier } from \"../types\";\r\n\r\nconst renderGear = (gear: Gear[] | ModifiedGear[], renderSoldier?: boolean, isPdf?: boolean) => <table className=\"character-tile-table\" style={{ width: \"100%\" }}>\r\n    <colgroup>\r\n        <col style={{ width: \"25%\" }} />\r\n        <col style={{ width: \"75%\" }} />\r\n    </colgroup>\r\n    <tbody>\r\n        <tr className={isPdf ? \"medium-pdf-text\" : \"small-text\"}>\r\n            <td style={{ fontSize: \"1rem\", paddingRight: \"1rem\", fontWeight: \"bold\" }}>Gear</td>\r\n            <td>\r\n                {`${renderSoldier ?\r\n                    gear.map((gearItem: ModifiedGear) => gearItem.name).join(\", \") :\r\n                    gear.map((gearItem: ModifiedGear) => `${gearItem.name} (${gearItem.gearSlots})`).join(\", \")}`}</td>\r\n        </tr>\r\n    </tbody>\r\n</table>;\r\n\r\nexport const CharacterTileGearAndPowers = ({ character, isPdf }: { character: Character; isPdf?: boolean }) =>\r\n    <React.Fragment>\r\n        <table className=\"character-tile-table\" style={{ width: \"100%\", textAlign: \"left\" }}>\r\n            <colgroup>\r\n                <col style={{ width: \"25%\" }} />\r\n                <col style={{ width: \"75%\" }} />\r\n            </colgroup>\r\n            <tbody>\r\n                <tr className={isPdf ? \"medium-pdf-text\" : \"small-text\"}>\r\n                    <td style={{ fontSize: \"1rem\", paddingRight: \"1rem\", fontWeight: \"bold\" }}>Powers</td>\r\n                    <td>{`${character.powers?.map((power) => `${power.name} (${power.activation})`).join(\", \")}`}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        {character.gear ? renderGear(character.gear, false, isPdf) : null}\r\n    </React.Fragment>;\r\n\r\nexport const SoldierTileGearAndPowers = ({ soldier, isPdf }: { soldier: Soldier; isPdf?: boolean }) =>\r\n    <React.Fragment>\r\n        {soldier.gear ? renderGear(soldier.gear.map(getGearDetails), true, isPdf) : null}\r\n    </React.Fragment>;\r\n","import { Character, Soldier } from \"../types\";\r\nimport { isCaptain } from \"../Utils\";\r\n\r\nexport const CharacterTileHeader = ({ character }: { character: Character }) =>\r\n    <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\", fontSize: \"1.2rem\", fontWeight: \"bold\" }}>\r\n        <div>{`${isCaptain(character.type) ? \"Cpt.\" : \"Ltn.\"} ${character.name} (${character.background})`}</div>\r\n        <div>{`Level ${character.level}`}</div>\r\n    </div>;\r\nexport const SoldierTileHeader = ({ soldier }: { soldier: Soldier }) =>\r\n    <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\", fontSize: \"1.1rem\", fontWeight: \"bold\" }}>\r\n        <div>{`${soldier.name} (${soldier.type})`}</div>\r\n    </div>;\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { isSpecialGear } from \"../GearUtils\";\r\nimport { Soldier } from \"../types\";\r\nimport { CharacterStatusBarTable } from \"./CharacterStatusBarTable\";\r\nimport { SoldierTileGearAndPowers } from \"./CharacterTileGearAndPowers\";\r\nimport { SoldierTileHeader } from \"./CharacterTileHeader\";\r\n\r\nexport const SoldierComponent = ({ soldier }: { soldier: Soldier }) => {\r\n    const history = useHistory();\r\n    return <div key={`${soldier.type}_tile`} className={\"character-tile\"} onClick={() => history.push(\"/SoldierEquipment\", { crewMember: soldier })}>\r\n        <SoldierTileHeader soldier={soldier} />\r\n        <CharacterStatusBarTable character={soldier} gearSlotsUsed={soldier.gear.some(isSpecialGear) ? 1 : 0} isTileTable={true} />\r\n        <SoldierTileGearAndPowers soldier={soldier} />\r\n    </div>;\r\n};\r\n","import { Weapon } from \"../types\";\r\nimport { getDamageModifierString } from \"../Utils\";\r\n\r\nexport const GearSelector = ({ weapon, isSelected, clickHandler }: { weapon: Weapon; isSelected: boolean; clickHandler(): void }) =>\r\n    <div className={isSelected ? \"gear-selection selected\" : \"gear-selection\"} onClick={clickHandler}>\r\n        <div className=\"emphasized\">{`${weapon.name} (${weapon.gearSlots})`}</div>\r\n        <div className=\"medium-text\">{`Range: ${weapon.maxRange}`} / {`${getDamageModifierString(weapon)} dmg`}</div>\r\n        {weapon.notes ? <div className=\"medium-text\">{weapon.notes}</div> : null}\r\n    </div>;\r\n","import React from \"react\";\r\nimport { getCarbine, getShotgun, getWeaponByName } from \"../GearUtils\";\r\nimport { AdvancedWeapons, Soldier, Weapon } from \"../types\";\r\nimport { GearSelector } from \"./GearSelector\";\r\nimport { SoldierComponent } from \"./SoldierComponent\";\r\ninterface WeaponSelection {\r\n    weapon: Weapon;\r\n    isSelected: boolean;\r\n}\r\nexport const SoldierEditor = ({ previewSoldier, specialWeapon, callback }: { previewSoldier: Soldier; specialWeapon?: AdvancedWeapons; callback(gear: string[]): void }) => {\r\n\r\n    const gear = previewSoldier.gear;\r\n    const removeDuplicateObjects = (arr: WeaponSelection[]) => arr.filter((w, pos, self) => self.findIndex((item) => item.weapon.name === w.weapon.name) === pos);\r\n    const removeDuplicateStrings = (arr: string[]) => arr.filter((w, pos, self) => self.findIndex((item) => item === w) === pos);\r\n    let selectableWeapons: WeaponSelection[] = [];\r\n    if (specialWeapon && specialWeapon.equivalent) {\r\n        const isSpecialWeaponSelected = !!gear.find((g) => g === specialWeapon.name);\r\n        if (specialWeapon.equivalent === \"Shotgun\" || specialWeapon.equivalent === \"Carbine\") {\r\n            selectableWeapons.push({ weapon: getShotgun(), isSelected: !!gear.find((g) => g === \"Shotgun\") });\r\n            selectableWeapons.push({ weapon: getCarbine(), isSelected: !!gear.find((g) => g === \"Carbine\") });\r\n        } else {\r\n            selectableWeapons.push({ weapon: getWeaponByName(specialWeapon.equivalent), isSelected: !!gear.find((g) => g === specialWeapon.equivalent) });\r\n        }\r\n        selectableWeapons.push({ weapon: specialWeapon, isSelected: isSpecialWeaponSelected });\r\n    }\r\n    if (gear.find((g) => g === \"Shotgun\")) {\r\n        selectableWeapons.push({ weapon: getShotgun(), isSelected: true });\r\n        selectableWeapons.push({ weapon: getCarbine(), isSelected: false });\r\n    }\r\n    if (gear.find((g) => g === \"Carbine\")) {\r\n        selectableWeapons.push({ weapon: getShotgun(), isSelected: false });\r\n        selectableWeapons.push({ weapon: getCarbine(), isSelected: true });\r\n    }\r\n    selectableWeapons = removeDuplicateObjects(selectableWeapons);\r\n    const cleanupGear = (newSelect: string) => {\r\n        const newSelectIsShotgun = newSelect === \"Shotgun\";\r\n        const newSelectIsCarbine = newSelect === \"Carbine\";\r\n        if (newSelectIsShotgun || newSelectIsCarbine) {\r\n            if (specialWeapon?.equivalent === \"Shotgun\" || specialWeapon?.equivalent === \"Carbine\") {\r\n                callback(removeDuplicateStrings([...gear.filter((g) => g !== specialWeapon?.name && (newSelectIsShotgun ? g !== \"Carbine\" : g !== \"Shotgun\")), newSelect]));\r\n                return;\r\n            }\r\n            callback(removeDuplicateStrings([...gear.filter((g) => newSelectIsShotgun ? g !== \"Carbine\" : g !== \"Shotgun\"), newSelect]));\r\n            return;\r\n        }\r\n        if (newSelect === specialWeapon?.equivalent) {\r\n            callback(removeDuplicateStrings([...gear.filter((g) => g !== specialWeapon?.name), newSelect]));\r\n            return;\r\n        }\r\n        if (newSelect === specialWeapon?.name) {\r\n            if (specialWeapon?.equivalent === \"Shotgun\" || specialWeapon?.equivalent === \"Carbine\") {\r\n                callback(removeDuplicateStrings([...gear.filter((g) => g !== \"Carbine\" && g !== \"Shotgun\"), newSelect]));\r\n            } else {\r\n                callback(removeDuplicateStrings([...gear.filter((g) => g !== specialWeapon?.equivalent), newSelect]));\r\n            }\r\n            return;\r\n        }\r\n    };\r\n    return <div className=\"flex-container\" style={{ clear: \"both\" }}>\r\n\r\n        {selectableWeapons.length > 0 ?\r\n            <React.Fragment> <div className=\"modal-header\">You may select which gear the new crew member should take </div>\r\n                {selectableWeapons.map((weapon) => <GearSelector weapon={weapon.weapon} isSelected={weapon.isSelected} clickHandler={() => cleanupGear(weapon.weapon.name)} />)}\r\n            </React.Fragment> : undefined}\r\n        <div className=\"modal-header\">Soldier Preview</div>\r\n        <SoldierComponent soldier={{ ...previewSoldier, gearSlots: 1, gear }} />\r\n    </div>;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Soldier, SoldierMetadata } from \"../types\";\r\nimport { StringInputComponent } from \"./common/StringInputComponent\";\r\nimport { SoldierComponent } from \"./SoldierComponent\";\r\nimport { SoldierEditor } from \"./SoldierEditor\";\r\nconst names = [\"Alex\", \"Anakin\", \"Apollo\", \"Ash\", \"Ben\", \"Buck\", \"Connor\", \"Duncan\", \"Echo\", \"Finn\", \"Fox\", \"Groot\", \"Han\", \"Harold\", \"Henry\", \"Holden\", \"Jack\", \"Jonas\", \"Julian\", \"Kaidan\", \"Kane\", \"Lando\", \"Lon\", \"Luke\", \"Malcolm\", \"Max\", \"Mickey\", \"Miles\", \"Montgomery\", \"Poe\", \"Peter\", \"Quinn\", \"Richard\", \"Riker\", \"Rocket\", \"Saren\", \"Wesley\", \"Yoda\", \"Ziggy\", \"Aeryn\", \"Alura\", \"Athena\", \"Beverly\", \"Clara\", \"Dana\", \"Dasha\", \"Delenn\", \"Diana\", \"Donna\", \"Elise\", \"Ezri\", \"Gamora\", \"Holly\", \"Inara\", \"Janice\", \"Jenny\", \"Jessica\", \"Kathryn\", \"Kira\", \"Leia\", \"Liara\", \"Lorraine\", \"Maggie\", \"Martha\", \"Maya\", \"Missy\", \"Monica\", \"Moya\", \"Padme\", \"Rey\", \"Ripley\", \"River\", \"Rose\", \"Serina\", \"Tasha\", \"Theora\", \"Vala\", \"Zephyra\", \"Zyla\", \"Zhora\"];\r\nexport const SoldierDialog = ({ previewSoldier, otherSoldiers, callbackHandler }: { previewSoldier: SoldierMetadata; otherSoldiers: Soldier[]; callbackHandler(soldier: Soldier): void }) => {\r\n    const getRandomName = () => names[Math.floor((Math.random() * names.length))];\r\n    useEffect(() => setSoldierName(getRandomName()), [otherSoldiers]);\r\n    const [soldierName, setSoldierName] = useState<string>(getRandomName());\r\n    const [gear, setGear] = useState<string[]>(previewSoldier.gear);\r\n    return <div className=\"flex-container\" style={{ clear: \"both\" }}>\r\n        <div className=\"modal-header\">What is the name of your new crew member?</div>\r\n        <StringInputComponent currentState={soldierName} tooltip={soldierName} cssClass={\"input-field\"} callback={setSoldierName} />\r\n        <SoldierEditor previewSoldier={{ ...previewSoldier, name: soldierName, gearSlots: 1, gear }} callback={setGear} />\r\n        <div className=\"page-btn\" onClick={() => callbackHandler({ ...previewSoldier, gearSlots: 1, name: soldierName, gear })}>{`Hire ${soldierName} for ${previewSoldier.cost}  \\xA5`}</div>\r\n        {otherSoldiers.map((sol) => <SoldierComponent soldier={{ ...sol, gearSlots: 1, gear: sol.gear }} />)}\r\n    </div>;\r\n};\r\n","import { CSSProperties } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CrewIcon } from \"../../images\";\r\nimport { numberOfCrewMembers } from \"../../Utils\";\r\n\r\nexport const CrewSizeComponent = ({ externalStyles, virtualCrewSize }: { externalStyles?: CSSProperties; virtualCrewSize?: number }) => {\r\n    const history = useHistory();\r\n    return <div\r\n        style={externalStyles}\r\n        onClick={() => history.push(\"/SoldierSelection\")}\r\n        className=\"statusbar-component\"\r\n        title={\"Current size of your crew\"}>\r\n        <img\r\n            src={CrewIcon}\r\n            className={\"toolbar-compact-icon\"}\r\n            id={\"CrewIcon\"}\r\n            alt={\"CrewIcon\"}>\r\n        </img>\r\n        <div className={\"toolbar-compact-text\"}>{virtualCrewSize || numberOfCrewMembers()}/10</div>\r\n    </div>;\r\n};\r\n","import { CSSProperties, useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { TreasuryIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types\";\r\n\r\nexport const TreasuryComponent = ({ externalStyles, virtualCredits }: { externalStyles?: CSSProperties; virtualCredits?: number }) => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    return <div\r\n        style={externalStyles}\r\n        onClick={() => history.push(\"/TransactionHistory\")}\r\n        className=\"statusbar-component\"\r\n        title={\"Current amount of credits in your treasury\"}>\r\n        <img\r\n            src={TreasuryIcon}\r\n            className={\"toolbar-compact-icon\"}\r\n            id={\"TreasuryIcon\"}\r\n            alt={\"TreasuryIcon\"}>\r\n        </img>\r\n        <div className={\"toolbar-compact-text\"}>\r\n            {`${virtualCredits || state.Credits} \\xA5`}\r\n        </div>\r\n    </div>;\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Carousel } from \"../../components/common/Carousel\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { SoldierDialog } from \"../../components/SoldierDialog\";\r\nimport { CrewSizeComponent } from \"../../components/statusbar/CrewSizeComponent\";\r\nimport { TreasuryComponent } from \"../../components/statusbar/TreasuryComponent\";\r\nimport * as SoldierList from \"../../data/Soldiers.json\";\r\nimport { getSoldierImage } from \"../../images\";\r\nimport { ADD_SOLDIERS } from \"../../redux/actions\";\r\nimport { CrewState, Soldier, SoldierGroups, SoldierMetadata } from \"../../types\";\r\n\r\nconst listOfSoldiers = SoldierList.Soldiers as SoldierMetadata[];\r\n\r\nexport const SoldierSelectionPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const [soldiers, setSoldiers] = useState<Soldier[]>([]);\r\n    const [previewSoldier, setPreviewSoldier] = useState<SoldierMetadata>();\r\n    const [lastPreviewSoldier, setLastPreviewSoldier] = useState<SoldierMetadata | undefined>(undefined);\r\n    useEffect(() => {\r\n        if (previewSoldier) {\r\n            setLastPreviewSoldier(previewSoldier);\r\n        }\r\n    }, [previewSoldier]);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const getCurrentSoldierAmount = (soldierType: string) => soldiers.filter((soldier) => soldier.type === soldierType)?.length || 0;\r\n    const specialistCount = () => soldiers.filter((soldier) => soldier.group === SoldierGroups.Specialist).length;\r\n    const hiringCost = () => soldiers.reduce((acc, soldier) => acc + soldier.cost, 0);\r\n    const canSubmit = () => soldiers.length <= 8 && specialistCount() <= 4 && hiringCost() <= state.Credits;\r\n\r\n    const renderSoldierTile = (soldier: SoldierMetadata) => <div\r\n        key={`add-character-${soldier.type}`}\r\n        className={getCurrentSoldierAmount(soldier.type) > 0 ? \"add-character-background selected\" : \"add-character-background\"}\r\n        onClick={() => setPreviewSoldier(soldier)}>\r\n        <img style={{ paddingTop: \"0.35rem\" }} className=\"add-character-background-icons\" src={getSoldierImage(soldier.type)} alt={`add-character-${soldier.type}-icon`} />\r\n        <div className=\"soldier-cost\">{`${soldier.cost} \\xA5`}</div>\r\n        <div style={{ paddingTop: \"0.35rem\" }} className=\"large-text\">{`${soldier.type}`}</div>\r\n        {soldier.group === SoldierGroups.Specialist ? <div className=\"medium-text\">Specialist</div> : null}\r\n        {getCurrentSoldierAmount(soldier.type) > 0 ? <div className=\"soldier-type\">{getCurrentSoldierAmount(soldier.type)}x</div> : null}\r\n    </div>;\r\n\r\n    return <React.Fragment>\r\n        <div key=\"statusbar\" id=\"statusbar\" className=\"statusbar\">\r\n            <div style={{ display: \"flex\", width: \"-webkit-fill-available\", justifyContent: \"space-between\" }}>\r\n                <CrewSizeComponent virtualCrewSize={soldiers.length + state.Soldiers.length + 2} />\r\n                <TreasuryComponent virtualCredits={state.Credits - hiringCost()} />\r\n            </div>\r\n        </div>\r\n        <div className=\"chapter-header\">Hire your crew</div>\r\n        {previewSoldier ? <SoldierDialog previewSoldier={previewSoldier} otherSoldiers={soldiers.filter((sol) => sol.type === previewSoldier.type)} callbackHandler={(soldier) => setSoldiers([...soldiers, soldier])} /> :\r\n            <Carousel splitSize={10} resetPage={lastPreviewSoldier ? Math.ceil(listOfSoldiers.findIndex((soldier) => soldier.type === lastPreviewSoldier?.type) / 10) : 1} inputDivs={listOfSoldiers.map(renderSoldierTile)} />}\r\n        {specialistCount() > 4 ?\r\n            <div>You are not allowed to have more than 4 'Specialist' Soldiers in your crew</div> :\r\n            null}\r\n        {soldiers.length > 8 ? <div>You are not allowed to have more than 8 Soldiers in total in your crew</div> : null}\r\n        {hiringCost() > state.Credits ? <div>{\"You don't have enough credits ( \\xA5 ) to hire all of these crew men\"} </div> : null}\r\n        {previewSoldier ? <button\r\n            onClick={(event) => {\r\n                setPreviewSoldier(undefined);\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }}\r\n            className={\"page-btn back-btn foreground\"}\r\n        >Back</button> :\r\n            <React.Fragment><button\r\n                onClick={(e) => {\r\n                    if (canSubmit()) {\r\n                        dispatch({ type: ADD_SOLDIERS, payload: soldiers });\r\n                        history.push(\"/CrewOverview\");\r\n                    }\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                }}\r\n                className={canSubmit() ? \"page-btn selected\" : \"dialog-btn confirm-btn disabled\"}>\r\n                Confirm Staffing</button>\r\n                <CustomBackButtonComponent dispatchFunction={() => undefined} customHistory={() => history.push(\"/CrewOverview\")} />\r\n            </React.Fragment>\r\n        }\r\n\r\n    </React.Fragment>;\r\n};\r\n","import React from \"react\";\r\n\r\nexport const CargoTile = ({ name, icon, details, bottomButton, topButton }: { name: string; icon: string; details?: string; bottomButton: JSX.Element; topButton?: JSX.Element }) =>\r\n    <div className=\"cargo-tile\">\r\n        {topButton ? topButton : undefined}\r\n        <img className=\"add-character-background-icons\" src={icon} alt={\"something so we don't get a warning\"} />\r\n        <div className=\"large-text\">{name}</div>\r\n        {details ? <div className=\"large-text\">{details}</div> : undefined}\r\n        <div style={{ paddingTop: \"1rem\", borderBottom: \"2px solid\" }} />\r\n        {bottomButton}\r\n    </div>;\r\n\r\nexport const TileButton = ({ text, isDisabled, clickHandler }: { text: string; isDisabled?: boolean; clickHandler(): void }) =>\r\n    <div className={isDisabled ? \"cargo-item-details-btn disabled\" : \"cargo-item-details-btn selected\"} onClick={clickHandler}>{text}</div>;\r\n","import React, { useState } from \"react\";\r\nimport { StringDropdownOptions } from \"../../types\";\r\nimport { useComponentVisible } from \"../../UseComponentVisible\";\r\n\r\nexport const CargoDropDown = ({ list, dropdownOptions, callbackFn }: { list: string[]; dropdownOptions: StringDropdownOptions; callbackFn(item: string): void }) => {\r\n    const [selectedItem, setSelectedItem] = useState<string>(dropdownOptions.placeholder);\r\n    const getCssProps = () => {\r\n        const position = document.getElementById(`dropdown-container-${dropdownOptions.id}`)?.getBoundingClientRect();\r\n        if (position) {\r\n            return { top: (position.top || 0) + 42, left: (position.left || 0), width: (position.width - 5 || 0) };\r\n        }\r\n        return { top: 42, left: 0, width: 0 };\r\n    };\r\n    const renderList = () => list.filter((item: string) => (item !== selectedItem)).map((listItem) =>\r\n        <div key={`dropdown-list-item-${dropdownOptions.id}-${listItem}`}\r\n            className=\"gear-selection dropdown-input dropdown-input-list\"\r\n            onMouseDown={() => {\r\n                setSelectedItem(listItem);\r\n                callbackFn(listItem);\r\n                setIsComponentVisible(false);\r\n            }}\r\n        >\r\n            <div>{listItem}</div>\r\n        </div>\r\n    );\r\n    const { ref, isComponentVisible, setIsComponentVisible, openMenu } = useComponentVisible(false);\r\n    return <React.Fragment>\r\n        <div\r\n            className=\"cargo-dropdown-selection selected\"\r\n            onClick={openMenu}\r\n            id={`dropdown-container-${dropdownOptions.id}`}>\r\n            <div>{selectedItem}</div>\r\n        </div>\r\n        <div ref={ref}>\r\n            {isComponentVisible ?\r\n                <div style={getCssProps()} className=\"dropdown-portal\">\r\n                    {list.length > 0 ? renderList() : <div key={`dropdown-list-item-${dropdownOptions.id}-empty-list`} className=\"dropdown-empty-list\">No match found for search string. Please refine your search.</div>}\r\n                </div> : null}\r\n        </div>\r\n    </React.Fragment>;\r\n\r\n};\r\n","import React from \"react\";\r\n\r\nexport const ItemCard = ({ name, icon, type, slots, notes, armourModifier }: { name: string; icon: string; type: string; slots: number; notes: string; armourModifier?: number }) => <React.Fragment>\r\n    <img className=\"add-character-background-icons\" src={icon} alt={\"something so we don't get a warning\"} />\r\n    <div className=\"large-text\">{name}</div>\r\n    <div className=\"medium-text\">{type} / {slots > 1 ? `${slots} Gear Slots` : `${slots} Gear Slot`}</div>\r\n    {armourModifier ? <div className=\"large-text\" >{`${armourModifier} Armour Modifier`}</div> : undefined}\r\n    <div className=\"large-text\" style={{ padding: \"2rem\", borderBottom: \"2px solid\" }}>{notes}</div>\r\n</React.Fragment>;\r\n\r\nexport const SimpleItemCard = ({ name, icon }: { name: string; icon: string }) => <React.Fragment>\r\n    <img className=\"add-character-background-icons\" src={icon} alt={\"something so we don't get a warning\"} />\r\n    <div style={{ paddingBottom: \"2rem\", borderBottom: \"2px solid\" }} className=\"large-text\">{name}</div>\r\n</React.Fragment>;\r\n","import React from \"react\";\r\nimport { AdvancedTech, AdvancedWeapons, AlienArtefact, Loot, ShipUpgrade } from \"../types\";\r\n\r\nconst BaseListItem = ({ text, detailsText, cssClasses, clickHandler }: { text: string; detailsText: string; cssClasses: string; clickHandler(): void }) => <div\r\n    onClick={clickHandler}\r\n    className={cssClasses}\r\n    key={`listItem_${text}`}>\r\n    <div key=\"list-item-name\">{text}</div>\r\n    <div key=\"list-item-details\" style={{ fontSize: \"0.8rem\" }}>{detailsText}</div>\r\n</div>;\r\n\r\nexport const GearListItem = ({ item, isDisabled, clickHandler }: { item: AdvancedTech | AlienArtefact | AdvancedWeapons; isDisabled: boolean; clickHandler(): void }) =>\r\n    <BaseListItem\r\n        text={item.name}\r\n        detailsText={`Cost: ${item.cost} / Gear Slots: ${item.gearSlots}`}\r\n        cssClasses={isDisabled ? \"list-item disabled\" : \"list-item\"}\r\n        clickHandler={clickHandler}\r\n    />;\r\n\r\nexport const CargoItem = ({ item, isDisabled, clickHandler }: { item: AdvancedTech | AlienArtefact | AdvancedWeapons | Loot | undefined; isDisabled: boolean; clickHandler(): void }) =>\r\n    item ? <BaseListItem\r\n        text={item.name}\r\n        detailsText={`Worth: ${item.sell} / Type: ${item.type}`}\r\n        cssClasses={isDisabled ? \"list-item disabled\" : \"list-item\"}\r\n        clickHandler={clickHandler}\r\n    /> : <React.Fragment />;\r\n\r\nexport const UpgradeItem = ({ item, isDisabled, isSelected, clickHandler }: { item: ShipUpgrade; isDisabled: boolean; isSelected: boolean; clickHandler(): void }) =>\r\n    item ? <BaseListItem\r\n        text={item.name}\r\n        detailsText={`Cost: ${item.cost}`}\r\n        cssClasses={isSelected ? \"list-item selected\" : isDisabled ? \"list-item disabled\" : \"list-item\"}\r\n        clickHandler={clickHandler}\r\n    /> : <React.Fragment />;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { CargoTile, TileButton } from \"../../components/DetailsTile\";\r\nimport { CargoDropDown } from \"../../components/dropdowns/CargoDropdown\";\r\nimport { ItemCard } from \"../../components/ItemCard\";\r\nimport { CargoItem } from \"../../components/ListItem\";\r\nimport { getAdvancedTech, getAdvancedWeapons, getAlienArtefacts } from \"../../GearUtils\";\r\nimport { AdvancedTech1Icon, AdvancedWeaponsIcon, AlienArtefactsIcon, InformationIcon, SecretIcon, TradeGoodsIcon } from \"../../images\";\r\nimport { CONVERT_INFORMATION, REMOVE_LOOT_FROM_CARGO_BAY, SELL_LOOT } from \"../../redux/actions\";\r\nimport { AdvancedTech, AdvancedWeapons, AlienArtefact, CrewState, Loot, LootCategories, LootItem } from \"../../types\";\r\nimport { getInformationValue, getTradeGoodsValue, isCharacter } from \"../../Utils\";\r\n\r\nexport const ShipsCargoPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const [confirmation, setConfirmation] = useState<LootItem | undefined>(undefined);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const checkEquality = (weaponsList: string[], equivalent: string) => {\r\n        if (equivalent === \"Carbine\") {\r\n            return weaponsList.some((g) => g === equivalent || g === \"Shotgun\");\r\n        }\r\n        if (equivalent === \"Shotgun\") {\r\n            return weaponsList.some((g) => g === equivalent || g === \"Carbine\");\r\n        }\r\n        return weaponsList.some(((g) => g === equivalent));\r\n    };\r\n    const getCrewList = (equivalent?: string) => {\r\n        if (equivalent) {\r\n            const soldierList = state.Soldiers.filter((sol) => checkEquality(sol.gear, equivalent)).map((sol) => `${sol.name}${sol.type}`);\r\n            return [state.Captain.name, state.FirstMate.name, ...soldierList];\r\n        }\r\n        return [state.Captain.name, state.FirstMate.name];\r\n    };\r\n\r\n    const getItem = (item: LootItem): AdvancedTech | AdvancedWeapons | AlienArtefact | Loot | undefined => {\r\n        switch (item.type) {\r\n            case LootCategories.TradeGoods: return { name: item.name, type: \"Trade Goods\", sell: getTradeGoodsValue(item.name) };\r\n            case LootCategories.Secret: return { name: item.name, type: \"Secret\", sell: 200 };\r\n            case LootCategories.Information: return { name: item.name, type: \"Information\", sell: getInformationValue(item.name) };\r\n            case LootCategories.AdvancedTechnology: return getAdvancedTech().find((tech) => tech.name === item.name);\r\n            case LootCategories.AdvancedWeapons: return getAdvancedWeapons().find((weapon) => weapon.name === item.name);\r\n            case LootCategories.AlienTech: return getAlienArtefacts().find((artefact) => artefact.name === item.name);\r\n        }\r\n    };\r\n\r\n    const DialogTile = ({ item }: { item: LootItem }) => {\r\n        switch (item.type) {\r\n            case LootCategories.TradeGoods:\r\n                return <CargoTile\r\n                    icon={TradeGoodsIcon}\r\n                    name={item.name}\r\n                    details={state.ShipUpgrades.find((upgrade) => upgrade === \"External Cargo Pods\") ? \"* gain +20% value when selling due to 'External Cargo Pods' Upgrade\" : \"\"}\r\n                    bottomButton={\r\n                        <TileButton\r\n                            clickHandler={() => {\r\n                                dispatch({ type: SELL_LOOT, payload: { loot: item, credits: getTradeGoodsValue(item.name) } });\r\n                                setConfirmation(undefined);\r\n                            }}\r\n                            text={`Sell for ${getTradeGoodsValue(item.name)} \\xA5`}\r\n                        />\r\n                    }\r\n                />;\r\n            case LootCategories.Secret:\r\n                return <CargoTile\r\n                    icon={SecretIcon}\r\n                    name={item.name}\r\n                    details={\"can be used to unlock loot that is otherwise not available to buy\"}\r\n                    bottomButton={\r\n                        <TileButton\r\n                            clickHandler={() => {\r\n                                dispatch({ type: SELL_LOOT, payload: { loot: item, credits: 200 } });\r\n                                setConfirmation(undefined);\r\n                            }}\r\n                            text={\"Sell for 200 \\xA5\"}\r\n                        />\r\n                    }\r\n                    topButton={\r\n                        <TileButton\r\n                            clickHandler={() => {\r\n                                dispatch({ type: REMOVE_LOOT_FROM_CARGO_BAY, payload: { loot: item } });\r\n                                setConfirmation(undefined);\r\n                            }}\r\n                            text={\"Use to unlock item\"}\r\n                        />\r\n                    } />;\r\n            case LootCategories.Information:\r\n                return <CargoTile\r\n                    icon={InformationIcon}\r\n                    name={item.name}\r\n                    details={\"can be converted into experience instead of selling\"}\r\n                    bottomButton={\r\n                        <TileButton\r\n                            clickHandler={() => {\r\n                                dispatch({ type: SELL_LOOT, payload: { loot: item, credits: getInformationValue(item.name) } });\r\n                                setConfirmation(undefined);\r\n                            }}\r\n                            text={`Sell for ${getInformationValue(item.name)} \\xA5`}\r\n                        />\r\n                    }\r\n                    topButton={\r\n                        <TileButton\r\n                            clickHandler={() => {\r\n                                dispatch({ type: CONVERT_INFORMATION, payload: { loot: item } });\r\n                                setConfirmation(undefined);\r\n                            }}\r\n                            text={\"Use to gain 20xp\"}\r\n                        />\r\n                    } />;\r\n            case LootCategories.AdvancedTechnology:\r\n                const technology = getAdvancedTech().find((tech) => tech.name === item.name);\r\n                if (technology) {\r\n                    return <div>\r\n                        <div className=\"cargo-tile\">\r\n                            {technology.shipGear ?\r\n                                <div className=\"cargo-item-details-btn selected\"\r\n                                    onClick={() => {\r\n                                        dispatch({ type: REMOVE_LOOT_FROM_CARGO_BAY, payload: { loot: item } });\r\n                                        setConfirmation(undefined);\r\n                                    }}>Item used up / destroyed</div> : <CargoDropDown list={getCrewList()} dropdownOptions={{ id: \"crewlist\", placeholder: \"Select crew member to attach\" }} callbackFn={(member) => {\r\n                                        const foundMember = member === state.Captain.name ? state.Captain : state.FirstMate;\r\n                                        if (foundMember) {\r\n                                            dispatch({ type: REMOVE_LOOT_FROM_CARGO_BAY, payload: { loot: item } });\r\n                                            history.push(\"/Equipment\", { crewMember: foundMember, equipment: technology });\r\n                                        }\r\n                                    }} />}\r\n                            <ItemCard name={item.name} type={technology.type} icon={AdvancedTech1Icon} slots={technology.gearSlots} notes={technology.notes} armourModifier={technology.armourModifier} />\r\n                            <div className=\"cargo-item-details-btn selected\"\r\n                                onClick={() => {\r\n                                    dispatch({ type: SELL_LOOT, payload: { loot: item, credits: technology.sell } });\r\n                                    setConfirmation(undefined);\r\n                                }}>\r\n                                {`Sell for ${technology.sell} \\xA5`}</div>\r\n\r\n                        </div>\r\n                    </div>;\r\n                }\r\n                return <React.Fragment></React.Fragment>;\r\n            case LootCategories.AdvancedWeapons:\r\n                const advWeapon = getAdvancedWeapons().find((weapon) => weapon.name === item.name);\r\n                if (advWeapon) {\r\n                    const str: string[] = [];\r\n                    if (advWeapon.maxRange) {\r\n                        str.push(typeof (advWeapon.maxRange) === \"number\" ? `Range ${advWeapon.maxRange}\"` : `${advWeapon.maxRange}`);\r\n                    }\r\n                    if (advWeapon.damageModifier) {\r\n                        str.push(`+${advWeapon.damageModifier} Damage Modifier`);\r\n                    }\r\n                    return <div>\r\n                        <div className=\"cargo-tile\">\r\n                            <CargoDropDown list={getCrewList(advWeapon.equivalent)} dropdownOptions={{ id: \"crewlist\", placeholder: \"Select crew member to attach\" }} callbackFn={(member) => {\r\n                                const foundMember = member === state.Captain.name ? state.Captain : member === state.FirstMate.name ? state.FirstMate : state.Soldiers.find((sol) => `${sol.name}${sol.type}` === member);\r\n                                if (foundMember) {\r\n                                    dispatch({ type: REMOVE_LOOT_FROM_CARGO_BAY, payload: { loot: item } });\r\n                                    history.push(isCharacter(foundMember) ? \"/Equipment\" : \"/SoldierEquipment\", { crewMember: foundMember, equipment: advWeapon });\r\n                                }\r\n                            }} />\r\n                            <ItemCard name={item.name} type={advWeapon.type} icon={AdvancedWeaponsIcon} slots={advWeapon.gearSlots} notes={advWeapon.notes || \"\"} />\r\n                            {str ? <div className=\"large-text\" >{str.join(\" / \")}</div> : undefined}\r\n                            <div style={{ paddingBottom: \"2rem\", borderBottom: \"2px solid\" }}></div>\r\n                            <div className=\"cargo-item-details-btn selected\"\r\n                                onClick={() => {\r\n                                    dispatch({ type: SELL_LOOT, payload: { loot: item, credits: advWeapon.sell } });\r\n                                    setConfirmation(undefined);\r\n                                }}>\r\n                                {`Sell for ${advWeapon.sell} \\xA5`}</div>\r\n                        </div>\r\n                    </div>;\r\n                }\r\n                return <React.Fragment></React.Fragment>;\r\n            case LootCategories.AlienTech:\r\n                const artefact = getAlienArtefacts().find((art) => art.name === item.name);\r\n                if (artefact) {\r\n                    return <div>\r\n                        <div className=\"cargo-tile\">\r\n                            <CargoDropDown list={getCrewList()} dropdownOptions={{ id: \"crewlist\", placeholder: \"Select crew member to attach\" }} callbackFn={(member) => {\r\n                                const foundMember = member === state.Captain.name ? state.Captain : state.FirstMate;\r\n                                if (foundMember) {\r\n                                    dispatch({ type: REMOVE_LOOT_FROM_CARGO_BAY, payload: { loot: item } });\r\n                                    history.push(\"/Equipment\", { crewMember: foundMember, equipment: artefact });\r\n                                }\r\n                            }} />\r\n                            <ItemCard name={item.name} type={artefact.type} icon={AlienArtefactsIcon} slots={artefact.gearSlots} notes={artefact.notes || \"\"} />\r\n                            <div style={{ fontWeight: \"bold\", float: \"right\", margin: \"0.2rem\", padding: \"1rem\" }} className=\"cargo-item-btn selected\"\r\n                                onClick={() => {\r\n                                    dispatch({ type: SELL_LOOT, payload: { loot: item, credits: artefact.sell } });\r\n                                    setConfirmation(undefined);\r\n                                }}>\r\n                                {`Sell for ${artefact.sell} \\xA5`}</div>\r\n\r\n                        </div>\r\n                    </div>;\r\n                }\r\n                return <React.Fragment></React.Fragment>;\r\n        }\r\n        return <React.Fragment></React.Fragment>;\r\n    };\r\n    const SellConfirmationDialog = () => <React.Fragment>\r\n        {confirmation ? <div className=\"modal\">\r\n            <div className=\"modal-header\">What do you want to do with this?</div>\r\n            <DialogTile item={confirmation} />\r\n            <div style={{ padding: \"1rem 2rem\", marginLeft: \"1rem\", marginRight: \"1rem\" }} className=\"cargo-item-details-btn\" onClick={() => setConfirmation(undefined)}>Back</div>\r\n        </div> : undefined}\r\n    </React.Fragment>;\r\n\r\n    return <div className=\"flex-container\" >\r\n\r\n        {confirmation ? <SellConfirmationDialog /> : undefined\r\n        }\r\n        <div className=\"chapter-header\">Ships Cargo Bay</div>\r\n        <div style={{ overflowY: \"scroll\" }}>\r\n            {\r\n                state.Cargo.length > 0 ?\r\n                    state.Cargo.map((item) => <CargoItem item={getItem(item)} isDisabled={false} clickHandler={() => setConfirmation(item)} />) :\r\n                    <div className=\"modal-header\">There is no cargo here at the moment</div>\r\n            }\r\n        </div>\r\n        <PageBackBtnComponent />\r\n    </div >;\r\n};\r\n","import React from \"react\";\r\nimport { Character } from \"../types\";\r\n\r\nexport const CharacterInjuries = ({ character }: { character: Character }) =>\r\n    <React.Fragment>\r\n        {character.missNextGame ?\r\n            <table className=\"character-tile-table\" style={{ width: \"100%\", textAlign: \"left\" }}>\r\n                <colgroup>\r\n                    <col style={{ width: \"25%\" }} />\r\n                    <col style={{ width: \"75%\" }} />\r\n                </colgroup>\r\n                <tbody>\r\n                    <tr className={\"small-text\"}>\r\n                        <td style={{ fontSize: \"1rem\", paddingRight: \"1rem\", fontWeight: \"bold\" }}>Injuries</td>\r\n                        <td>Barely Alive - Misses the upcoming mission</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table> :\r\n            undefined\r\n        }\r\n    </React.Fragment>;\r\n","import { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CrewState } from \"../types\";\r\nimport { CharacterInjuries } from \"./CharacterInjuries\";\r\nimport { CharacterStatusBarTable } from \"./CharacterStatusBarTable\";\r\nimport { CharacterTileGearAndPowers } from \"./CharacterTileGearAndPowers\";\r\nimport { CharacterTileHeader } from \"./CharacterTileHeader\";\r\n\r\nexport const CharacterComponent = ({ isCaptain, isPdf }: { isCaptain: boolean; isPdf?: boolean }) => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    const character = (isCaptain ? state.Captain : state.FirstMate);\r\n    const id = isCaptain ? \"captain\" : \"firstmate\";\r\n    return <div onClick={() => history.push(\"/Equipment\", { crewMember: isCaptain ? state.Captain : state.FirstMate })} key={`${id}_tile`} className={isPdf ? \"pdf-tile\" : \"character-tile\"}>\r\n        <CharacterTileHeader character={character} />\r\n        <CharacterStatusBarTable character={character} gearSlotsUsed={character.gear?.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0) || 0} isTileTable={true} />\r\n        <CharacterTileGearAndPowers character={character} isPdf={isPdf} />\r\n        <CharacterInjuries character={character} />\r\n    </div>;\r\n};\r\n","import { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PostGameIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types\";\r\n\r\nexport const AdvanceComponent = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n    return <div className=\"statusbar-component\" onClick={() => history.push(\"/PostGameSequence\")} title=\"Click to open the post game sequence\">\r\n        <img\r\n            src={PostGameIcon}\r\n            style={{ paddingLeft: \"0.2rem\" }}\r\n            className=\"toolbar-compact-icon\"\r\n            id={\"PostGameIcon\"}\r\n            alt={\"Post Game Sequence\"}>\r\n        </img>\r\n        <div className={\"toolbar-compact-text\"}>\r\n            {`${state.Experience}`}\r\n        </div>\r\n    </div>;\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { SaveIcon } from \"../../images\";\r\n\r\nexport const FileComponent = () => {\r\n    const history = useHistory();\r\n    return <div className=\"statusbar-component\" onClick={() => history.push(\"/FileOperations\")} title=\"Click to open dialog to save/load a crew\">\r\n        <img\r\n            src={SaveIcon}\r\n            className=\"toolbar-compact-icon\"\r\n            id={\"SaveIcon\"}\r\n            alt={\"SaveIcon\"}>\r\n        </img>\r\n    </div>;\r\n};\r\n","import { useContext } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { LeaveIcon, MaintenanceIcon } from \"../../images\";\r\nimport { SET_CREW, SET_SHIPNAME } from \"../../redux/actions\";\r\nimport { CrewState, InitialCrewState } from \"../../types\";\r\nimport { InputComponent } from \"../InputComponent\";\r\n\r\nexport const ShipnameComponent = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const state = store.getState() as CrewState;\r\n\r\n    return <div className=\"shipname\">\r\n        <img alt=\"shipname icon\" className=\"shipname-icon\" src={MaintenanceIcon} onClick={() => history.push(\"/Transactions\")}></img>\r\n        <InputComponent\r\n            callback={(name: string) => dispatch({ type: SET_SHIPNAME, payload: name })}\r\n            currentState={state.ShipName}\r\n            tooltip={state.ShipName} cssClass=\"input-field\" />\r\n        <img\r\n            alt=\"leave icon\"\r\n            className=\"shipname-icon\"\r\n            src={LeaveIcon}\r\n            onClick={() => {\r\n                dispatch({ type: SET_CREW, payload: InitialCrewState });\r\n                history.push(\"/\");\r\n            }}></img>\r\n    </div>;\r\n};\r\n","export default \"data:image/png;base64,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\"","import { AdvanceComponent } from \"./AdvanceComponent\";\r\nimport { CrewSizeComponent } from \"./CrewSizeComponent\";\r\nimport { FileComponent } from \"./FileComponent\";\r\nimport { ShipnameComponent } from \"./Shipname\";\r\nimport { TreasuryComponent } from \"./TreasuryComponent\";\r\n\r\nexport const StatusbarComponent = () =>\r\n    <div key=\"statusbar\" id=\"statusbar\" className=\"statusbar\">\r\n        <ShipnameComponent />\r\n        <div style={{ display: \"flex\", width: \"-webkit-fill-available\", justifyContent: \"space-around\" }}>\r\n            <FileComponent />\r\n            <TreasuryComponent />\r\n            <CrewSizeComponent />\r\n            <AdvanceComponent />\r\n        </div>\r\n    </div>;\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { CharacterComponent } from \"../../components/CharacterComponent\";\r\nimport { Carousel } from \"../../components/common/Carousel\";\r\nimport { SoldierComponent } from \"../../components/SoldierComponent\";\r\nimport { StatusbarComponent } from \"../../components/statusbar/StatusBarComponent\";\r\nimport { CrewState } from \"../../types\";\r\n\r\nexport const CrewPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const myStorage = localStorage;\r\n\r\n    myStorage.setItem(`${state.ShipName}_${state.Captain.name}_${state.Captain.level}_${state.FirstMate.level}_${state.Credits}`, JSON.stringify(state));\r\n    return <React.Fragment>\r\n        {state.Captain && state.FirstMate && state.Soldiers ?\r\n            <React.Fragment>\r\n                <StatusbarComponent key=\"statusbarComponent\" />\r\n                <div key=\"crewRoster\" id=\"crewRoster\" style={{ paddingTop: \"0.5rem\" }}>\r\n                    <Carousel\r\n                        splitSize={4}\r\n                        inputDivs={[\r\n                            <CharacterComponent key=\"captainComponent\" isCaptain={true} />,\r\n                            <CharacterComponent key=\"firstMateComponent\" isCaptain={false} />,\r\n                            ...state.Soldiers.map((soldier) => <SoldierComponent key={`crew_member_${soldier.type}`} soldier={soldier} />),\r\n                        ]}\r\n                    />\r\n                </div>\r\n            </React.Fragment> : null\r\n        }\r\n    </React.Fragment>;\r\n};\r\n\r\n// export const CrewPage = () => {\r\n//     const { store } = useContext(ReactReduxContext);\r\n//     const state = store.getState() as CrewState;\r\n//     const myStorage = localStorage;\r\n//     const areEqual = (list: Soldier[]) => {\r\n//         const { id: renamed, ...restFirstItem } = list[0];\r\n//         return list.every((val) => {\r\n//             const { id, ...restVal } = val;\r\n//             return JSON.stringify(restVal) === JSON.stringify(restFirstItem);\r\n//         });\r\n//     };\r\n\r\n//     myStorage.setItem(`${state.ShipName}_${state.Captain.name}_${state.Captain.level}_${state.FirstMate.level}_${state.Credits}`, JSON.stringify(state));\r\n//     return <React.Fragment>\r\n//         {state.Captain && state.FirstMate && state.Soldiers ?\r\n//             <React.Fragment>\r\n//                 <StatusbarComponent key=\"statusbarComponent\" />\r\n//                 <div key=\"crewRoster\" id=\"crewRoster\" style={{ paddingTop: \"0.5rem\" }}>\r\n//                     <Carousel\r\n//                         splitSize={4}\r\n//                         inputDivs={[\r\n//                             <CharacterComponent key=\"captainComponent\" isCaptain={true} />,\r\n//                             <CharacterComponent key=\"firstMateComponent\" isCaptain={false} />,\r\n//                             ...state.Soldiers.reduce((acc, sol) => {\r\n//                                 const x = state.Soldiers.filter((sold) => sold.type === sol.type);\r\n//                                 if (areEqual(x) && acc.filter((sold) => sold.type === sol.type).length === 0) {\r\n//                                     return [...acc, { ...sol, amount: x.reduce((sum, y) => sum + y.amount, 0) }];\r\n//                                 }\r\n//                                 if (!areEqual(x)) {\r\n//                                     return [...acc, sol];\r\n//                                 }\r\n//                                 return acc;\r\n//                                 // return areEqual(x) && acc.filter((sold) => sold.type === sol.type).length > 0 ? acc : [...acc, { ...sol, amount: x.length }];\r\n//                             }, [] as Soldier[]\r\n//                             ).map((soldier) => <SoldierComponent key={`crew_member_${soldier.type}`} soldier={soldier} />),\r\n//                         ]}\r\n//                     />\r\n//                 </div>\r\n//             </React.Fragment> : null\r\n//         }\r\n//     </React.Fragment>;\r\n// };\r\n","import React, { useState } from \"react\";\r\nimport { DropdownOptions, Gear, ModifiedGear } from \"../../types\";\r\nimport { useComponentVisible } from \"../../UseComponentVisible\";\r\nimport { getActualNotes, getDamageModifierString } from \"../../Utils\";\r\n\r\nconst GearLabel = ({ gear, gearList }: { gear: Gear; gearList: Array<ModifiedGear | string> }) =>\r\n    <React.Fragment>\r\n        <div className=\"emphasized\">{`${gear.name} ( ${gear.gearSlots} )`} </div>\r\n        {gear.type === \"Weapon\" ? <div style={{ fontSize: \"0.75rem\" }}>\r\n            {gear.maxRange === \"Melee\" || gear.maxRange === \"Template\" ? gear.maxRange : `Range: ${gear.maxRange}`} / {`${getDamageModifierString(gear)} dmg`}</div > :\r\n            gear.type === \"Armour\" ? <div style={{ fontSize: \"0.75rem\" }}> {`+${gear.armourModifier || 0} Armour ${getActualNotes(gearList, gear) ? \"/\" : \"\"} ${getActualNotes(gearList, gear)}`}</div> : null}\r\n        {gear.type === \"Armour\" ? null : < div style={{ fontSize: \"0.65rem\" }}> {getActualNotes(gearList, gear)} </div>}\r\n    </React.Fragment>;\r\n\r\nexport const GearDropDown2 = ({ list, dropdownOptions, callbackFn }: { list: Gear[]; dropdownOptions: DropdownOptions; callbackFn(item: string): void }) => {\r\n    const [selectedItem, setSelectedItem] = useState<Gear>(dropdownOptions.placeholder);\r\n    const getCssProps = () => {\r\n        const position = document.getElementById(`dropdown-container-${dropdownOptions.id}`)?.getBoundingClientRect();\r\n        return { top: (position?.top || 0) + 42, left: (position?.left || 0), width: (position?.width || 0) };\r\n    };\r\n    const renderGearList = () => list.filter((item: Gear) => (item.name !== selectedItem.name)).map((listItem) =>\r\n        <div key={`dropdown-list-item-${dropdownOptions.id}-${listItem.name}`}\r\n            className=\"gear-selection dropdown-input dropdown-input-list\"\r\n            onMouseDown={() => {\r\n                setSelectedItem(listItem);\r\n                callbackFn(listItem.name);\r\n                setIsComponentVisible(false);\r\n            }}\r\n        >\r\n            <GearLabel gear={listItem} gearList={list} />\r\n        </div>\r\n    );\r\n    const { ref, isComponentVisible, setIsComponentVisible, openMenu } = useComponentVisible(false);\r\n    return <React.Fragment>\r\n        <div\r\n            className=\"gear-selection selected dropdown-input\"\r\n            onClick={openMenu}\r\n            id={`dropdown-container-${dropdownOptions.id}`}>\r\n            <GearLabel gear={dropdownOptions.placeholder} gearList={list} />\r\n        </div>\r\n        <div ref={ref}>\r\n            {isComponentVisible ?\r\n                <div style={getCssProps()} className=\"dropdown-portal\">\r\n                    {list.length > 0 ? renderGearList() : <div key={`dropdown-list-item-${dropdownOptions.id}-empty-list`} className=\"dropdown-empty-list\">No match found for search string. Please refine your search.</div>}\r\n                </div> : null}\r\n        </div>\r\n    </React.Fragment>;\r\n\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { GearDropDown2 } from \"../../components/dropdowns/GearDropdown2\";\r\nimport { CustomStatsHeader } from \"../../components/statusbar/CharacterStatsHeader\";\r\nimport { getGearDetails, getGeneralGearByType, getNormalGearDetails, getNormalMeleeWeapons, getNormalRangedWeapons, isAdvancedWeapon, isGeneralGear, isWeapon } from \"../../GearUtils\";\r\nimport { ADD_LOOT, SET_CAPTAINS_GEAR, SET_FIRSTMATE_GEAR } from \"../../redux/actions\";\r\nimport { AdvancedTech, AdvancedWeapons, AlienArtefact, Character, CharactersEnum, Gear, ModifiedGear } from \"../../types\";\r\nimport { getActualNotes, getDamageModifierString, getLootCategory } from \"../../Utils\";\r\n\r\ninterface EquipmentState {\r\n    crewMember: Character;\r\n    equipment?: AdvancedTech | AlienArtefact | AdvancedWeapons;\r\n}\r\n\r\nexport const EquipmentPage = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { crewMember, equipment } = history.location.state as EquipmentState;\r\n    const currentGear = crewMember.gear.map(getGearDetails);\r\n    const [selectedGear, setSelectedGear] = useState<Gear[]>(currentGear);\r\n    const generalArmourList = getGeneralGearByType(\"Armour\");\r\n    const generalMeleeList = getNormalMeleeWeapons();\r\n    const generalShootingList = getNormalRangedWeapons();\r\n    const generalEquipmentList = getGeneralGearByType(\"Equipment\");\r\n    const currentArmourList = currentGear.filter((g) => g.type === \"Armour\");\r\n    const currentMeleeList = currentGear.filter((g) => isWeapon(g) && g.maxRange === \"Melee\");\r\n    const currentEquipment = currentGear.filter((g) => g.type === \"Equipment\");\r\n    const currentShootingList = currentGear.filter((g) => isWeapon(g) && g.maxRange !== \"Melee\");\r\n    const armourList = currentArmourList.concat(generalArmourList.filter((gItem) => currentArmourList.map((x) => x.name).indexOf(gItem.name) < 0));\r\n    const meleeWeaponsList = currentMeleeList.concat(generalMeleeList.filter((gItem) => currentMeleeList.map((x) => x.name).indexOf(gItem.name) < 0));\r\n    const equipmentList = currentEquipment.concat(generalEquipmentList.filter((gItem) => currentEquipment.map((x) => x.name).indexOf(gItem.name) < 0));\r\n    const shootingWeaponsList = currentShootingList.concat(generalShootingList.filter((gItem) => currentShootingList.map((x) => x.name).indexOf(gItem.name) < 0));\r\n\r\n    const defaultKnife = getNormalGearDetails(\"Knife\");\r\n    const defaultArmour = getNormalGearDetails(\"No Armour\");\r\n    if (equipment?.type === \"Armour\") {\r\n        armourList.push(equipment);\r\n    }\r\n    if (equipment?.type === \"Weapon\" && isAdvancedWeapon(equipment)) {\r\n        if (equipment.maxRange === \"Melee\") {\r\n            meleeWeaponsList.push(equipment);\r\n        } else {\r\n            shootingWeaponsList.push(equipment);\r\n        }\r\n    }\r\n    if (equipment?.type === \"Equipment\") {\r\n        equipmentList.push(equipment);\r\n    }\r\n    const isGearSelected = (gear: string) => !!selectedGear.find((gr) => gr.name === gear);\r\n    const maxGear = () => selectedGear.reduce((acc, gear) => acc + gear.gearSlots, 0) >= (crewMember.gearSlots);\r\n    const isTooMuchGear = () => selectedGear.reduce((acc, gear) => acc + gear.gearSlots, 0) > (crewMember.gearSlots);\r\n    const getSelectedArmour = () => armourList.find((armour) => isGearSelected(armour.name));\r\n    const getSelectedMelee = () => meleeWeaponsList.find((melee) => isGearSelected(melee.name));\r\n    const getCSSClasses = (gear: Gear, withMax?: boolean) => isGearSelected(gear.name) ? \"gear-selection selected\" : itemTooLarge(gear) || (withMax && maxGear()) ? \"gear-selection disabled\" : \"gear-selection\";\r\n    const itemTooLarge = (gear: Gear) => selectedGear.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0) + gear.gearSlots > (crewMember.gearSlots);\r\n    const onClickHandler = (gear: Gear) => {\r\n        if (isGearSelected(gear.name)) {\r\n            if (gear.name === \"Combat Armour\") {\r\n                setSelectedGear([...selectedGear.filter((selGear) => gear.name !== selGear.name && selGear.name !== \"Hand Weapon\" && selGear.name !== \"Filter Mask\" && selGear.name !== \"Pistol\"), defaultKnife]);\r\n                return;\r\n            }\r\n            setSelectedGear(selectedGear.filter((selGear) => selGear.name !== gear.name));\r\n        } else {\r\n            if (gear.type === \"Armour\") {\r\n                if (gear.name === \"Combat Armour\") {\r\n                    setSelectedGear([\r\n                        ...selectedGear.filter((selGear) => selGear.type !== \"Armour\").filter((selGear) => selGear.maxRange !== \"Melee\"),\r\n                        gear,\r\n                        { ...getNormalGearDetails(\"Hand Weapon\"), gearSlots: 0 },\r\n                        { ...getNormalGearDetails(\"Filter Mask\"), gearSlots: 0 },\r\n                        { ...getNormalGearDetails(\"Pistol\"), gearSlots: 0 },\r\n                    ]);\r\n                    return;\r\n                }\r\n                if (getSelectedArmour()?.name === \"Combat Armour\") {\r\n                    setSelectedGear([\r\n                        ...selectedGear.filter((selGear) => selGear.name !== \"Combat Armour\" && selGear.name !== \"Hand Weapon\" && selGear.name !== \"Filter Mask\" && selGear.name !== \"Pistol\"),\r\n                        defaultKnife,\r\n                        gear,\r\n                    ]);\r\n                } else {\r\n                    setSelectedGear([...selectedGear.filter((selGear) => selGear.type !== gear.type), gear]);\r\n                }\r\n                return;\r\n            }\r\n            if ((gear.type === \"Weapon\" && gear.maxRange === \"Melee\")) {\r\n                setSelectedGear([\r\n                    ...selectedGear.filter((selGear) => selGear.maxRange !== \"Melee\"),\r\n                    gear,\r\n                ]);\r\n                return;\r\n            }\r\n            setSelectedGear([...selectedGear, gear]);\r\n        }\r\n    };\r\n\r\n    return <React.Fragment>\r\n        <CustomStatsHeader character={crewMember} gearSlots={selectedGear.reduce((acc, gearItem) => acc + gearItem.gearSlots, 0)} />\r\n        <div className=\"single-selection-gear\">\r\n            <div className=\"modal-header\">Armour</div>\r\n            <GearDropDown2\r\n                dropdownOptions={{\r\n                    id: \"Armour\",\r\n                    placeholder: getSelectedArmour() || defaultArmour,\r\n                }}\r\n                list={armourList}\r\n                callbackFn={(entry) => onClickHandler(getGearDetails(entry))}\r\n            />\r\n        </div>\r\n        <div className=\"single-selection-gear\">\r\n            <div className=\"modal-header\">Melee Weapons</div>\r\n            <GearDropDown2\r\n                dropdownOptions={{\r\n                    id: \"Melee\",\r\n                    placeholder: getSelectedMelee() || defaultKnife,\r\n                }}\r\n                list={meleeWeaponsList}\r\n                callbackFn={(entry) => onClickHandler(getGearDetails(entry))}\r\n            />\r\n        </div>\r\n        <div className=\"modal-header\">Equipment</div>\r\n        <div>\r\n            {equipmentList.map((equi) =>\r\n                <div className=\"single-selection-gear\">\r\n                    <div className={getCSSClasses(equi)} onClick={() => onClickHandler(equi)}>\r\n                        <div className=\"emphasized\">{`${equi.name} ( ${isGearSelected(equi.name) ? (selectedGear.find((item) => item.name === equi.name) as ModifiedGear).gearSlots : equi.gearSlots} )`}</div>\r\n                        <div className=\"medium-text\">{equi.notes}</div>\r\n                    </div>\r\n                </div>)}\r\n        </div>\r\n        <div className=\"modal-header\">Shooting Weapons</div>\r\n        <div>\r\n            {shootingWeaponsList.map((weapon) =>\r\n                <div className=\"single-selection-gear\">\r\n                    <div className={getCSSClasses(weapon, true)} onClick={() => onClickHandler(weapon)}>\r\n                        <div className=\"emphasized\">{`${weapon.name} ( ${isGearSelected(weapon.name) ? (selectedGear.find((item) => item.name === weapon.name) as ModifiedGear).gearSlots : weapon.gearSlots} )`}</div>\r\n                        <div className=\"medium-text\">{`Range: ${weapon.maxRange}`} / {`${getDamageModifierString(weapon)} dmg`}</div>\r\n                        {weapon.notes ? <div className=\"medium-text\">{getActualNotes(selectedGear, weapon)}</div> : null}\r\n                    </div>\r\n                </div>)}\r\n        </div>\r\n        <button\r\n            onClick={() => {\r\n                if (equipment && !isGearSelected(equipment.name)) {\r\n                    dispatch({ type: ADD_LOOT, payload: { name: equipment.name, type: getLootCategory(equipment) } });\r\n                }\r\n                const nonStandardGear = crewMember.gear.filter((gear) => !isGeneralGear(gear.name));\r\n                for (const specialGear of nonStandardGear) {\r\n                    if (!isGearSelected(specialGear.name)) {\r\n                        dispatch({ type: ADD_LOOT, payload: { name: specialGear.name, type: getLootCategory(getGearDetails(specialGear) as AlienArtefact | AdvancedTech | AdvancedWeapons) } });\r\n                    }\r\n                }\r\n\r\n                dispatch({ type: crewMember.type === CharactersEnum.Captain ? SET_CAPTAINS_GEAR : SET_FIRSTMATE_GEAR, payload: selectedGear.map((g) => ({ name: g.name, gearSlots: g.gearSlots })).sort((a, b) => (a.name.localeCompare(b.name))) });\r\n                history.goBack();\r\n            }}\r\n            className={isTooMuchGear() ? \"dialog-btn confirm-btn disabled\" : \"dialog-btn confirm-btn\"}\r\n        >{`${\"Confirm\"}`}</button>\r\n        <CustomBackButtonComponent dispatchFunction={() => equipment ? dispatch({ type: ADD_LOOT, payload: { name: equipment.name, type: getLootCategory(equipment) } }) : undefined} />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { ImportCrewIcon, PdfIcon, SaveIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types\";\r\n\r\nexport const FileOperationsPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const history = useHistory();\r\n\r\n    const saveToFileNew = (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\r\n        const anchor = document.createElement(\"a\");\r\n        document.body.appendChild(anchor);\r\n        const json = JSON.stringify(state);\r\n        const blob = new Blob([json], { type: \"octet/stream\" });\r\n        const url = window.URL.createObjectURL(blob);\r\n        anchor.href = url;\r\n        anchor.download = `${state.ShipName} - ${state.Captain.name} (lvl ${state.Captain.level}/${state.FirstMate.level}).sg`;\r\n        anchor.id = \"ClickableDownloadAnchor\";\r\n        anchor.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(document.getElementById(\"ClickableDownloadAnchor\") as Node);\r\n\r\n        if (state.ShipName && state.Captain.name && state.Captain.level) {\r\n            const myStorage = localStorage;\r\n            myStorage.setItem(`${state.ShipName}_${state.Captain.name}_${state.Captain.level}_${state.FirstMate.level}_${state.Credits}`, json);\r\n        }\r\n        history.push(\"/CrewOverview\");\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n    return <div className=\"flex-container\" >\r\n        <div className=\"landing-page-tile\">\r\n            <div className=\"transaction-tile-header\">Load another warband </div>\r\n            <img\r\n                alt=\"file upload\"\r\n                className=\"file-ops-icon\"\r\n                src={ImportCrewIcon}\r\n                onClick={(event) => {\r\n                    history.push(\"/FileSystem\");\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }}\r\n            />\r\n        </div>\r\n\r\n        <div className=\"landing-page-tile\">\r\n            <div className=\"transaction-tile-header\">Save your warband</div>\r\n            <img alt=\"save to file\" className=\"file-ops-icon\" src={SaveIcon} onClick={saveToFileNew} />\r\n        </div>\r\n        <div className=\"landing-page-tile\">\r\n            <div className=\"transaction-tile-header\">Export your warband to pdf</div>\r\n            <img alt=\"file upload\" className=\"file-ops-icon\" src={PdfIcon} onClick={(event) => {\r\n                history.push(\"/PdfExport\");\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }} />\r\n        </div>\r\n        <PageBackBtnComponent />\r\n    </div >;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { SET_CREW } from \"../../redux/actions\";\r\nimport { CrewState, InitialCrewState } from \"../../types\";\r\n\r\nexport const FileSystemPage = () => {\r\n    const [selectedStorage, setSelectedStorage] = useState<CrewState>();\r\n    useEffect(() => undefined, [selectedStorage]);\r\n    const isStorageSelected = (state: CrewState) =>\r\n        state.Credits === selectedStorage?.Credits &&\r\n        state.ShipName === selectedStorage.ShipName &&\r\n        state.Captain.name === selectedStorage.Captain.name &&\r\n        state.Captain.level === selectedStorage.Captain.level &&\r\n        state.FirstMate.level === selectedStorage.FirstMate.level;\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const getStorageTable = () => {\r\n        const myStorage: string[] = Object.values(localStorage);\r\n        return <table className=\"storage-table\">\r\n            <thead>\r\n                <tr><td>Ship name</td><td>Captains name</td><td>Levels</td><td>Credits</td></tr>\r\n            </thead>\r\n            <tbody>\r\n                {myStorage.length > 0 ?\r\n                    myStorage.map((stateString) => {\r\n                        const state: CrewState = JSON.parse(stateString);\r\n                        return <tr className={isStorageSelected(state) ? \"selected\" : \"\"} onClick={() => setSelectedStorage(state)}>\r\n                            <td>{state.ShipName}</td>\r\n                            <td>{state.Captain.name}</td>\r\n                            <td>{state.Captain.level} / {state.FirstMate.level}</td>\r\n                            <td>{state.Credits}</td>\r\n                        </tr>;\r\n                    }) :\r\n                    <tr><td colSpan={4}>Nothing has been stored yet or you have cleared your cache recently</td></tr>\r\n                }\r\n            </tbody>\r\n        </table>;\r\n    };\r\n    return <div className=\"flex-container\">\r\n        <label htmlFor=\"file-uploader\" className=\"flex-container\">\r\n            <input\r\n                id=\"file-uploader\"\r\n                type=\"file\"\r\n                accept=\".sg\"\r\n                style={{ display: \"none\" }}\r\n                onChange={() => {\r\n                    const reader = new FileReader();\r\n                    reader.onload = (ev: ProgressEvent<FileReader>) => {\r\n                        dispatch({ type: SET_CREW, payload: JSON.parse(ev.target?.result as string) });\r\n                        history.push(\"/CrewOverview\");\r\n                    };\r\n                    reader.readAsText((document.querySelector(\"#file-uploader\") as HTMLInputElement)?.files?.item(0) as File);\r\n                }}\r\n            />\r\n            <button className=\"page-btn\" onClick={() => document.getElementById(\"file-uploader\")?.click()}>Load crew from file</button>\r\n        </label>\r\n        <div className=\"chapter-header\">Local Storage</div>\r\n        <div>Click on any entry in the local storage list and confirm your choice with the button below. </div>\r\n        {getStorageTable()}\r\n        <button\r\n            onClick={(event) => {\r\n                dispatch({ type: SET_CREW, payload: selectedStorage });\r\n                history.push(\"/CrewOverview\");\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }}\r\n            className={selectedStorage !== undefined ? \"page-btn selected\" : \"page-btn disabled\"}\r\n        >Load crew</button>\r\n        <button\r\n            onClick={(event) => {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                if (selectedStorage) {\r\n                    const key = `${selectedStorage.ShipName}_${selectedStorage.Captain.name}_${selectedStorage.Captain.level}_${selectedStorage.FirstMate.level}_${selectedStorage.Credits}`;\r\n                    localStorage.removeItem(key);\r\n                    setSelectedStorage(undefined);\r\n                }\r\n            }}\r\n            className={selectedStorage !== undefined ? \"page-btn dialog-btn-danger\" : \"page-btn disabled\"}\r\n        >Remove crew</button>\r\n        <button\r\n            onClick={(event) => {\r\n                dispatch({ type: SET_CREW, payload: InitialCrewState });\r\n                history.goBack();\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }}\r\n            className={\"page-btn\"}\r\n        >Back</button>\r\n    </div>;\r\n};\r\n","import { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as Crew from \"../../data/Samples/Serenity.json\";\r\nimport { CreateCrewIcon, ImportCrewIcon, UseSampleIcon } from \"../../images\";\r\nimport { SET_CREW } from \"../../redux/actions\";\r\nimport { CrewState, InitialCrewState } from \"../../types\";\r\n\r\nexport const LandingPage = () => {\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    return <div className=\"flex-container\" >\r\n        <div className=\"chapter-header\">Stargrave Crew Configuration</div>\r\n        <div\r\n            className=\"landing-page-tile\"\r\n            onClick={() => {\r\n                dispatch({ type: SET_CREW, payload: InitialCrewState });\r\n                history.push(\"/ShipName\");\r\n            }}>\r\n            <div className=\"transaction-tile-header\">Create new crew</div>\r\n            <img alt=\"CreateWarband\" style={{ width: \"35%\" }} src={CreateCrewIcon} />\r\n\r\n        </div>\r\n        <div\r\n            className=\"landing-page-tile\"\r\n            onClick={() => {\r\n                history.push(\"/FileSystem\");\r\n            }}>\r\n            <div className=\"transaction-tile-header\">Load existing crew from file or local storage</div>\r\n            <img alt=\"SampleWarband\" style={{ width: \"35%\" }} src={ImportCrewIcon} />\r\n\r\n        </div>\r\n        <div\r\n            className=\"landing-page-tile\"\r\n            onClick={() => {\r\n                dispatch({ type: SET_CREW, payload: (Crew as any).default as CrewState });\r\n                history.push(\"/CrewOverview\");\r\n            }}>\r\n            <div className=\"transaction-tile-header\">Load the sample crew of the Serenity</div>\r\n            <img alt=\"SampleWarband\" style={{ width: \"35%\" }} src={UseSampleIcon} />\r\n\r\n        </div>\r\n    </div >;\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { CrewState, ModifiedPower } from \"../../types\";\r\nimport { getPower } from \"../../Utils\";\r\n\r\nexport const PrintablePowerCards = ({ printAll }: { printAll: boolean }) => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    let printablePowers: ModifiedPower[] = [];\r\n    const powers = [...state.Captain.powers, ...state.FirstMate.powers];\r\n    if (!printAll) {\r\n        for (const power of powers) {\r\n            if (getPower(power.name).activation !== power.activation) {\r\n                printablePowers.push(power);\r\n            }\r\n        }\r\n    } else {\r\n        printablePowers = [...powers];\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <div id=\"printable-power-cards\" className=\"pdf-container-clone\">\r\n            {printablePowers.map((power) => ({ ...getPower(power.name), activation: power.activation })).map((power) =>\r\n                <div id={`power-card-${power.name}`} key={`power-card-${power.name}`} className=\"power-card\">\r\n                    <div className=\"power-card-header\">{power.name} ({power.activation})</div>\r\n                    <div className=\"power-card-second-header\">{power.category} / {power.strain}</div>\r\n                    <div style={{ fontSize: `${power.effect.length > 700 ? 0.65 : power.effect.length > 600 ? 0.7 : 0.78}rem` }} className=\"power-card-text\">{power.effect}</div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { Character, Creature, CrewState, Soldier, StatsEnum } from \"../../types\";\r\nimport { getBaseCaptain, getBaseFirstMate, getCurrentStatStrings, getDrone, getPower, getStatsWithGear, isCaptain, isCharacter } from \"../../Utils\";\r\n\r\nconst hasDronePower = (state: CrewState) => !!state.Captain.powers.find((pwr) => pwr.name === \"Drone\") || !!state.FirstMate.powers.find((pwr) => pwr.name === \"Drone\");\r\nconst renderHeader = (character: Character) =>\r\n    <div className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0.5rem\", fontSize: \"1.5rem\", display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <div>{`${isCaptain(character.type) ? \"Cpt.\" : \"Ltn.\"} ${character.name} (${character.background})`}</div>\r\n        {character.missNextGame ? <div style={{ fontSize: \"0.9rem\", color: \"orangered\" }}>Barely Alive - Misses next mission</div> : undefined}\r\n        <div style={{ textAlign: \"center\" }}>{`Level ${character.level}`}</div>\r\n    </div>;\r\n\r\nconst renderCrewmanHeader = (crewman: Soldier) =>\r\n    <div className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0.2rem\", fontSize: \"1.0rem\" }}>\r\n        {`${crewman.name} (${crewman.type})${crewman.isRobot ? \" [Robot]\" : \"\"}`}\r\n    </div>;\r\n\r\nconst renderDroneHeader = (crewman: Creature) => <div className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0.2rem\", fontSize: \"1.0rem\" }}>\r\n    {`${crewman.name}`}\r\n</div>;\r\n\r\nconst renderPowers = (character: Character) => <div style={{ display: \"grid\", gridTemplateColumns: \"80% 20%\", clear: \"both\" }}>\r\n    <table className=\"pdf-normal-size\" >\r\n        <colgroup>\r\n            <col style={{ width: \"50%\" }} />\r\n            <col style={{ width: \"25%\" }} />\r\n            <col style={{ width: \"25%\" }} />\r\n        </colgroup>\r\n        <tbody>\r\n            <tr>\r\n                <td className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0.5rem\" }}>Power</td>\r\n                <td className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0.5rem\" }}>Activation</td>\r\n                <td className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0.5rem\" }}>Strain</td>\r\n            </tr>\r\n            {character.powers.map((power) => <tr >\r\n                <td className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0rem 0.5rem\", fontWeight: \"normal\" }}\r\n                    key={`add_dialog_${character.name}_${character.type}_power_${power.name}`\r\n                    }>{power.name}</td>\r\n                <td className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0rem 0.5rem\", fontWeight: \"normal\" }}\r\n                    key={`add_dialog_${character.name}_${character.type}_power_${power.activation}`\r\n                    }>{power.activation}</td>\r\n                <td className=\"pdf-crew-manifest-boxes\" style={{ padding: \"0rem 0.5rem\", fontWeight: \"normal\" }}\r\n                    key={`add_dialog_${character.name}_${character.type}_power_${getPower(power.name).strain}`\r\n                    }>{getPower(power.name).strain}</td>\r\n            </tr>)}\r\n        </tbody>\r\n    </table>\r\n    <div style={{ grid: \"1/2\", border: \"2px solid black\", padding: \"0.5rem\", margin: \"0.15rem 0.1rem\", fontSize: \"1.5rem\", textAlign: \"center\" }}>\r\n        <div className=\"pdf-smaller-size\">Current Health</div>\r\n        <div style={{ paddingTop: \"0.5rem\" }}>{character.currentHealth || character.stats.Health}</div>\r\n    </div>\r\n</div>;\r\n\r\nconst renderGear = (member: Character | Soldier) => <div style={{ border: \"2px solid black\", padding: \"0.5rem\", margin: isCharacter(member) ? \"0rem 0.1rem 0.5rem\" : \"0rem 0.1rem 0.15rem\", fontSize: isCharacter(member) ? \"1rem\" : \"0.8rem\" }}>\r\n    <div className=\"pdf-normal-size\">Gear</div>\r\n    <div style={{ fontWeight: \"normal\" }}>{isCharacter(member) ? member.gear?.map((gear) => `${gear.name}`).join(\", \") : member.gear.join(\", \")}</div>\r\n</div>;\r\nconst renderDroneGear = (member: Creature) => <div style={{ border: \"2px solid black\", padding: \"0.5rem\", margin: \"0rem 0.1rem 0.15rem\", fontSize: \"0.8rem\" }}>\r\n    <div className=\"pdf-normal-size\">Notes</div>\r\n    <div style={{ fontWeight: \"normal\" }}>{[...member.notes || [], ...member.gear].join(\", \")}</div>\r\n</div>;\r\n\r\nconst renderCharacterStats = (member: Character) => {\r\n    const stats = getStatsWithGear(member.stats, {}, member.gear);\r\n    const currentStats = Object.entries(getCurrentStatStrings(stats, member.currentHealth));\r\n    const cells: JSX.Element[] = [];\r\n    for (const [key, value] of currentStats) {\r\n        if (key !== StatsEnum.Health) {\r\n            cells.push(<div className=\"pdf-smaller-size\" style={{ textAlign: \"center\", float: \"left\", padding: \"0.5rem 0rem\", minWidth: \"20%\" }}>\r\n                <div\r\n                    style={{ padding: \"0.5rem\", fontSize: \"1.5rem\" }}\r\n                    className={\r\n                        isCharacter(member) && stats[key as StatsEnum] !== (isCaptain(member.type) ?\r\n                            getBaseCaptain() : getBaseFirstMate()).stats[key as StatsEnum] ? \"pdf-crew-manifest-boxes improved-stat\" : \"pdf-crew-manifest-boxes\"\r\n                    }\r\n                    key={`add_dialog_${member.name}_stat_${key}`\r\n                    }>\r\n                    {value}\r\n                </div>\r\n                <div style={{ fontWeight: \"normal\" }} key={`add_dialog__stat_header_${key}`}>{key}</div>\r\n            </div>);\r\n        }\r\n    }\r\n    return <React.Fragment>{cells}</React.Fragment>;\r\n};\r\n\r\nconst renderCrewStats = (member: Soldier) => {\r\n    const currentStats = Object.entries(getCurrentStatStrings(member.stats, member.currentHealth));\r\n    const cells: JSX.Element[] = [];\r\n    for (const [key, value] of currentStats) {\r\n        if (key !== StatsEnum.Health) {\r\n            cells.push(<div className=\"pdf-smaller-size\" style={{ textAlign: \"center\", paddingTop: \"0.15rem\", minWidth: \"20%\" }}>\r\n                <div\r\n                    className=\"pdf-crew-manifest-boxes pdf-normal-size\"\r\n                    style={{ padding: \"0.2rem\" }}\r\n                    key={`add_dialog_${member.type}_stat_${key}`\r\n                    }>\r\n                    {value}\r\n                </div>\r\n                <div style={{ fontWeight: \"normal\" }} key={`add_dialog__stat_header_${key}`}>{key}</div>\r\n            </div>);\r\n        }\r\n    }\r\n    return <React.Fragment>\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"80% 20%\" }}>\r\n            <div style={{ display: \"flex\" }}>{cells}</div>\r\n            <div className=\"pdf-normal-size\" style={{ border: \"2px solid black\", padding: \"0.2rem\", margin: \"0.15rem 0.1rem\", textAlign: \"center\", gridArea: \"1/2/3/2\" }}>\r\n                <div className=\"pdf-smaller-size\" >Current Health</div>\r\n                <div style={{ paddingTop: \"0.5rem\" }}>{member.currentHealth || member.stats.Health}</div>\r\n            </div>\r\n            {renderGear(member)}\r\n        </div>\r\n    </React.Fragment >;\r\n};\r\n\r\nconst renderDroneStats = (creature: Creature) => {\r\n    const currentStats = Object.entries(creature.stats);\r\n    const cells: JSX.Element[] = [];\r\n    for (const [key, value] of currentStats) {\r\n        if (key !== StatsEnum.Health) {\r\n            cells.push(<div className=\"pdf-smaller-size\" style={{ textAlign: \"center\", paddingTop: \"0.15rem\", minWidth: \"20%\" }}>\r\n                <div\r\n                    className=\"pdf-crew-manifest-boxes pdf-normal-size\"\r\n                    style={{ padding: \"0.2rem\" }}\r\n                    key={`add_dialog_${creature.name}_stat_${key}`\r\n                    }>\r\n                    {value}\r\n                </div>\r\n                <div style={{ fontWeight: \"normal\" }} key={`add_dialog__stat_header_${key}`}>{key}</div>\r\n            </div>);\r\n        }\r\n    }\r\n    return <React.Fragment>\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"80% 20%\" }}>\r\n            <div style={{ display: \"flex\" }}>{cells}</div>\r\n            <div className=\"pdf-normal-size\" style={{ border: \"2px solid black\", padding: \"0.2rem\", margin: \"0.15rem 0.1rem\", textAlign: \"center\", gridArea: \"1/2/3/2\" }}>\r\n                <div className=\"pdf-smaller-size\">Current Health</div>\r\n                <div style={{ paddingTop: \"0.5rem\" }}>{creature.stats.Health}</div>\r\n            </div>\r\n            {renderDroneGear(creature)}\r\n        </div>\r\n    </React.Fragment >;\r\n};\r\n\r\nconst PdfCharacter = (character: Character) => <React.Fragment>\r\n    {renderHeader(character)}\r\n    {renderCharacterStats(character)}\r\n    {renderPowers(character)}\r\n    {renderGear(character)}\r\n</React.Fragment>;\r\n\r\nconst PdfSoldier = (crewman: Soldier) => <React.Fragment>\r\n    {renderCrewmanHeader(crewman)}\r\n    {renderCrewStats(crewman)}\r\n</React.Fragment>;\r\n\r\nconst PdfDrone = (creature: Creature) => <React.Fragment>\r\n    {renderDroneHeader(creature)}\r\n    {renderDroneStats(creature)}\r\n</React.Fragment>;\r\n\r\nexport const PdfCharacters = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    return <div className={\"pdf-divider\"}>\r\n        {PdfCharacter(state.Captain)}\r\n        {PdfCharacter(state.FirstMate)}\r\n    </div>;\r\n};\r\nexport const PdfSoldiers = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    return <div className={\"pdf-divider\"}>\r\n        {state.Soldiers.map(PdfSoldier)}\r\n        {hasDronePower(state) ? PdfDrone(getDrone()) : undefined}\r\n    </div>;\r\n};\r\n","import { PdfCharacters, PdfSoldiers } from \"./PdfRosterComponents\";\r\n\r\nexport const PdfRenderer = () =>\r\n    <div className=\"pdf-container\">\r\n        <PdfCharacters />\r\n        <PdfSoldiers />\r\n    </div>;\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { PostGameIcon, TreasuryIcon } from \"../../images\";\r\nimport { CrewState, LootCategories } from \"../../types\";\r\nimport { getUpgradeByName, isCharacter } from \"../../Utils\";\r\n\r\nexport const StorageSheet = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const cargo = state.Cargo;\r\n    const weaponsCargo = cargo.filter((c) => c.type === LootCategories.AdvancedWeapons);\r\n    const techCargo = cargo.filter((c) => c.type === LootCategories.AdvancedTechnology || c.type === LootCategories.AlienTech);\r\n    const goodsCargo = cargo.filter((c) => c.type !== LootCategories.AdvancedTechnology && c.type !== LootCategories.AlienTech && c.type !== LootCategories.AdvancedWeapons);\r\n\r\n    return <div id=\"printable-storage-sheet\" className=\"pdf-container-clone\">\r\n        <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-between\" }}>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"flex-start\" }}>\r\n                <div className=\"chapter-header\">Experience</div>\r\n                <div style={{ display: \"flex\", flexDirection: \"row\", width: \"100%\", alignItems: \"center\", justifyContent: \"flex-start\" }}>\r\n                    <img\r\n                        src={PostGameIcon}\r\n                        style={{ paddingLeft: \"0.2rem\" }}\r\n                        className=\"toolbar-compact-icon\"\r\n                        id={\"PostGameIcon\"}\r\n                        alt={\"Post Game Sequence\"}>\r\n                    </img>\r\n                    <div style={{ paddingLeft: \"2rem\", fontSize: \"1.5rem\" }}>\r\n                        {`${state.Experience}`}\r\n                    </div>\r\n                </div>\r\n                <div className=\"chapter-header\">Treasury</div>\r\n                <div style={{ display: \"flex\", flexDirection: \"row\", width: \"100%\", alignItems: \"center\", justifyContent: \"flex-start\" }}>\r\n                    <img\r\n                        src={TreasuryIcon}\r\n                        className={\"toolbar-compact-icon\"}\r\n                        id={\"TreasuryIcon\"}\r\n                        alt={\"TreasuryIcon\"}>\r\n                    </img>\r\n                    <div style={{ paddingLeft: \"2rem\", fontSize: \"1.5rem\" }}>\r\n                        {`${state.Credits} \\xA5`}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"chapter-header\">Ships Upgrades</div>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: \"1.1rem\" }}>\r\n                    <div >\r\n                        {state.ShipUpgrades.length > 0 ? state.ShipUpgrades.map(getUpgradeByName).map((u) => <React.Fragment><div style={{ fontWeight: \"bold\" }}>{u.name}</div><div>{u.notes}</div></React.Fragment>) : \"----\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n\r\n                <div className=\"chapter-header\">Ships Cargo</div>\r\n                <div style={{ display: \"flex\", fontSize: \"1.1rem\" }}>\r\n                    <div style={{ borderRight: \"1px solid\" }}>\r\n                        <div style={{ borderBottom: \"1px solid\", fontWeight: \"bold\", padding: \"0.5rem\" }}>Weapons</div>\r\n                        {weaponsCargo.length > 0 ? weaponsCargo.map((c) => <div style={{ padding: \"0.5rem\" }}>{c.name}</div>) : <div style={{ padding: \"0.5rem\" }}> - </div>}\r\n                    </div>\r\n                    <div style={{ borderRight: \"1px solid\" }}>\r\n                        <div style={{ borderBottom: \"1px solid\", fontWeight: \"bold\", padding: \"0.5rem\" }}>Tech</div>\r\n                        {techCargo.length > 0 ? techCargo.map((c) => <div style={{ padding: \"0.5rem\" }}>{c.name}</div>) : <div style={{ padding: \"0.5rem\" }}> - </div>}\r\n                    </div>\r\n                    <div>\r\n                        <div style={{ borderBottom: \"1px solid\", fontWeight: \"bold\", padding: \"0.5rem\" }}>Goods</div>\r\n                        {goodsCargo.length > 0 ? goodsCargo.map((c) => <div style={{ padding: \"0.5rem\" }}>{c.name}</div>) : <div style={{ padding: \"0.5rem\" }}> - </div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div >\r\n                <div className=\"chapter-header\">Crewlist</div>\r\n                {[state.Captain, state.FirstMate, ...state.Soldiers].map((c) => <div style={{ padding: \"0.5rem\", fontSize: \"1.1rem\" }}>{c.name} ({c.type}{isCharacter(c) ? ` - Level ${c.level} ${c.background}` : \"\"})</div>)}\r\n            </div>\r\n\r\n        </div >\r\n    </div>;\r\n};\r\n","import html2canvas from \"html2canvas\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { BackButtonComponent } from \"../../components/common/BackButton\";\r\nimport { PrintablePowerCards } from \"../../components/pdf/PdfPowerCards\";\r\nimport { PdfRenderer } from \"../../components/pdf/PdfRenderer\";\r\nimport { StorageSheet } from \"../../components/pdf/PdfStorageSheet\";\r\nimport { PdfIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types\";\r\n\r\nexport const PdfExportPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const [printPowerCards, setPrintPowerCards] = useState<boolean | undefined>(undefined);\r\n    const exportPdf = async () => {\r\n        const jsPdf = new jsPDF(\"landscape\", \"mm\", \"a4\", true);\r\n        let canvas: HTMLCanvasElement;\r\n        const container = Array.from(document.querySelectorAll(\".pdf-container\"));\r\n        for (let i = 0; i < container.length; i++) {\r\n            if (i > 0) {\r\n                jsPdf.addPage();\r\n            }\r\n            canvas = await html2canvas(container[i] as unknown as HTMLElement, { scale: 4, letterRendering: true });\r\n            jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n        }\r\n        jsPdf.addPage();\r\n        canvas = await html2canvas(document.querySelector(\"#printable-storage-sheet\") as HTMLElement, { scale: 4, letterRendering: true });\r\n        jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n        if (printPowerCards) {\r\n            jsPdf.addPage();\r\n            canvas = await html2canvas(document.querySelector(\"#printable-power-cards\") as HTMLElement, { scale: 2, letterRendering: true });\r\n            jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n        }\r\n        jsPdf.save(`${state.ShipName} (${state.Captain.level}/${state.FirstMate.level}/${state.Credits}).pdf`);\r\n    };\r\n    return <React.Fragment>\r\n        <div style={{ borderTop: \"0.15rem solid\" }} className=\"chapter-header\">Export your warband to pdf</div>\r\n        <div style={{ display: \"grid\", paddingTop: \"2rem\", paddingBottom: \"2rem\" }}>\r\n            <img alt=\"file upload\" className=\"file-ops-icon\" src={PdfIcon} onClick={exportPdf} />\r\n        </div>\r\n        <div className={\"pdf-threeway-switch\"}>\r\n            <div onClick={() => setPrintPowerCards(true)} className={printPowerCards ? \"selected pdf-sub-switch\" : \"pdf-sub-switch\"}>All power cards</div>\r\n            <div onClick={() => setPrintPowerCards(false)} style={{ borderLeft: \"1px solid\" }} className={printPowerCards === false ? \"selected pdf-sub-switch\" : \"pdf-sub-switch\"}>Improved powers</div>\r\n            <div onClick={() => setPrintPowerCards(undefined)} style={{ borderLeft: \"1px solid\" }} className={printPowerCards === undefined ? \"selected  pdf-sub-switch\" : \"pdf-sub-switch\"}>No, thank you</div>\r\n        </div>\r\n        <PdfRenderer />\r\n        <StorageSheet />\r\n        {printPowerCards !== undefined ? <PrintablePowerCards printAll={printPowerCards} /> : undefined}\r\n        <BackButtonComponent />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { Carousel } from \"../../components/common/Carousel\";\r\nimport { ItemCard } from \"../../components/ItemCard\";\r\nimport { GearListItem } from \"../../components/ListItem\";\r\nimport { getAdvancedTech, getAdvancedWeapons, getAlienArtefacts } from \"../../GearUtils\";\r\nimport { AdvancedTech1Icon, AdvancedTech2Icon, AdvancedWeaponsIcon, AlienArtefactsIcon } from \"../../images\";\r\nimport { BUY_LOOT } from \"../../redux/actions\";\r\nimport { AdvancedTech, AdvancedWeapons, AlienArtefact, CrewState, LootCategories, ShoppingCategories } from \"../../types\";\r\n\r\ninterface ShoppingItem {\r\n    name: string;\r\n    type: ShoppingCategories;\r\n}\r\n\r\nexport const ShoppingPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const dispatch = useDispatch();\r\n    const [shoppingSection, setShoppingSection] = useState<ShoppingCategories | undefined>(undefined);\r\n    const [showAllItems, setShowAllItems] = useState<boolean>(false);\r\n    const [details, setDetails] = useState<ShoppingItem | undefined>(undefined);\r\n    const getItemsList = (cat: ShoppingCategories) => {\r\n        switch (cat) {\r\n            case ShoppingCategories.AdvancedTech1:\r\n                return getAdvancedTech().filter((tech) => tech.list === 1);\r\n            case ShoppingCategories.AdvancedTech2:\r\n                return getAdvancedTech().filter((tech) => tech.list === 2);\r\n            case ShoppingCategories.AlienArtefacts:\r\n                return getAlienArtefacts();\r\n            case ShoppingCategories.AdvancedWeapons:\r\n                return getAdvancedWeapons();\r\n        }\r\n    };\r\n    const hasSufficientFunds = (cat: ShoppingCategories) => getItemsList(cat).some((item: AlienArtefact | AdvancedTech | AdvancedWeapons) => item.cost < state.Credits);\r\n    const SelectionTiles = () => <React.Fragment>\r\n        <div className={hasSufficientFunds(ShoppingCategories.AdvancedWeapons) ? \"transaction-tile\" : \"transaction-tile disabled\"}\r\n            onClick={() => setShoppingSection(ShoppingCategories.AdvancedWeapons)}\r\n        >\r\n            <div className=\"transaction-tile-header\">{ShoppingCategories.AdvancedWeapons}</div>\r\n            <img style={{ width: \"25%\" }} src={AdvancedWeaponsIcon} alt={\"starship\"} />\r\n        </div>\r\n        <div className={hasSufficientFunds(ShoppingCategories.AlienArtefacts) ? \"transaction-tile\" : \"transaction-tile disabled\"} onClick={() => setShoppingSection(ShoppingCategories.AlienArtefacts)}>\r\n            <div className=\"transaction-tile-header\">{ShoppingCategories.AlienArtefacts}</div>\r\n            <img style={{ width: \"25%\" }} src={AlienArtefactsIcon} alt={\"starship\"} />\r\n        </div>\r\n        <div className={hasSufficientFunds(ShoppingCategories.AdvancedTech1) ? \"transaction-tile\" : \"transaction-tile disabled\"} onClick={() => setShoppingSection(ShoppingCategories.AdvancedTech1)}>\r\n            <div className=\"transaction-tile-header\">{ShoppingCategories.AdvancedTech1}</div>\r\n            <img style={{ width: \"25%\" }} src={AdvancedTech1Icon} alt={\"starship\"} />\r\n        </div>\r\n        <div className={hasSufficientFunds(ShoppingCategories.AdvancedTech2) ? \"transaction-tile\" : \"transaction-tile disabled\"} onClick={() => setShoppingSection(ShoppingCategories.AdvancedTech2)}>\r\n            <div className=\"transaction-tile-header\">{ShoppingCategories.AdvancedTech2}</div>\r\n            <img style={{ width: \"25%\" }} src={AdvancedTech2Icon} alt={\"starship\"} />\r\n        </div>\r\n    </React.Fragment>;\r\n    const DialogTile = () => {\r\n        if (details) {\r\n            const type = details?.type;\r\n            switch (type) {\r\n                case ShoppingCategories.AdvancedTech1:\r\n                    const technology = getAdvancedTech().find((tech) => tech.name === details.name);\r\n                    if (technology) {\r\n                        return <div>\r\n                            <div className=\"cargo-tile\">\r\n                                <ItemCard name={details.name} type={technology.type} icon={AdvancedTech1Icon} slots={technology.gearSlots} notes={technology.notes} armourModifier={technology.armourModifier} />\r\n                                <div className=\"cargo-item-details-btn selected\"\r\n                                    onClick={() => {\r\n                                        dispatch({ type: BUY_LOOT, payload: { loot: { name: details.name, type: LootCategories.AdvancedTechnology }, credits: technology.cost } });\r\n                                        setDetails(undefined);\r\n                                    }}>\r\n                                    {`Buy for ${technology.cost} \\xA5`}</div>\r\n                                <div className=\"cargo-item-details-btn\" onClick={() => setDetails(undefined)}>Back</div>\r\n                            </div>\r\n                        </div>;\r\n                    }\r\n                    return <React.Fragment></React.Fragment>;\r\n                case ShoppingCategories.AdvancedTech2:\r\n                    const technology2 = getAdvancedTech().find((tech) => tech.name === details.name);\r\n                    if (technology2) {\r\n                        return <div>\r\n                            <div className=\"cargo-tile\">\r\n                                <ItemCard name={details.name} type={technology2.type} icon={AdvancedTech2Icon} slots={technology2.gearSlots} notes={technology2.notes} armourModifier={technology2.armourModifier} />\r\n                                <div className=\"cargo-item-details-btn selected\"\r\n                                    onClick={() => {\r\n                                        dispatch({ type: BUY_LOOT, payload: { loot: { name: details.name, type: LootCategories.AdvancedTechnology }, credits: technology2.cost } });\r\n                                        setDetails(undefined);\r\n                                    }}>\r\n                                    {`Buy for ${technology2.cost} \\xA5`}</div>\r\n                                <div className=\"cargo-item-details-btn\" onClick={() => setDetails(undefined)}>Back</div>\r\n                            </div>\r\n                        </div>;\r\n                    }\r\n                    return <React.Fragment></React.Fragment>;\r\n                case ShoppingCategories.AdvancedWeapons:\r\n                    const advWeapon = getAdvancedWeapons().find((weapon) => weapon.name === details.name);\r\n                    if (advWeapon) {\r\n                        const str: string[] = [];\r\n                        if (advWeapon.maxRange) {\r\n                            str.push(typeof (advWeapon.maxRange) === \"number\" ? `Range ${advWeapon.maxRange}\"` : `${advWeapon.maxRange}`);\r\n                        }\r\n                        if (advWeapon.damageModifier) {\r\n                            str.push(`+${advWeapon.damageModifier} Damage Modifier`);\r\n                        }\r\n                        return <div>\r\n                            <div className=\"cargo-tile\">\r\n                                <ItemCard name={details.name} type={advWeapon.type} icon={AdvancedWeaponsIcon} slots={advWeapon.gearSlots} notes={advWeapon.notes || \"\"} />\r\n                                {str ? <div className=\"large-text\" >{str.join(\" / \")}</div> : undefined}\r\n                                <div style={{ paddingBottom: \"2rem\", borderBottom: \"2px solid\" }}></div>\r\n                                <div className=\"cargo-item-details-btn selected\"\r\n                                    onClick={() => {\r\n                                        dispatch({ type: BUY_LOOT, payload: { loot: { name: details.name, type: LootCategories.AdvancedWeapons }, credits: advWeapon.cost } });\r\n                                        setDetails(undefined);\r\n                                    }}>\r\n                                    {`Buy for ${advWeapon.cost} \\xA5`}</div>\r\n                                <div className=\"cargo-item-details-btn\" onClick={() => setDetails(undefined)}>Back</div>\r\n                            </div>\r\n                        </div>;\r\n                    }\r\n                    return <React.Fragment></React.Fragment>;\r\n                case ShoppingCategories.AlienArtefacts:\r\n                    const artefact = getAlienArtefacts().find((art) => art.name === details.name);\r\n                    if (artefact) {\r\n                        return <div>\r\n                            <div className=\"cargo-tile\">\r\n                                <ItemCard name={details.name} type={artefact.type} icon={AlienArtefactsIcon} slots={artefact.gearSlots} notes={artefact.notes || \"\"} />\r\n                                <div style={{ fontWeight: \"bold\", float: \"right\", margin: \"0.2rem\", padding: \"1rem\" }} className=\"cargo-item-btn selected\"\r\n                                    onClick={() => {\r\n                                        dispatch({ type: BUY_LOOT, payload: { loot: { name: details.name, type: LootCategories.AlienTech }, credits: artefact.cost } });\r\n                                        setDetails(undefined);\r\n                                    }}>\r\n                                    {`Buy for ${artefact.cost} \\xA5`}</div>\r\n                                <div className=\"cargo-item-details-btn\" onClick={() => setDetails(undefined)}>Back</div>\r\n                            </div>\r\n                        </div>;\r\n                    }\r\n                    return <React.Fragment></React.Fragment>;\r\n            }\r\n        }\r\n        return <React.Fragment></React.Fragment>;\r\n    };\r\n    const ItemList = () => {\r\n        let list: Array<AdvancedWeapons | AdvancedTech | AlienArtefact> = [];\r\n        switch (shoppingSection) {\r\n            case ShoppingCategories.AdvancedWeapons:\r\n                list = showAllItems ? getAdvancedWeapons() : getAdvancedWeapons().filter((item: AdvancedWeapons) => item.cost < state.Credits);\r\n                break;\r\n            case ShoppingCategories.AdvancedTech1:\r\n                const list1 = getAdvancedTech().filter((tech) => tech.list === 1);\r\n                list = showAllItems ? list1 : list1.filter((item: AdvancedTech) => item.cost < state.Credits);\r\n                break;\r\n            case ShoppingCategories.AdvancedTech2:\r\n                const list2 = getAdvancedTech().filter((tech) => tech.list === 2);\r\n                list = showAllItems ? list2 : list2.filter((item: AdvancedTech) => item.cost < state.Credits);\r\n                break;\r\n            case ShoppingCategories.AlienArtefacts:\r\n                list = showAllItems ? getAlienArtefacts() : getAlienArtefacts().filter((item: AlienArtefact) => item.cost < state.Credits);\r\n                break;\r\n            case undefined:\r\n                return <React.Fragment />;\r\n\r\n        }\r\n        const itemList = list.sort((a, b) => (a.cost > b.cost) ? 1 : a.cost < b.cost ? -1 : 0).map((listItem) => <GearListItem\r\n            item={listItem}\r\n            isDisabled={listItem.cost > state.Credits}\r\n            clickHandler={() => setDetails({ name: listItem.name, type: shoppingSection })}\r\n        />);\r\n        if (itemList.length > 11) {\r\n            return <React.Fragment >\r\n                <div className=\"chapter-header\">What do you want to purchase?</div>\r\n                <Carousel\r\n                    splitSize={11}\r\n                    inputDivs={itemList}\r\n                />\r\n                <div className=\"page-btn\" onClick={() => setShoppingSection(undefined)}>Back</div>\r\n            </React.Fragment >;\r\n        }\r\n        return <React.Fragment >\r\n            <div className=\"chapter-header\">What do you want to purchase?</div>\r\n            {itemList}\r\n            <div className=\"page-btn\" onClick={() => setShoppingSection(undefined)}>Back</div>\r\n        </React.Fragment >;\r\n    };\r\n    return <div className=\"flex-container\" >\r\n        {/* <TreasuryComponent externalStyles={{ marginLeft: \"9rem\" }} /> */}\r\n        {!shoppingSection ? <React.Fragment><SelectionTiles /><PageBackBtnComponent /></React.Fragment> : details ? <DialogTile /> : <ItemList />}\r\n\r\n    </div >;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { SoldierEditor } from \"../../components/SoldierEditor\";\r\nimport { getGearDetails, isSpecialWeapon } from \"../../GearUtils\";\r\nimport { ADD_LOOT, MODIFY_SOLDIER } from \"../../redux/actions\";\r\nimport { AdvancedWeapons, LootCategories, Soldier } from \"../../types\";\r\n\r\ninterface EquipmentState {\r\n    crewMember: Soldier;\r\n    equipment: AdvancedWeapons | undefined;\r\n}\r\nexport const SoldierEquipmentPage = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { crewMember, equipment } = history.location.state as EquipmentState;\r\n    const [gear, setGear] = useState<string[]>(crewMember.gear);\r\n    return <div className=\"flex-container\">\r\n        <SoldierEditor previewSoldier={{ ...crewMember, name: crewMember.name, gearSlots: 1, gear }} specialWeapon={equipment || crewMember.gear.map(getGearDetails).find(isSpecialWeapon)} callback={setGear} />\r\n        <div className=\"page-btn selected\" onClick={() => {\r\n            if (!gear.find((g) => g === equipment?.name)) {\r\n                dispatch({ type: ADD_LOOT, payload: { name: equipment?.name, type: LootCategories.AdvancedWeapons } });\r\n            }\r\n            const specialWeapon = crewMember.gear.map(getGearDetails).find(isSpecialWeapon);\r\n            if (specialWeapon && !gear.find((g) => g === specialWeapon.name)) {\r\n                dispatch({ type: ADD_LOOT, payload: { name: specialWeapon.name, type: LootCategories.AdvancedWeapons } });\r\n            }\r\n            dispatch({ type: MODIFY_SOLDIER, payload: { ...crewMember, gear } });\r\n            history.goBack();\r\n        }\r\n        }>{\"Confirm current equipment\"}</div>\r\n        {/*TODO: put equi back to bay*/}\r\n        <PageBackBtnComponent />\r\n    </div>;\r\n};\r\n// export const SoldierEquipmentPage = () => {\r\n//     const history = useHistory();\r\n//     const dispatch = useDispatch();\r\n//     const { crewMember, equipment } = history.location.state as EquipmentState;\r\n//     const gearList = [...crewMember.gear];\r\n//     const customList: string[] = [];\r\n//     for (const stuff of gearList) {\r\n//         customList.push(stuff);\r\n//         if (!isGeneralGear(stuff)) {\r\n//             const gearDetails = getGearDetails(stuff) as SpecialGear;\r\n//             if ((isAdvancedTech(gearDetails) || isAdvancedWeapon(gearDetails)) && gearDetails.equivalent) {\r\n//                 customList.push(gearDetails.equivalent);\r\n//             }\r\n//         } else {\r\n//             if (stuff === \"Carbine\") {\r\n//                 customList.push(\"Shotgun\");\r\n//             }\r\n//             if (stuff === \"Shotgun\") {\r\n//                 customList.push(\"Carbine\");\r\n//             }\r\n//         }\r\n//     }\r\n//     if (equipment) {\r\n//         customList.push(equipment.name);\r\n//     }\r\n//     const initialGearState: Gear[] = crewMember.gear.map(getGearDetails);\r\n//     const [selectedGear, setSelectedGear] = useState<Gear[]>(initialGearState);\r\n//     const isGearSelected = (gear: string) => !!selectedGear.find((gr) => gr.name === gear);\r\n\r\n//     const WeaponLabel = ({ weapon }: { weapon: Gear }) =>\r\n//         <div\r\n//             className={isGearSelected(weapon.name) ? \"soldier-gear selected\" : \"soldier-gear\"}\r\n//             onClick={() => {\r\n//                 const sel = isGearSelected(weapon.name);\r\n//                 if (!sel) {\r\n//                     if (isSpecialWeapon(weapon)) {\r\n//                         const equiSel = selectedGear.find((gear) => gear.name === weapon.equivalent);\r\n//                         if (equiSel) {\r\n//                             setSelectedGear([...selectedGear.filter((gear) => gear.name !== weapon.equivalent), weapon]);\r\n//                         }\r\n//                     }\r\n//                 }\r\n//             }}>\r\n//             <div className=\"emphasized\">{`${weapon.name} ( ${isGearSelected(weapon.name) ? (selectedGear.find((item) => item.name === weapon.name) as ModifiedGear).gearSlots : weapon.gearSlots} )`}</div>\r\n//             <div className=\"medium-text\">{weapon.maxRange === \"Melee\" || weapon.maxRange === \"Template\" ? weapon.maxRange : `Range: ${weapon.maxRange}`} / {`${getDamageModifierString(weapon)} dmg`}</div >\r\n//             {weapon.notes ? <div className=\"medium-text\">{getActualNotes(selectedGear, weapon)}</div> : null}\r\n//         </div>;\r\n\r\n//     const ArmourLabel = ({ armour }: { armour: Gear }) => <div className={isGearSelected(armour.name) ? \"soldier-gear selected\" : \"soldier-gear\"} onClick={() => undefined}>\r\n//         <div className=\"emphasized\">{`${armour.name} ( ${isGearSelected(armour.name) ? (selectedGear.find((item) => item.name === armour.name) as ModifiedGear).gearSlots : armour.gearSlots} )`}</div>\r\n//         <div className=\"medium-text\">{`+${armour.armourModifier || 0} Armour ${getActualNotes(selectedGear, armour) ? \"/\" : \"\"} ${getActualNotes(selectedGear, armour)}`}</div>\r\n//         {armour.notes ? <div className=\"medium-text\">{getActualNotes(selectedGear, armour)}</div> : null}\r\n//     </div>;\r\n\r\n//     const EquipmentLabel = ({ equi }: { equi: Gear }) => <div className={isGearSelected(equi.name) ? \"soldier-gear selected\" : \"soldier-gear\"} onClick={() => undefined}>\r\n//         <div className=\"emphasized\">{`${equi.name} ( ${isGearSelected(equi.name) ? (selectedGear.find((item) => item.name === equi.name) as ModifiedGear).gearSlots : equi.gearSlots} )`}</div>\r\n//         {<div className=\"medium-text\">{getActualNotes(selectedGear, equi)}</div>}\r\n//     </div>;\r\n//     return <React.Fragment>\r\n//         <CustomStatsHeader character={crewMember} gearSlots={selectedGear.filter((gear) => !isGeneralGear(gear.name)).length} />\r\n//         <div style={{ display: \"flex\", clear: \"both\", flexDirection: \"column\" }}>\r\n//             {customList.map(getGearDetails).map((gear) => gear.type === \"Weapon\" ? <WeaponLabel weapon={gear} /> : gear.type === \"Armour\" ? <ArmourLabel armour={gear} /> : <EquipmentLabel equi={gear} />\r\n//             )}\r\n//         </div>\r\n//         <button\r\n//             onClick={() => {\r\n//                 if (equipment && !isGearSelected(equipment.name)) {\r\n//                     dispatch({ type: ADD_LOOT, payload: { name: equipment.name, type: getLootCategory(equipment) } });\r\n//                 }\r\n//                 dispatch({ type: MODIFY_SOLDIER, payload: { ...crewMember, gear: selectedGear.sort((a, b) => (a.name.localeCompare(b.name))).map((selGear) => selGear.name) } });\r\n//                 history.goBack();\r\n//             }}\r\n//             className={\"dialog-btn confirm-btn\"}\r\n//         >{`${\"Confirm\"}`}</button>\r\n//         <CustomBackButtonComponent dispatchFunction={() => equipment ? dispatch({ type: ADD_LOOT, payload: { name: equipment.name, type: getLootCategory(equipment) } }) : undefined} />\r\n//     </React.Fragment>;\r\n// };\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { CargoBayIcon, ShipUpgradesIcon, ShoppingIcon, TransactionLogIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types\";\r\n\r\nexport const TransactionsPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n\r\n    const history = useHistory();\r\n    return <div className=\"flex-container\" >\r\n        <div className=\"transaction-tile\">\r\n            <div className=\"transaction-tile-header\">Shopping</div>\r\n            <img\r\n                alt=\"file upload\"\r\n                style={{ width: \"25%\" }}\r\n                src={ShoppingIcon}\r\n                onClick={(event) => {\r\n                    history.push(\"/Shopping\");\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }}\r\n            />\r\n        </div>\r\n        <div className=\"transaction-tile\">\r\n            <div className=\"transaction-tile-header\">Cargo Bay</div>\r\n            <img\r\n                alt=\"file upload\"\r\n                style={{ width: \"25%\" }}\r\n                src={CargoBayIcon}\r\n                onClick={(event) => {\r\n                    history.push(\"/ShipsCargo\");\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }}\r\n            />\r\n        </div>\r\n\r\n        <div className=\"transaction-tile\">\r\n            <div className=\"transaction-tile-header\">Ship Upgrades</div>\r\n            <img alt=\"file upload\" style={{ width: \"25%\" }} src={ShipUpgradesIcon} onClick={(event) => {\r\n                history.push(\"/ShipUpgrades\");\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }} />\r\n        </div>\r\n        <div className=\"transaction-tile\">\r\n            <div className=\"transaction-tile-header\">Transaction History</div>\r\n            <img alt=\"file upload\" style={{ width: \"25%\" }} src={TransactionLogIcon} onClick={(event) => {\r\n                history.push(\"/TransactionHistory\");\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }} />\r\n        </div>\r\n        <PageBackBtnComponent />\r\n    </div >;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { StringDropdownOptions } from \"../../types\";\r\nimport { useComponentVisible } from \"../../UseComponentVisible\";\r\n\r\nexport const XPDropDown = ({ list, dropdownOptions, callbackFn }: { list: string[]; dropdownOptions: StringDropdownOptions; callbackFn(item: string): void }) => {\r\n    const [selectedItem, setSelectedItem] = useState<string>(dropdownOptions.placeholder);\r\n    const getCssProps = () => {\r\n        const position = document.getElementById(`dropdown-container-${dropdownOptions.id}`)?.getBoundingClientRect();\r\n        return { top: (position?.top || 0) + 42, left: (position?.left || 0), width: (position?.width || 0) };\r\n    };\r\n    const renderList = () => list.filter((item: string) => (item !== selectedItem)).map((listItem) =>\r\n        <div key={`dropdown-list-item-${dropdownOptions.id}-${listItem}`}\r\n            className=\"gear-selection dropdown-input dropdown-input-list\"\r\n            onMouseDown={() => {\r\n                setSelectedItem(listItem);\r\n                callbackFn(listItem);\r\n                setIsComponentVisible(false);\r\n            }}\r\n        >\r\n            <div>{listItem}</div>\r\n        </div>\r\n    );\r\n    const { ref, isComponentVisible, setIsComponentVisible, openMenu } = useComponentVisible(false);\r\n    return <React.Fragment>\r\n        <div\r\n            className=\"gear-selection selected dropdown-input\"\r\n            onClick={openMenu}\r\n            id={`dropdown-container-${dropdownOptions.id}`}>\r\n            <div>{selectedItem}</div>\r\n        </div>\r\n        <div ref={ref}>\r\n            {isComponentVisible ?\r\n                <div style={getCssProps()} className=\"dropdown-portal\">\r\n                    {list.length > 0 ? renderList() : <div key={`dropdown-list-item-${dropdownOptions.id}-empty-list`} className=\"dropdown-empty-list\">No match found for search string. Please refine your search.</div>}\r\n                </div> : null}\r\n        </div>\r\n    </React.Fragment>;\r\n\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { XPDropDown } from \"../../components/dropdowns/XPDropdown\";\r\nimport { REWIND_XP, SPEND_XP } from \"../../redux/actions\";\r\nimport { CrewState, LevelImprovements } from \"../../types\";\r\nimport { getAdvancePerLevel } from \"../../Utils\";\r\nexport const LevelUpPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [captainLevels, setCaptainLevels] = useState<number>(0);\r\n    const [firstMateLevels, setfirstMateLevels] = useState<number>(0);\r\n    const [deciChoice, setDeciChoice] = useState<boolean>(true);\r\n    const [x, setX] = useState<string[]>([]);\r\n    const [y, setY] = useState<string[]>([]);\r\n    useEffect(() => {\r\n        setX(getCaptainLevels());\r\n        setY(getFirstMateLevels());\r\n    }, [captainLevels, firstMateLevels, deciChoice]);\r\n    const getCaptainLevels = () => {\r\n        const difference = state.Captain && state.FirstMate ? (state.Captain.level + captainLevels) - (state.FirstMate.level + firstMateLevels) : 0;\r\n        const experienceAvailable = Math.min(3, 20 - difference, Math.floor(state.Experience / 100) - firstMateLevels);\r\n        return [...Array(experienceAvailable + 1).keys()].map((nr) => `${nr}`);\r\n    };\r\n    const getFirstMateLevels = () => {\r\n        const difference = state.Captain && state.FirstMate ? (state.Captain.level + captainLevels) - (state.FirstMate.level + firstMateLevels) : 0;\r\n        const experienceAvailable = Math.min(3, difference - 5, Math.floor(state.Experience / 100) - captainLevels);\r\n        return [...Array(experienceAvailable + 1).keys()].map((nr) => `${nr}`);\r\n    };\r\n    const renderImprovements = (isCaptain: boolean) => {\r\n        const lvl = isCaptain ? (state.Captain).level : (state.FirstMate).level;\r\n        if (isCaptain ? captainLevels === 0 : firstMateLevels === 0) {\r\n            return [<div className=\"improvement-token\">No level up for this guy, so no improvements</div>];\r\n        }\r\n        const nodes: JSX.Element[] = [];\r\n        for (let i = 1; i < (isCaptain ? captainLevels + 1 : firstMateLevels + 1); i++) {\r\n            switch (getAdvancePerLevel(lvl + i)) {\r\n                case LevelImprovements.LowerActivation:\r\n                    nodes.push(<div className=\"improvement-token selected\">{LevelImprovements.LowerActivation}</div>);\r\n                    break;\r\n                case LevelImprovements.ImproveStat:\r\n                    nodes.push(<div className=\"improvement-token selected\">{LevelImprovements.ImproveStat}</div>);\r\n                    break;\r\n                case LevelImprovements.NewPower:\r\n                    nodes.push(<div className=\"improvement-token selected\">{LevelImprovements.NewPower}</div>);\r\n                    break;\r\n                case LevelImprovements.NewPowerOrImproveStat:\r\n                    nodes.push(<div style={{ display: \"grid\", gridTemplateColumns: \"40% 20% 40%\" }}>\r\n                        <div onClick={() => deciChoice ? undefined : setDeciChoice(true)} className={deciChoice ? \"improvement-token selected\" : \"improvement-token\"}>{LevelImprovements.NewPower}</div>\r\n                        <div style={{ textAlign: \"center\", fontWeight: \"bold\", paddingTop: \"1rem\" }}> OR </div >\r\n                        <div onClick={() => deciChoice ? setDeciChoice(false) : undefined} className={!deciChoice ? \"improvement-token selected\" : \"improvement-token\"}>{LevelImprovements.ImproveStat}</div>\r\n                    </div>);\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n        return nodes;\r\n    };\r\n    return <React.Fragment>\r\n        <div className=\"chapter-header\">You have {state.Experience} xp left.\r\n            <div className=\"modal-sub-header\">For 100 xp you may buy a level for any character</div>\r\n            <div className=\"modal-sub-header\">Choose how many levels each character should advance by using the drop down menus</div>\r\n        </div>\r\n\r\n        <div className=\"xp-btn\">\r\n            <div>Level up {state.Captain.name} ({state.Captain.level})</div>\r\n            <XPDropDown list={x} dropdownOptions={{ id: \"captainLevels\", placeholder: \"0\" }} callbackFn={(nr) => setCaptainLevels(parseInt(nr, 10))} />\r\n        </div>\r\n        <div className=\"flex-container\">\r\n            {renderImprovements(true)}\r\n        </div>\r\n        <div className=\"xp-btn\">\r\n            <div>Level up {state.FirstMate.name} ({state.FirstMate.level})</div>\r\n            <XPDropDown list={y} dropdownOptions={{ id: \"firstMateLevels\", placeholder: \"0\" }} callbackFn={(nr) => setfirstMateLevels(parseInt(nr, 10))} />\r\n        </div>\r\n        <div className=\"flex-container\" >\r\n            {renderImprovements(false)}\r\n        </div >\r\n        <button\r\n            onClick={() => {\r\n                dispatch({ type: SPEND_XP, payload: ((captainLevels + firstMateLevels) * 100) });\r\n                history.push(captainLevels > 0 ? \"/LevelUpCaptain\" :\r\n                    firstMateLevels > 0 ? \"/LevelUpFirstMate\" :\r\n                        \"/PhysicalLootDeclaration\", { captainLevels, firstMateLevels, choice: deciChoice ? LevelImprovements.NewPower : LevelImprovements.ImproveStat });\r\n            }}\r\n            className={\"dialog-btn confirm-btn\"}\r\n        >Confirm</button>\r\n        <CustomBackButtonComponent dispatchFunction={() => dispatch({ type: REWIND_XP })} />\r\n    </React.Fragment >;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BackButtonComponent } from \"../../components/common/BackButton\";\r\nimport { Carousel } from \"../../components/common/Carousel\";\r\nimport { XPDropDown } from \"../../components/dropdowns/XPDropdown\";\r\nimport { getAdvancedTech, getAdvancedWeapons, getAlienArtefacts } from \"../../GearUtils\";\r\nimport { ADD_CREDITS, ADD_LOOT } from \"../../redux/actions\";\r\nimport { DataCategories, Information, LootCategories, LootItem, LootType, PhysicalCategories, SelectedCategory, TradeGoods } from \"../../types\";\r\n\r\ninterface SelectedItems {\r\n    lootId: number;\r\n    selectedItem: LootItem;\r\n}\r\nconst credits = [10, 15, 20, 30, 40, 45, 50, 60, 70, 75, 80, 90, 100, 105, 110, 120, 130, 135, 140, 150, 160, 165, 170, 180, 190, 195, 200, 220, 225, 240, 250, 255, 260, 270, 280, 285, 300, 320, 340, 360, 380, 400];\r\n\r\nexport const LootPage = ({ lootType }: { lootType: LootType }) => {\r\n    const [lootTokensCollected, setLootTokensCollected] = useState<number>(0);\r\n    const [selectedItems, setSelectedItems] = useState<SelectedItems[] | undefined>(undefined);\r\n    const [selectedCategory, setSelectedCategory] = useState<SelectedCategory[] | undefined>(undefined);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const advTech = getAdvancedTech();\r\n    const alienTech = getAlienArtefacts();\r\n    const advWeapons = getAdvancedWeapons();\r\n    const isCategorySelected = (idx: number, name: PhysicalCategories | DataCategories) => selectedCategory?.find((item) => item.lootId === idx && item.selectedCategory === name);\r\n    const isCategoryIdSelected = (idx: number) => selectedCategory?.find((item) => item.lootId === idx);\r\n    const isItemSelected = (idx: number, name: string) => selectedItems?.find((item) => item.lootId === idx && item.selectedItem.name === name);\r\n    const isIdSelected = (idx: number) => selectedItems?.find((item) => item.lootId === idx);\r\n    const updateSelectedItems = (idx: number, item: LootItem) => {\r\n        if (isItemSelected(idx, item.name)) {\r\n            setSelectedItems(selectedItems?.filter((selIt) => selIt.lootId !== idx || selIt.selectedItem.name !== item.name));\r\n        } else if (isIdSelected(idx)) {\r\n            setSelectedItems([...selectedItems?.filter((selIt) => selIt.lootId !== idx) || [], { lootId: idx, selectedItem: item }]);\r\n        } else {\r\n            setSelectedItems([...selectedItems || [], { lootId: idx, selectedItem: item }]);\r\n        }\r\n    };\r\n    const updateSelectedCategory = (idx: number, name: PhysicalCategories | DataCategories) => {\r\n        if (isCategorySelected(idx, name)) {\r\n            setSelectedCategory(selectedCategory?.filter((item) => item.lootId !== idx || item.selectedCategory !== name));\r\n        } else if (isCategoryIdSelected(idx)) {\r\n            setSelectedCategory([...selectedCategory?.filter((item) => item.lootId !== idx) || [], { lootId: idx, selectedCategory: name }]);\r\n        } else {\r\n            setSelectedCategory([...selectedCategory || [], { lootId: idx, selectedCategory: name }]);\r\n        }\r\n    };\r\n    const getTradeGoods = (idx: number) =>\r\n        Object.values(TradeGoods).map((value) =>\r\n            <div style={{ padding: \"1rem\" }}\r\n                className={isItemSelected(idx, value) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                onClick={() => updateSelectedItems(idx, { name: value, type: LootCategories.TradeGoods })}\r\n                key={value}>\r\n                {value}\r\n            </div>\r\n        );\r\n    const getInformation = (idx: number) =>\r\n        Object.values(Information).map((value) =>\r\n            <div style={{ padding: \"1rem\" }}\r\n                className={isItemSelected(idx, value) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                onClick={() => updateSelectedItems(idx, { name: value, type: LootCategories.Information })}\r\n                key={value}>\r\n                {value}\r\n            </div>\r\n        );\r\n    const CategorySelection = ({ idx }: { idx: number }) => {\r\n        if (lootType === LootType.Data) {\r\n            return <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>{Object.values(DataCategories).map((value) => <div className={isCategorySelected(idx, value) ? \"loot-selection selected\" : \"loot-selection\"}\r\n                onClick={() => updateSelectedCategory(idx, value)}\r\n            >\r\n                {value}\r\n            </div>)}</div>;\r\n        }\r\n        if (lootType === LootType.Physical) {\r\n            return <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>{Object.values(PhysicalCategories).map((value) => <div className={isCategorySelected(idx, value) ? \"loot-selection selected\" : \"loot-selection\"}\r\n                onClick={() => updateSelectedCategory(idx, value)}\r\n            >\r\n                {value}\r\n            </div>)}</div>;\r\n        }\r\n        return <React.Fragment></React.Fragment>;\r\n    };\r\n    const LootSelection = ({ idx }: { idx: number }) => {\r\n        const category = selectedCategory?.find((cat) => cat.lootId === idx)?.selectedCategory;\r\n        switch (category) {\r\n            case PhysicalCategories.TradeGoods:\r\n                return <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>{getTradeGoods(idx)}</div>;\r\n            case PhysicalCategories.AdvancedTechnology:\r\n                return <Carousel\r\n                    splitSize={10}\r\n                    inputDivs={advTech.map((tech) => <div\r\n                        className={isItemSelected(idx, tech.name) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                        onClick={() => updateSelectedItems(idx, { name: tech.name, type: LootCategories.AdvancedTechnology })}\r\n                    >\r\n                        {tech.name}\r\n                    </div>)}\r\n                />;\r\n            case PhysicalCategories.AdvancedWeapons:\r\n                return <Carousel\r\n                    splitSize={10}\r\n                    inputDivs={advWeapons.map((weapon) => <div\r\n                        className={isItemSelected(idx, weapon.name) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                        onClick={() => updateSelectedItems(idx, { name: weapon.name, type: LootCategories.AdvancedWeapons })}\r\n                    >\r\n                        {weapon.name}\r\n                    </div>)}\r\n                />;\r\n            case PhysicalCategories.AlienTech:\r\n                return <Carousel\r\n                    splitSize={10}\r\n                    inputDivs={alienTech.map((artefact) => <div\r\n                        className={isItemSelected(idx, artefact.name) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                        onClick={() => updateSelectedItems(idx, { name: artefact.name, type: LootCategories.AlienTech })}\r\n                    >\r\n                        {artefact.name}\r\n                    </div>)}\r\n                />;\r\n            case DataCategories.Credits:\r\n                return <React.Fragment>{credits.map((choice) => <div\r\n                    className={isItemSelected(idx, choice.toString()) ? \"credits-selection selected\" : \"credits-selection\"}\r\n                    onClick={() => updateSelectedItems(idx, { name: choice.toString(), type: LootCategories.Credits })}\r\n                >\r\n                    {`${choice} \\xA5`}\r\n                </div>)}\r\n                </React.Fragment>;\r\n            case DataCategories.Information:\r\n                return <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>{getInformation(idx)}</div>;\r\n            case DataCategories.AdvancedTechnology:\r\n                return <Carousel\r\n                    splitSize={12}\r\n                    inputDivs={advTech.map((tech) => <div\r\n                        className={isItemSelected(idx, tech.name) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                        onClick={() => updateSelectedItems(idx, { name: tech.name, type: LootCategories.AdvancedTechnology })}\r\n                    >\r\n                        {tech.name}\r\n                    </div>)}\r\n                />;\r\n            case DataCategories.AdvancedWeapons:\r\n                return <Carousel\r\n                    splitSize={12}\r\n                    inputDivs={advWeapons.map((weapon) => <div\r\n                        className={isItemSelected(idx, weapon.name) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                        onClick={() => updateSelectedItems(idx, { name: weapon.name, type: LootCategories.AdvancedWeapons })}>{weapon.name}</div>)}\r\n                />;\r\n            case DataCategories.Secret:\r\n                return <div\r\n                    className={isItemSelected(idx, DataCategories.Secret) ? \"gear-selection selected\" : \"gear-selection\"}\r\n                    onClick={() => updateSelectedItems(idx, { name: \"Secret\", type: LootCategories.Secret })}>{DataCategories.Secret}</div>;\r\n            default:\r\n                return <React.Fragment></React.Fragment>;\r\n        }\r\n    };\r\n    const RenderSection = ({ idx }: { idx: number }) => <React.Fragment>\r\n        <div style={{ textAlign: \"left\" }} className=\"modal-header\">Token # {idx} Category</div>\r\n        <CategorySelection idx={idx} />\r\n        {selectedCategory ? <div style={{ textAlign: \"left\" }} className=\"modal-header\">Select item # {idx}</div> : undefined}\r\n        <LootSelection idx={idx} /></React.Fragment>;\r\n    return <React.Fragment>\r\n        <div className=\"chapter-header\">{lootType === LootType.Data ? \"Select Data Loot\" : \"Select Physical Loot\"}</div>\r\n        <div className=\"xp-btn\">\r\n            <div>{lootType === LootType.Data ? \"Data Loot collected\" : \"Physical Loot collected\"}</div>\r\n            <XPDropDown list={[\"0\", \"1\", \"2\", \"3\", \"4\"]} dropdownOptions={{ id: \"lootUnlocked\", placeholder: \"0\" }} callbackFn={(nr) => setLootTokensCollected(parseInt(nr, 10))} />\r\n        </div>\r\n        {\r\n            lootTokensCollected ?\r\n                lootTokensCollected > 1 ?\r\n                    <Carousel inputDivs={Array.from({ length: lootTokensCollected }).map((_val, idx) => <RenderSection idx={idx + 1} />)} splitSize={1} /> :\r\n                    <RenderSection idx={1} /> :\r\n                undefined}\r\n        <button\r\n            onClick={() => {\r\n                selectedItems?.forEach((item) => {\r\n                    if (item.selectedItem.type === LootCategories.Credits) {\r\n                        dispatch({\r\n                            type: ADD_CREDITS,\r\n                            payload: {\r\n                                credits: parseInt(item.selectedItem.name, 10),\r\n                                sign: true,\r\n                                record: `Looted ${item.selectedItem.name} credits`,\r\n                            },\r\n                        });\r\n                    } else {\r\n                        dispatch({\r\n                            type: ADD_LOOT,\r\n                            payload: item.selectedItem,\r\n                        });\r\n                    }\r\n                });\r\n                lootType === LootType.Physical ? history.push(\"/DataLootDeclaration\", LootType.Data) : history.push(\"/CrewOverview\");\r\n            }}\r\n            className={\"dialog-btn confirm-btn\"}\r\n        >Confirm</button>\r\n        <BackButtonComponent />\r\n    </React.Fragment>;\r\n};\r\n","import { LootType } from \"../../types\";\r\nimport { LootPage } from \"./Loot\";\r\n\r\nexport const DataLootPage = () => <LootPage lootType={LootType.Data} />;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BackButtonComponent } from \"../../components/common/BackButton\";\r\nimport { XPDropDown } from \"../../components/dropdowns/XPDropdown\";\r\nimport { ADD_XP } from \"../../redux/actions\";\r\nexport const ExperiencePage = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [crewMemberDied, setCrewMemberDied] = useState<boolean>(false);\r\n    const [lootUnlocked, setLootUnlocked] = useState<number>(0);\r\n    const [powerActivations, setPowerActivations] = useState<number>(0);\r\n    const [rivalsKilled, setRivalsKilled] = useState<number>(0);\r\n    const [npcsKilled, setNPCsKilled] = useState<number>(0);\r\n    const [scenarioSpecific, setScenarioSpecific] = useState<number>(0);\r\n    const getTotalXp = () => Math.min(300, (crewMemberDied ? 30 : 0) + (lootUnlocked * 20) + (powerActivations * 10) + (rivalsKilled * 10) + (npcsKilled * 5) + scenarioSpecific + 30);\r\n    return <React.Fragment>\r\n        <div className=\"chapter-header\">How much Experience did you gain?</div>\r\n        <div className=\"xp-btn\">\r\n\r\n            <div>Game Played</div>\r\n            <div style={{ margin: \"0rem\", opacity: 1 }} className=\"gear-selection disabled\">30 xp</div>\r\n        </div>\r\n        <div className={\"xp-btn\"}>\r\n            <div>At Least one own crew member killed (30xp)</div>\r\n            <XPDropDown list={[\"Yes\", \"No\"]} dropdownOptions={{ id: \"deadCrewman\", placeholder: \"No\" }} callbackFn={(answer) => answer === \"Yes\" ? setCrewMemberDied(true) : setCrewMemberDied(false)} />\r\n        </div>\r\n        <div className=\"xp-btn\">\r\n            <div>Loot tokens unlocked <br />(+20 xp)</div>\r\n            <XPDropDown list={[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"]} dropdownOptions={{ id: \"lootUnlocked\", placeholder: \"0\" }} callbackFn={(nr) => setLootUnlocked(parseInt(nr, 10))} />\r\n        </div>\r\n        <div className=\"xp-btn\">\r\n            <div>Successful power casts <br />(+10 xp / Max 100 xp)</div>\r\n            <XPDropDown list={[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\"]} dropdownOptions={{ id: \"powerActivated\", placeholder: \"0\" }} callbackFn={(nr) => setPowerActivations(parseInt(nr, 10))} />\r\n        </div>\r\n        <div className=\"xp-btn\">\r\n            <div>Rival crew members killed <br />(+10 xp / Max 40 xp)</div>\r\n            <XPDropDown list={[\"0\", \"1\", \"2\", \"3\", \"4\"]} dropdownOptions={{ id: \"rivalsKilled\", placeholder: \"0\" }} callbackFn={(nr) => setRivalsKilled(parseInt(nr, 10))} />\r\n        </div>\r\n        <div className=\"xp-btn\">\r\n            <div>NPCs killed <br />(+5 xp / Max 20 xp)</div>\r\n            <XPDropDown list={[\"0\", \"1\", \"2\", \"3\", \"4\"]} dropdownOptions={{ id: \"NPCsKilled\", placeholder: \"0\" }} callbackFn={(nr) => setNPCsKilled(parseInt(nr, 10))} />\r\n        </div>\r\n        <div></div>\r\n        <div className=\"xp-btn\">\r\n            <div>Scenario specific xp gained</div>\r\n            <XPDropDown list={[\"0\", \"5\", \"10\", \"15\", \"20\", \"25\", \"30\", \"35\", \"40\", \"45\", \"50\"]} dropdownOptions={{ id: \"scenarioXP\", placeholder: \"0\" }} callbackFn={(nr) => setScenarioSpecific(parseInt(nr, 10))} />\r\n        </div>\r\n        <div className=\"xp-btn selected\">\r\n\r\n            <div>Total Experience Gained <br />(Max 300 xp)</div>\r\n            <div style={{ margin: \"0rem\", opacity: 1, fontSize: \"1.2rem\" }} className=\"gear-selection disabled\">{getTotalXp()} XP</div>\r\n        </div>\r\n        <button\r\n            onClick={() => {\r\n                dispatch({\r\n                    type: ADD_XP,\r\n                    payload: getTotalXp(),\r\n                });\r\n                history.push(\"/LevelUp\");\r\n            }}\r\n            className={\"dialog-btn confirm-btn\"}\r\n        >Confirm</button>\r\n        <BackButtonComponent />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { BackgroundEnum, ModifiedPower, Power } from \"../types\";\r\nimport { getUnselectedPowers, isCorePower } from \"../Utils\";\r\nimport { Carousel } from \"./common/Carousel\";\r\n\r\nexport const SelectNewPowers = (\r\n    { currentPowers, background, updatePowers }:\r\n        { currentPowers: ModifiedPower[]; background: BackgroundEnum; updatePowers(value: ModifiedPower | undefined): void }\r\n) => {\r\n    const [selectedPower, setSelectedPower] = useState<ModifiedPower>();\r\n    const isPowerSelected = (power: Power) => selectedPower && selectedPower.name === power.name;\r\n    return <React.Fragment>\r\n        <div className=\"modal-header\">\r\n            {\"Choose 1 additional Power\"}\r\n            <div className=\"modal-sub-header\">{\"Swipe or use the page buttons to see more entries\"}</div>\r\n        </div>\r\n        <Carousel\r\n            splitSize={8}\r\n            inputDivs={getUnselectedPowers(currentPowers).map((power) =>\r\n                <div\r\n                    onClick={() => {\r\n                        if (selectedPower) {\r\n                            setSelectedPower(undefined);\r\n                            updatePowers(undefined);\r\n                        } else {\r\n                            setSelectedPower(power);\r\n                            updatePowers({ name: power.name, activation: isCorePower(power.name, background) ? power.activation : power.activation + 2 });\r\n                        }\r\n                    }}\r\n                    className={isPowerSelected(power) ? \"power-selection emphasized selected\" : selectedPower ? \"power-selection disabled\" : \"power-selection\"}\r\n                    key={`add_dialog_x_stat_${power.name}`}>\r\n\r\n                    <div>{power.name}</div>\r\n                    <div style={{\r\n                        fontSize: \"0.8rem\",\r\n                        fontWeight: \"normal\",\r\n                    }}>\r\n                        {isCorePower(power.name, background) ? power.activation : power.activation + 2} / {power.strain} / {Array.isArray(power.category) ? `${power.category.join(\", \")}` : power.category}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Carousel } from \"../../components/common/Carousel\";\r\nimport { CustomBackButtonComponent } from \"../../components/common/CustomBackButton\";\r\nimport { SelectNewPowers } from \"../../components/SelectNewPowers\";\r\nimport { REWIND_XP, SET_CAPTAIN, SET_FIRST_MATE } from \"../../redux/actions\";\r\nimport { BackgroundEnum, CrewState, LevelImprovements, LevelUpState, ModifiedPower, Power, Stats, StatsEnum } from \"../../types\";\r\nimport { getAdvancePerLevel, getPower } from \"../../Utils\";\r\ninterface LvlImprov {\r\n    LevelImprovement: LevelImprovements;\r\n    amount: number;\r\n}\r\nexport const LevelUpCharacterPage = ({ isCaptainCharacter, pageState }: { isCaptainCharacter: boolean; pageState: LevelUpState }) => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const character = isCaptainCharacter ? state.Captain : state.FirstMate;\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const levelsGained = isCaptainCharacter ? pageState.captainLevels : pageState.firstMateLevels;\r\n    const [selectedPowers, setSelectedPowers] = useState<ModifiedPower[]>([]);\r\n    const [newPower, setNewPower] = useState<ModifiedPower | undefined>(undefined);\r\n    const [selections, setSelections] = useState<Array<Partial<Stats>>>([]);\r\n    const isPowerSelected = (power: ModifiedPower) => !!selectedPowers.find((pwr) => pwr.name === power.name);\r\n    const isStatSelected = (statName: string) => selections.find((stat) => stat[statName as StatsEnum] !== undefined);\r\n    const improvedStats = () => {\r\n        const captainStats = character.stats;\r\n        let newStats: Stats = { ...captainStats };\r\n        selections.forEach((sel) => newStats = { ...newStats, ...sel });\r\n        return newStats;\r\n    };\r\n    const actualAdvances = () => {\r\n        const currentLevel = character.level;\r\n        const advances: LvlImprov[] = [];\r\n        for (let i = currentLevel + 1; i < currentLevel + 1 + levelsGained; i++) {\r\n            const advance = getAdvancePerLevel(i);\r\n            if (advance) {\r\n                const foundAdvance = advances.find((adv) => adv.LevelImprovement === advance);\r\n                if (foundAdvance) {\r\n                    const foundIdx = advances.findIndex((adv) => adv.LevelImprovement === advance);\r\n                    advances[foundIdx] = { LevelImprovement: advance, amount: foundAdvance.amount + 1 };\r\n                } else {\r\n                    advances.push({ LevelImprovement: advance, amount: 1 });\r\n                }\r\n            }\r\n        }\r\n        return advances;\r\n    };\r\n    const allDoneFn = () => {\r\n        const advances = actualAdvances();\r\n        let allDone = true;\r\n        for (const advance of advances) {\r\n            switch (advance.LevelImprovement) {\r\n                case LevelImprovements.LowerActivation:\r\n                    allDone = (advance.amount <= selectedPowers.length);\r\n                    break;\r\n                case LevelImprovements.ImproveStat:\r\n                    allDone = (advance.amount <= selections.length);\r\n                    break;\r\n                case LevelImprovements.NewPower:\r\n                    allDone = !!newPower;\r\n                    break;\r\n                case LevelImprovements.NewPowerOrImproveStat:\r\n                    if (pageState.choice === LevelImprovements.NewPower) {\r\n                        allDone = !!newPower;\r\n                    } else if (pageState.choice === LevelImprovements.ImproveStat) {\r\n                        allDone = (advance.amount <= selections.length);\r\n                    }\r\n            }\r\n        }\r\n        return allDone;\r\n    };\r\n    const statMaxed = (statName: StatsEnum) => {\r\n        switch (statName) {\r\n            case StatsEnum.Move:\r\n                return character.stats[StatsEnum.Move] >= 7;\r\n            case StatsEnum.Fight:\r\n                return character.stats[StatsEnum.Fight] >= 6;\r\n            case StatsEnum.Shoot:\r\n                return character.stats[StatsEnum.Shoot] >= 6;\r\n            case StatsEnum.Will:\r\n                return character.stats[StatsEnum.Will] >= 8;\r\n            case StatsEnum.Health:\r\n                return character.stats[StatsEnum.Health] >= 25;\r\n            default:\r\n                return true;\r\n        }\r\n    };\r\n    const renderPowerChoice = (advance: LvlImprov) => <React.Fragment>\r\n        <div className=\"modal-header\">{LevelImprovements.LowerActivation}\r\n            <div className=\"modal-sub-header\">Choose {advance.amount} {advance.amount > 1 ? \"different Powers\" : \"Power\"} </div>\r\n        </div>\r\n        {character.powers?.map((power) =>\r\n            <div\r\n                style={{ fontWeight: \"bold\" }}\r\n                className={isPowerSelected(power) ? \"background-power-selection full-width selected\" : selectedPowers.length >= advance.amount ? \"background-power-selection full-width disabled\" : \"background-power-selection full-width\"}\r\n                onClick={() => {\r\n                    if (selectedPowers.find((pwr) => pwr.name === power.name)) {\r\n                        setSelectedPowers(selectedPowers.filter((pwr) => pwr.name !== power.name));\r\n                    } else {\r\n                        if (selectedPowers.length >= advance.amount) {\r\n                            return;\r\n                        }\r\n                        setSelectedPowers([...selectedPowers, { ...power, activation: power.activation - 1 }]);\r\n                    }\r\n                }}\r\n                key={`add_dialog_x_stat_${power.name}`}\r\n            >\r\n                <div>{power.name} ({isPowerSelected(power) ? power.activation - 1 : power.activation})</div>\r\n                <div\r\n                    style={{ fontSize: \"0.8rem\", fontWeight: \"normal\" }}>\r\n                    {isPowerSelected(power) ?\r\n                        power.activation - 1 : power.activation} / {getPower(power.name).strain} / {Array.isArray(getPower(power.name).category) ? `${(getPower(power.name).category as string[]).join(\", \")}` :\r\n                            getPower(power.name).category}\r\n                </div>\r\n            </div>)}\r\n    </React.Fragment>;\r\n    const renderStatsChoice = (advance: LvlImprov) => <React.Fragment>\r\n        <div className=\"modal-header\">{LevelImprovements.ImproveStat}\r\n            <div className=\"modal-sub-header\">Only stats that are not maxed can be selected</div>\r\n        </div>\r\n        {[StatsEnum.Move, StatsEnum.Fight, StatsEnum.Shoot, StatsEnum.Will, StatsEnum.Health].map((statName) =>\r\n            !statMaxed(statName) ?\r\n                <div\r\n                    onClick={() => {\r\n                        if (isStatSelected(statName)) {\r\n                            setSelections(selections.filter((stat) => stat[statName] === undefined));\r\n                        } else {\r\n                            if (selections.length >= advance.amount) {\r\n                                return;\r\n                            }\r\n                            setSelections([...selections, { [statName]: character.stats[statName] + 1 }]);\r\n                        }\r\n                    }}\r\n                    className={isStatSelected(statName) ? \"background-stat-selection selected\" : selections.length >= advance.amount || statMaxed(statName) ? \"background-stat-selection disabled\" : \"background-stat-selection\"}\r\n                    key={`add_captain_dialog_opt_stat_${statName}`}>\r\n                    {statName} ({isStatSelected(statName) ? character.stats[statName] + 1 : character.stats[statName]})\r\n            </div> : undefined)}\r\n    </React.Fragment>;\r\n    const renderNewPowerChoice = (_advance: LvlImprov) => <React.Fragment>\r\n        <SelectNewPowers currentPowers={character.powers} background={character.background as BackgroundEnum} updatePowers={setNewPower} />\r\n    </React.Fragment>;\r\n\r\n    const renderLevelImprovements = (advance: LvlImprov, renderNodes: JSX.Element[]) => {\r\n        switch (advance.LevelImprovement) {\r\n            case LevelImprovements.LowerActivation:\r\n                renderNodes.push(renderPowerChoice(advance));\r\n                break;\r\n            case LevelImprovements.ImproveStat:\r\n                renderNodes.push(renderStatsChoice(advance));\r\n                break;\r\n            case LevelImprovements.NewPower:\r\n                renderNodes.push(renderNewPowerChoice(advance));\r\n                break;\r\n            case LevelImprovements.NewPowerOrImproveStat:\r\n                if (pageState.choice) {\r\n                    renderLevelImprovements({ LevelImprovement: pageState.choice, amount: 1 }, renderNodes);\r\n                }\r\n        }\r\n    };\r\n    const improvedPowers = () => (newPower ? [...character.powers as Power[], newPower] : character.powers as Power[]).map((power) => selectedPowers.find((pwr) => power.name === pwr.name) || power);\r\n    const renderAdvances = () => {\r\n        const renderNodes: JSX.Element[] = [];\r\n        const advances: LvlImprov[] = actualAdvances();\r\n        for (const advance of advances) {\r\n            renderLevelImprovements(advance, renderNodes);\r\n        }\r\n        return <Carousel\r\n            splitSize={1}\r\n            inputDivs={renderNodes}\r\n        />;\r\n    };\r\n\r\n    return <React.Fragment>\r\n        <div className=\"chapter-header\">{character.name}</div>\r\n        {renderAdvances()}\r\n        <button\r\n            onClick={() => {\r\n                dispatch({\r\n                    type: isCaptainCharacter ? SET_CAPTAIN : SET_FIRST_MATE,\r\n                    payload: { ...character, level: character.level + levelsGained, powers: improvedPowers(), stats: improvedStats() },\r\n                });\r\n                if (isCaptainCharacter && pageState.firstMateLevels) {\r\n                    history.push(\"/LevelUpFirstMate\", pageState);\r\n                } else {\r\n                    history.push(\"/PhysicalLootDeclaration\");\r\n                }\r\n            }}\r\n            className={allDoneFn() ? \"dialog-btn confirm-btn\" : \"dialog-btn confirm-btn disabled\"}\r\n        >Confirm</button>\r\n        <CustomBackButtonComponent dispatchFunction={() => isCaptainCharacter ? dispatch({ type: REWIND_XP }) : undefined} />\r\n    </React.Fragment>;\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { LevelUpState } from \"../../types\";\r\nimport { LevelUpCharacterPage } from \"./LevelUpPage\";\r\nexport const LevelUpCaptainPage = () => {\r\n    const history = useHistory();\r\n    return <LevelUpCharacterPage isCaptainCharacter={true} pageState={history.location.state as LevelUpState} />;\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { LevelUpState } from \"../../types\";\r\nimport { LevelUpCharacterPage } from \"./LevelUpPage\";\r\nexport const LevelUpFirstMatePage = () => {\r\n    const history = useHistory();\r\n    return <LevelUpCharacterPage isCaptainCharacter={false} pageState={history.location.state as LevelUpState} />;\r\n};\r\n","import { LootType } from \"../../types\";\r\nimport { LootPage } from \"./Loot\";\r\n\r\nexport const PhysicalLootPage = () => <LootPage lootType={LootType.Physical} />;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ReactReduxContext, useDispatch } from \"react-redux\";\r\nimport { PageBackBtnComponent } from \"../../components/common/BackButton\";\r\nimport { CargoTile, TileButton } from \"../../components/DetailsTile\";\r\nimport { UpgradeItem } from \"../../components/ListItem\";\r\nimport { getUpgradeImage } from \"../../images\";\r\nimport { SHIP_UPGRADE } from \"../../redux/actions\";\r\nimport { CrewState, ShipUpgrade } from \"../../types\";\r\nimport { getShipUpgrades } from \"../../Utils\";\r\nexport const ShipUpgradesPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    const dispatch = useDispatch();\r\n    const [confirmation, setConfirmation] = useState<ShipUpgrade | undefined>(undefined);\r\n\r\n    const UpgradeDialog = () => <React.Fragment>\r\n        {confirmation ? <div className=\"modal\">\r\n            <div className=\"modal-header\">Do you really want to buy this upgrade?</div>\r\n            <CargoTile\r\n                icon={getUpgradeImage(confirmation)}\r\n                name={confirmation.name}\r\n                details={confirmation.notes}\r\n                bottomButton={\r\n                    <TileButton\r\n                        isDisabled={confirmation.cost > state.Credits}\r\n                        clickHandler={() => {\r\n                            dispatch({ type: SHIP_UPGRADE, payload: { name: confirmation.name, cost: confirmation.cost } });\r\n                            setConfirmation(undefined);\r\n                        }}\r\n                        text={`Upgrade your ship for ${confirmation.cost} \\xA5`}\r\n                    />\r\n                }\r\n            />\r\n            <div style={{ padding: \"1rem 2rem\", marginLeft: \"1rem\", textAlign: \"center\" }} className=\"page-btn\" onClick={() => setConfirmation(undefined)}>Back</div>\r\n        </div> : undefined}\r\n    </React.Fragment>;\r\n    const Upgrades = () => <div className=\"flex-container\">\r\n        <div className=\"chapter-header\">Purchase upgrades</div>\r\n        {getShipUpgrades().map((upgrade) =>\r\n            <UpgradeItem\r\n                clickHandler={() => !state.ShipUpgrades.find((shipUpgrades) => shipUpgrades === upgrade.name) ? setConfirmation(upgrade) : undefined}\r\n                isDisabled={false}\r\n                isSelected={!!state.ShipUpgrades.find((shipUpgrades) => shipUpgrades === upgrade.name)}\r\n                item={upgrade} />)}\r\n        <PageBackBtnComponent />\r\n    </div>;\r\n    return <React.Fragment>\r\n        {<UpgradeDialog />}\r\n        <Upgrades />\r\n    </React.Fragment>;\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { ReactReduxContext } from \"react-redux\";\r\nimport { BackButtonComponent } from \"../../components/common/BackButton\";\r\nimport { TreasuryIcon } from \"../../images\";\r\nimport { CrewState } from \"../../types\";\r\nexport const TransactionHistoryPage = () => {\r\n    const { store } = useContext(ReactReduxContext);\r\n    const state = store.getState() as CrewState;\r\n    return <div className=\"flex-container\" >\r\n        <div style={{ overflowY: \"scroll\" }}>\r\n            <div className=\"chapter-header\">Transaction log</div>\r\n            {\r\n                state.CreditRecords.map((record) => <div className=\"transaction-list\">\r\n                    <div>{record.record}</div>\r\n                    <div style={{ textAlign: \"center\" }}>{record.sign ? \"+\" : \"-\"} {`${record.credits} \\xA5`}</div>\r\n                </div>)\r\n            }\r\n            <div\r\n                className=\"transaction-sum\"\r\n                title={\"Current amount of credits in your treasury\"}>\r\n                <div>Current Treasury</div>\r\n                <img\r\n                    style={{ placeSelf: \"normal\" }}\r\n                    src={TreasuryIcon}\r\n                    className={\"toolbar-compact-icon\"}\r\n                    id={\"TreasuryIcon\"}\r\n                    alt={\"TreasuryIcon\"}>\r\n                </img>\r\n                <div style={{ fontSize: \"1.5rem\" }}>\r\n                    {`${state.Credits} \\xA5`}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <BackButtonComponent />\r\n    </div >;\r\n};\r\n","import React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { connect, Provider } from \"react-redux\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { compose, createStore } from \"redux\";\nimport \"./App.css\";\nimport {\n  CharacterBackgroundPage, CharacterNamePage, CharacterNonCorePowerSelectionPage, CharacterPowerImprovementsPage,\n  CharacterPowerSelectionPage, CharacterSelectGearPage, CharacterStatsSelectionPage,\n  CrewPage, DataLootPage, EquipmentPage, ExperiencePage, FileOperationsPage,\n  FileSystemPage, LandingPage, LevelUpCaptainPage,\n  LevelUpFirstMatePage, LevelUpPage, PdfExportPage, PhysicalLootPage, PostGameSequencePage,\n  ShipNamePage, ShipsCargoPage, ShoppingPage, SoldierEquipmentPage, SoldierSelectionPage, TransactionsPage\n} from \"./pages\";\nimport { ShipUpgradesPage } from \"./pages/Overview/ShipUpgradesPage\";\nimport { TransactionHistoryPage } from \"./pages/Overview/TransactionHistoryPage\";\nimport { stateReducer } from \"./redux/reducer\";\n\nconst App = () =>\n  <BrowserRouter>\n    <div className=\"app-body\">\n      <Switch>\n        <Route path=\"/ShipName\" component={ShipNamePage} />\n        <Route path=\"/CharacterName\" component={CharacterNamePage} />\n        <Route path=\"/CharacterBackground\" component={CharacterBackgroundPage} />\n        <Route path=\"/CharacterStatsSelection\" component={CharacterStatsSelectionPage} />\n        <Route path=\"/CharacterPowerSelection\" component={CharacterPowerSelectionPage} />\n        <Route path=\"/CharacterNonCorePowerSelection\" component={CharacterNonCorePowerSelectionPage} />\n        <Route path=\"/CharacterImprovePowers\" component={CharacterPowerImprovementsPage} />\n        <Route path=\"/CharacterSelectGear\" component={CharacterSelectGearPage} />\n        <Route path=\"/SoldierSelection\" component={SoldierSelectionPage} />\n        <Route path=\"/CrewOverview\" component={CrewPage} />\n        <Route path=\"/FileOperations\" component={FileOperationsPage} />\n        <Route path=\"/FileSystem\" component={FileSystemPage} />\n        <Route path=\"/Experience\" component={ExperiencePage} />\n        <Route path=\"/LevelUp\" component={LevelUpPage} />\n        <Route path=\"/LevelUpCaptain\" component={LevelUpCaptainPage} />\n        <Route path=\"/LevelUpFirstMate\" component={LevelUpFirstMatePage} />\n        <Route path=\"/PhysicalLootDeclaration\" component={PhysicalLootPage} />\n        <Route path=\"/DataLootDeclaration\" component={DataLootPage} />\n        <Route path=\"/PostGameSequence\" component={PostGameSequencePage} />\n        <Route path=\"/TransactionHistory\" component={TransactionHistoryPage} />\n        <Route path=\"/PdfExport\" component={PdfExportPage} />\n        <Route path=\"/ShipsCargo\" component={ShipsCargoPage} />\n        <Route path=\"/ShipUpgrades\" component={ShipUpgradesPage} />\n        <Route path=\"/SoldierEquipment\" component={SoldierEquipmentPage} />\n        <Route path=\"/Equipment\" component={EquipmentPage} />\n        <Route path=\"/Transactions\" component={TransactionsPage} />\n        <Route path=\"/Shopping\" component={ShoppingPage} />\n        <Route path=\"/\" component={LandingPage} />\n      </Switch>\n    </div>\n  </BrowserRouter>;\n\nexport const AppContainer = connect()(App);\nexport const store = createStore(stateReducer, compose(typeof window === \"object\" &&\n  typeof (window as any).devToolsExtension !== \"undefined\" ?\n  (window as any).devToolsExtension() :\n  (f: any) => f\n));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { CrewState, InitialCrewState } from \"../types\";\r\nimport * as ReduxActions from \"./actions\";\r\n\r\n// tslint:disable-next-line: cyclomatic-complexity\r\nexport function stateReducer(state: CrewState = InitialCrewState, action: ReduxActions.Actions): CrewState {\r\n    const xpRecords = state.ExperienceRecords;\r\n    switch (action.type) {\r\n        case ReduxActions.ADD_XP:\r\n            return { ...state, Experience: state.Experience + action.payload, ExperienceRecords: [...xpRecords, state.Experience + action.payload] };\r\n        case ReduxActions.SPEND_XP:\r\n            return { ...state, Experience: state.Experience - action.payload, ExperienceRecords: [...xpRecords, state.Experience - action.payload] };\r\n        case ReduxActions.REWIND_XP:\r\n            return { ...state, Experience: xpRecords.length > 1 ? xpRecords[xpRecords.length - 2] : xpRecords[0], ExperienceRecords: xpRecords.length > 1 ? xpRecords.slice(0, xpRecords.length - 1) : xpRecords };\r\n        case ReduxActions.ADD_LOOT:\r\n            return { ...state, Cargo: [...state.Cargo, action.payload] };\r\n        case ReduxActions.BUY_LOOT:\r\n            return {\r\n                ...state,\r\n                Cargo: [...state.Cargo, action.payload.loot],\r\n                Credits: state.Credits - action.payload.credits,\r\n                CreditRecords: [...state.CreditRecords, { credits: action.payload.credits, sign: false, record: `Bought ${action.payload.loot.name}` }],\r\n            };\r\n        case ReduxActions.SELL_LOOT:\r\n            const inventoryId = state.Cargo.findIndex((item) => item.name === action.payload.loot.name);\r\n            if (inventoryId > -1) {\r\n                const hold = state.Cargo;\r\n                hold.splice(inventoryId, 1);\r\n                return action.payload.credits ?\r\n                    {\r\n                        ...state,\r\n                        Cargo: hold,\r\n                        Credits: state.Credits + action.payload.credits,\r\n                        CreditRecords: [...state.CreditRecords, { credits: action.payload.credits, sign: true, record: `Sold ${action.payload.loot.name}` }],\r\n                    } : {\r\n                        ...state,\r\n                        Cargo: hold,\r\n                    };\r\n            }\r\n            return state;\r\n        case ReduxActions.REMOVE_LOOT_FROM_CARGO_BAY:\r\n            const cargoId = state.Cargo.findIndex((item) => item.name === action.payload.loot.name);\r\n            if (cargoId > -1) {\r\n                const hold = state.Cargo;\r\n                hold.splice(cargoId, 1);\r\n                return {\r\n                    ...state,\r\n                    Cargo: hold,\r\n                };\r\n            }\r\n            return state;\r\n        case ReduxActions.SET_CREW:\r\n            return action.payload;\r\n        case ReduxActions.SET_SHIPNAME:\r\n            return { ...state, ShipName: action.payload };\r\n        case ReduxActions.SET_CAPTAINS_NAME:\r\n            return { ...state, Captain: { ...state.Captain, name: action.payload } };\r\n        case ReduxActions.SET_CAPTAINS_BACKGROUND:\r\n            return { ...state, Captain: { ...state.Captain, background: action.payload } };\r\n        case ReduxActions.SET_CAPTAINS_GEAR:\r\n            return { ...state, Captain: { ...state.Captain, gear: action.payload } };\r\n        case ReduxActions.SET_CAPTAINS_POWERS:\r\n            return { ...state, Captain: { ...state.Captain, powers: action.payload } };\r\n        case ReduxActions.SET_CAPTAINS_STATS:\r\n            return { ...state, Captain: { ...state.Captain, stats: action.payload } };\r\n        case ReduxActions.SET_FIRSTMATE_NAME:\r\n            return { ...state, FirstMate: { ...state.FirstMate, name: action.payload } };\r\n        case ReduxActions.SET_FIRSTMATE_BACKGROUND:\r\n            return { ...state, FirstMate: { ...state.FirstMate, background: action.payload } };\r\n        case ReduxActions.SET_FIRSTMATE_GEAR:\r\n            return { ...state, FirstMate: { ...state.FirstMate, gear: action.payload } };\r\n        case ReduxActions.SET_FIRSTMATE_POWERS:\r\n            return { ...state, FirstMate: { ...state.FirstMate, powers: action.payload } };\r\n        case ReduxActions.SET_FIRSTMATE_STATS:\r\n            return { ...state, FirstMate: { ...state.FirstMate, stats: action.payload } };\r\n        case ReduxActions.SET_CAPTAIN:\r\n            return { ...state, Captain: action.payload };\r\n        case ReduxActions.SET_FIRST_MATE:\r\n            return { ...state, FirstMate: action.payload };\r\n        case ReduxActions.ADD_SOLDIERS:\r\n            const transactionList = action.payload.map((soldier) => ({ credits: soldier.cost, sign: false, record: `Hired a ${soldier.type} named ${soldier.name}` }));\r\n            return {\r\n                ...state,\r\n                Soldiers: state.Soldiers ? [...state.Soldiers, ...action.payload] : action.payload,\r\n                Credits: state.Credits - action.payload.reduce((acc, soldier) => acc + soldier.cost, 0),\r\n                CreditRecords: [...state.CreditRecords, ...transactionList],\r\n            };\r\n        case ReduxActions.ADD_CREDITS:\r\n            return {\r\n                ...state,\r\n                Credits: state.Credits + action.payload.credits,\r\n                CreditRecords: [...state.CreditRecords, action.payload],\r\n            };\r\n        case ReduxActions.REMOVE_CREDITS:\r\n            return {\r\n                ...state,\r\n                Credits: state.Credits - action.payload.credits,\r\n                CreditRecords: [...state.CreditRecords, action.payload],\r\n            };\r\n        case ReduxActions.MODIFY_SOLDIER:\r\n            const idx = state.Soldiers.findIndex((sol) => sol.name === action.payload.name && sol.type === action.payload.type);\r\n            state.Soldiers[idx] = action.payload;\r\n            return state;\r\n        case ReduxActions.REMOVE_SOLDIERS:\r\n            return {\r\n                ...state,\r\n                Soldiers: state.Soldiers.filter((soldier) => action.payload.find((sold) => sold.name === soldier.name && sold.type === soldier.type) === undefined),\r\n            };\r\n        case ReduxActions.CONVERT_INFORMATION:\r\n            const invId = state.Cargo.findIndex((item) => item.name === action.payload.loot.name);\r\n            if (invId > -1) {\r\n                const hold = state.Cargo;\r\n                hold.splice(invId, 1);\r\n                return {\r\n                    ...state, Cargo: hold, Experience: state.Experience + 20, ExperienceRecords: [...xpRecords, state.Experience + 20],\r\n                };\r\n            }\r\n            return state;\r\n        case ReduxActions.SHIP_UPGRADE:\r\n            return {\r\n                ...state,\r\n                ShipUpgrades: [...state.ShipUpgrades, action.payload.name],\r\n                Credits: state.Credits - action.payload.cost,\r\n                CreditRecords: [...state.CreditRecords, { credits: action.payload.cost, sign: false, record: `Upgraded ship with ${action.payload.name}` }],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n"],"sourceRoot":""}